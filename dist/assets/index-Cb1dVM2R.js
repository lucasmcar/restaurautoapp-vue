(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Lu(n){const t=Object.create(null);for(const e of n.split(","))t[e]=1;return e=>e in t}const Vt={},vs=[],cn=()=>{},ET=()=>!1,il=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Mu=n=>n.startsWith("onUpdate:"),ye=Object.assign,Fu=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},TT=Object.prototype.hasOwnProperty,Pt=(n,t)=>TT.call(n,t),ft=Array.isArray,Es=n=>ol(n)==="[object Map]",eg=n=>ol(n)==="[object Set]",_t=n=>typeof n=="function",Wt=n=>typeof n=="string",wr=n=>typeof n=="symbol",Ft=n=>n!==null&&typeof n=="object",ng=n=>(Ft(n)||_t(n))&&_t(n.then)&&_t(n.catch),rg=Object.prototype.toString,ol=n=>rg.call(n),wT=n=>ol(n).slice(8,-1),sg=n=>ol(n)==="[object Object]",$u=n=>Wt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Di=Lu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),al=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},AT=/-(\w)/g,He=al(n=>n.replace(AT,(t,e)=>e?e.toUpperCase():"")),IT=/\B([A-Z])/g,Gr=al(n=>n.replace(IT,"-$1").toLowerCase()),ll=al(n=>n.charAt(0).toUpperCase()+n.slice(1)),ic=al(n=>n?`on${ll(n)}`:""),sr=(n,t)=>!Object.is(n,t),aa=(n,...t)=>{for(let e=0;e<n.length;e++)n[e](...t)},ig=(n,t,e,r=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:r,value:e})},qc=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let ed;const cl=()=>ed||(ed=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Uu(n){if(ft(n)){const t={};for(let e=0;e<n.length;e++){const r=n[e],s=Wt(r)?RT(r):Uu(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Wt(n)||Ft(n))return n}const bT=/;(?![^(]*\))/g,ST=/:([^]+)/,CT=/\/\*[^]*?\*\//g;function RT(n){const t={};return n.replace(CT,"").split(bT).forEach(e=>{if(e){const r=e.split(ST);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Bu(n){let t="";if(Wt(n))t=n;else if(ft(n))for(let e=0;e<n.length;e++){const r=Bu(n[e]);r&&(t+=r+" ")}else if(Ft(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}const PT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",OT=Lu(PT);function og(n){return!!n||n===""}const ag=n=>!!(n&&n.__v_isRef===!0),bi=n=>Wt(n)?n:n==null?"":ft(n)||Ft(n)&&(n.toString===rg||!_t(n.toString))?ag(n)?bi(n.value):JSON.stringify(n,lg,2):String(n),lg=(n,t)=>ag(t)?lg(n,t.value):Es(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[r,s],i)=>(e[oc(r,i)+" =>"]=s,e),{})}:eg(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>oc(e))}:wr(t)?oc(t):Ft(t)&&!ft(t)&&!sg(t)?String(t):t,oc=(n,t="")=>{var e;return wr(n)?`Symbol(${(e=n.description)!=null?e:t})`:n};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Se;class NT{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Se,!t&&Se&&(this.index=(Se.scopes||(Se.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=Se;try{return Se=this,t()}finally{Se=e}}}on(){++this._on===1&&(this.prevScope=Se,Se=this)}off(){this._on>0&&--this._on===0&&(Se=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let e,r;for(e=0,r=this.effects.length;e<r;e++)this.effects[e].stop();for(this.effects.length=0,e=0,r=this.cleanups.length;e<r;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function DT(){return Se}let xt;const ac=new WeakSet;class cg{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Se&&Se.active&&Se.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ac.has(this)&&(ac.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||hg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,nd(this),fg(this);const t=xt,e=Je;xt=this,Je=!0;try{return this.fn()}finally{dg(this),xt=t,Je=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Wu(t);this.deps=this.depsTail=void 0,nd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ac.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Kc(this)&&this.run()}get dirty(){return Kc(this)}}let ug=0,ki,Vi;function hg(n,t=!1){if(n.flags|=8,t){n.next=Vi,Vi=n;return}n.next=ki,ki=n}function ju(){ug++}function Hu(){if(--ug>0)return;if(Vi){let t=Vi;for(Vi=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let n;for(;ki;){let t=ki;for(ki=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){n||(n=r)}t=e}}if(n)throw n}function fg(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function dg(n){let t,e=n.depsTail,r=e;for(;r;){const s=r.prevDep;r.version===-1?(r===e&&(e=s),Wu(r),kT(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}n.deps=t,n.depsTail=e}function Kc(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(pg(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function pg(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Gi)||(n.globalVersion=Gi,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Kc(n))))return;n.flags|=2;const t=n.dep,e=xt,r=Je;xt=n,Je=!0;try{fg(n);const s=n.fn(n._value);(t.version===0||sr(s,n._value))&&(n.flags|=128,n._value=s,t.version++)}catch(s){throw t.version++,s}finally{xt=e,Je=r,dg(n),n.flags&=-3}}function Wu(n,t=!1){const{dep:e,prevSub:r,nextSub:s}=n;if(r&&(r.nextSub=s,n.prevSub=void 0),s&&(s.prevSub=r,n.nextSub=void 0),e.subs===n&&(e.subs=r,!r&&e.computed)){e.computed.flags&=-5;for(let i=e.computed.deps;i;i=i.nextDep)Wu(i,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function kT(n){const{prevDep:t,nextDep:e}=n;t&&(t.nextDep=e,n.prevDep=void 0),e&&(e.prevDep=t,n.nextDep=void 0)}let Je=!0;const mg=[];function Vn(){mg.push(Je),Je=!1}function xn(){const n=mg.pop();Je=n===void 0?!0:n}function nd(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const e=xt;xt=void 0;try{t()}finally{xt=e}}}let Gi=0;class VT{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qu{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!xt||!Je||xt===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==xt)e=this.activeLink=new VT(xt,this),xt.deps?(e.prevDep=xt.depsTail,xt.depsTail.nextDep=e,xt.depsTail=e):xt.deps=xt.depsTail=e,gg(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const r=e.nextDep;r.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=r),e.prevDep=xt.depsTail,e.nextDep=void 0,xt.depsTail.nextDep=e,xt.depsTail=e,xt.deps===e&&(xt.deps=r)}return e}trigger(t){this.version++,Gi++,this.notify(t)}notify(t){ju();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{Hu()}}}function gg(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)gg(r)}const e=n.dep.subs;e!==n&&(n.prevSub=e,e&&(e.nextSub=n)),n.dep.subs=n}}const zc=new WeakMap,Fr=Symbol(""),Gc=Symbol(""),Yi=Symbol("");function pe(n,t,e){if(Je&&xt){let r=zc.get(n);r||zc.set(n,r=new Map);let s=r.get(e);s||(r.set(e,s=new qu),s.map=r,s.key=e),s.track()}}function Sn(n,t,e,r,s,i){const o=zc.get(n);if(!o){Gi++;return}const l=c=>{c&&c.trigger()};if(ju(),t==="clear")o.forEach(l);else{const c=ft(n),h=c&&$u(e);if(c&&e==="length"){const f=Number(r);o.forEach((p,m)=>{(m==="length"||m===Yi||!wr(m)&&m>=f)&&l(p)})}else switch((e!==void 0||o.has(void 0))&&l(o.get(e)),h&&l(o.get(Yi)),t){case"add":c?h&&l(o.get("length")):(l(o.get(Fr)),Es(n)&&l(o.get(Gc)));break;case"delete":c||(l(o.get(Fr)),Es(n)&&l(o.get(Gc)));break;case"set":Es(n)&&l(o.get(Fr));break}}Hu()}function is(n){const t=Rt(n);return t===n?t:(pe(t,"iterate",Yi),Be(n)?t:t.map(re))}function ul(n){return pe(n=Rt(n),"iterate",Yi),n}const xT={__proto__:null,[Symbol.iterator](){return lc(this,Symbol.iterator,re)},concat(...n){return is(this).concat(...n.map(t=>ft(t)?is(t):t))},entries(){return lc(this,"entries",n=>(n[1]=re(n[1]),n))},every(n,t){return An(this,"every",n,t,void 0,arguments)},filter(n,t){return An(this,"filter",n,t,e=>e.map(re),arguments)},find(n,t){return An(this,"find",n,t,re,arguments)},findIndex(n,t){return An(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return An(this,"findLast",n,t,re,arguments)},findLastIndex(n,t){return An(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return An(this,"forEach",n,t,void 0,arguments)},includes(...n){return cc(this,"includes",n)},indexOf(...n){return cc(this,"indexOf",n)},join(n){return is(this).join(n)},lastIndexOf(...n){return cc(this,"lastIndexOf",n)},map(n,t){return An(this,"map",n,t,void 0,arguments)},pop(){return Ei(this,"pop")},push(...n){return Ei(this,"push",n)},reduce(n,...t){return rd(this,"reduce",n,t)},reduceRight(n,...t){return rd(this,"reduceRight",n,t)},shift(){return Ei(this,"shift")},some(n,t){return An(this,"some",n,t,void 0,arguments)},splice(...n){return Ei(this,"splice",n)},toReversed(){return is(this).toReversed()},toSorted(n){return is(this).toSorted(n)},toSpliced(...n){return is(this).toSpliced(...n)},unshift(...n){return Ei(this,"unshift",n)},values(){return lc(this,"values",re)}};function lc(n,t,e){const r=ul(n),s=r[t]();return r!==n&&!Be(n)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=e(i.value)),i}),s}const LT=Array.prototype;function An(n,t,e,r,s,i){const o=ul(n),l=o!==n&&!Be(n),c=o[t];if(c!==LT[t]){const p=c.apply(n,i);return l?re(p):p}let h=e;o!==n&&(l?h=function(p,m){return e.call(this,re(p),m,n)}:e.length>2&&(h=function(p,m){return e.call(this,p,m,n)}));const f=c.call(o,h,r);return l&&s?s(f):f}function rd(n,t,e,r){const s=ul(n);let i=e;return s!==n&&(Be(n)?e.length>3&&(i=function(o,l,c){return e.call(this,o,l,c,n)}):i=function(o,l,c){return e.call(this,o,re(l),c,n)}),s[t](i,...r)}function cc(n,t,e){const r=Rt(n);pe(r,"iterate",Yi);const s=r[t](...e);return(s===-1||s===!1)&&Gu(e[0])?(e[0]=Rt(e[0]),r[t](...e)):s}function Ei(n,t,e=[]){Vn(),ju();const r=Rt(n)[t].apply(n,e);return Hu(),xn(),r}const MT=Lu("__proto__,__v_isRef,__isVue"),_g=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(wr));function FT(n){wr(n)||(n=String(n));const t=Rt(this);return pe(t,"has",n),t.hasOwnProperty(n)}class yg{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,r){if(e==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(e==="__v_isReactive")return!s;if(e==="__v_isReadonly")return s;if(e==="__v_isShallow")return i;if(e==="__v_raw")return r===(s?i?GT:wg:i?Tg:Eg).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=ft(t);if(!s){let c;if(o&&(c=xT[e]))return c;if(e==="hasOwnProperty")return FT}const l=Reflect.get(t,e,_e(t)?t:r);return(wr(e)?_g.has(e):MT(e))||(s||pe(t,"get",e),i)?l:_e(l)?o&&$u(e)?l:l.value:Ft(l)?s?Ig(l):uo(l):l}}class vg extends yg{constructor(t=!1){super(!1,t)}set(t,e,r,s){let i=t[e];if(!this._isShallow){const c=fr(i);if(!Be(r)&&!fr(r)&&(i=Rt(i),r=Rt(r)),!ft(t)&&_e(i)&&!_e(r))return c?!1:(i.value=r,!0)}const o=ft(t)&&$u(e)?Number(e)<t.length:Pt(t,e),l=Reflect.set(t,e,r,_e(t)?t:s);return t===Rt(s)&&(o?sr(r,i)&&Sn(t,"set",e,r):Sn(t,"add",e,r)),l}deleteProperty(t,e){const r=Pt(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&r&&Sn(t,"delete",e,void 0),s}has(t,e){const r=Reflect.has(t,e);return(!wr(e)||!_g.has(e))&&pe(t,"has",e),r}ownKeys(t){return pe(t,"iterate",ft(t)?"length":Fr),Reflect.ownKeys(t)}}class $T extends yg{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const UT=new vg,BT=new $T,jT=new vg(!0);const Yc=n=>n,Wo=n=>Reflect.getPrototypeOf(n);function HT(n,t,e){return function(...r){const s=this.__v_raw,i=Rt(s),o=Es(i),l=n==="entries"||n===Symbol.iterator&&o,c=n==="keys"&&o,h=s[n](...r),f=e?Yc:t?ba:re;return!t&&pe(i,"iterate",c?Gc:Fr),{next(){const{value:p,done:m}=h.next();return m?{value:p,done:m}:{value:l?[f(p[0]),f(p[1])]:f(p),done:m}},[Symbol.iterator](){return this}}}}function qo(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function WT(n,t){const e={get(s){const i=this.__v_raw,o=Rt(i),l=Rt(s);n||(sr(s,l)&&pe(o,"get",s),pe(o,"get",l));const{has:c}=Wo(o),h=t?Yc:n?ba:re;if(c.call(o,s))return h(i.get(s));if(c.call(o,l))return h(i.get(l));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!n&&pe(Rt(s),"iterate",Fr),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Rt(i),l=Rt(s);return n||(sr(s,l)&&pe(o,"has",s),pe(o,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const o=this,l=o.__v_raw,c=Rt(l),h=t?Yc:n?ba:re;return!n&&pe(c,"iterate",Fr),l.forEach((f,p)=>s.call(i,h(f),h(p),o))}};return ye(e,n?{add:qo("add"),set:qo("set"),delete:qo("delete"),clear:qo("clear")}:{add(s){!t&&!Be(s)&&!fr(s)&&(s=Rt(s));const i=Rt(this);return Wo(i).has.call(i,s)||(i.add(s),Sn(i,"add",s,s)),this},set(s,i){!t&&!Be(i)&&!fr(i)&&(i=Rt(i));const o=Rt(this),{has:l,get:c}=Wo(o);let h=l.call(o,s);h||(s=Rt(s),h=l.call(o,s));const f=c.call(o,s);return o.set(s,i),h?sr(i,f)&&Sn(o,"set",s,i):Sn(o,"add",s,i),this},delete(s){const i=Rt(this),{has:o,get:l}=Wo(i);let c=o.call(i,s);c||(s=Rt(s),c=o.call(i,s)),l&&l.call(i,s);const h=i.delete(s);return c&&Sn(i,"delete",s,void 0),h},clear(){const s=Rt(this),i=s.size!==0,o=s.clear();return i&&Sn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=HT(s,n,t)}),e}function Ku(n,t){const e=WT(n,t);return(r,s,i)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?r:Reflect.get(Pt(e,s)&&s in r?e:r,s,i)}const qT={get:Ku(!1,!1)},KT={get:Ku(!1,!0)},zT={get:Ku(!0,!1)};const Eg=new WeakMap,Tg=new WeakMap,wg=new WeakMap,GT=new WeakMap;function YT(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function QT(n){return n.__v_skip||!Object.isExtensible(n)?0:YT(wT(n))}function uo(n){return fr(n)?n:zu(n,!1,UT,qT,Eg)}function Ag(n){return zu(n,!1,jT,KT,Tg)}function Ig(n){return zu(n,!0,BT,zT,wg)}function zu(n,t,e,r,s){if(!Ft(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const i=QT(n);if(i===0)return n;const o=s.get(n);if(o)return o;const l=new Proxy(n,i===2?r:e);return s.set(n,l),l}function Ts(n){return fr(n)?Ts(n.__v_raw):!!(n&&n.__v_isReactive)}function fr(n){return!!(n&&n.__v_isReadonly)}function Be(n){return!!(n&&n.__v_isShallow)}function Gu(n){return n?!!n.__v_raw:!1}function Rt(n){const t=n&&n.__v_raw;return t?Rt(t):n}function XT(n){return!Pt(n,"__v_skip")&&Object.isExtensible(n)&&ig(n,"__v_skip",!0),n}const re=n=>Ft(n)?uo(n):n,ba=n=>Ft(n)?Ig(n):n;function _e(n){return n?n.__v_isRef===!0:!1}function Sa(n){return bg(n,!1)}function JT(n){return bg(n,!0)}function bg(n,t){return _e(n)?n:new ZT(n,t)}class ZT{constructor(t,e){this.dep=new qu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:Rt(t),this._value=e?t:re(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,r=this.__v_isShallow||Be(t)||fr(t);t=r?t:Rt(t),sr(t,e)&&(this._rawValue=t,this._value=r?t:re(t),this.dep.trigger())}}function ws(n){return _e(n)?n.value:n}const tw={get:(n,t,e)=>t==="__v_raw"?n:ws(Reflect.get(n,t,e)),set:(n,t,e,r)=>{const s=n[t];return _e(s)&&!_e(e)?(s.value=e,!0):Reflect.set(n,t,e,r)}};function Sg(n){return Ts(n)?n:new Proxy(n,tw)}class ew{constructor(t,e,r){this.fn=t,this.setter=e,this._value=void 0,this.dep=new qu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&xt!==this)return hg(this,!0),!0}get value(){const t=this.dep.track();return pg(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function nw(n,t,e=!1){let r,s;return _t(n)?r=n:(r=n.get,s=n.set),new ew(r,s,e)}const Ko={},Ca=new WeakMap;let Dr;function rw(n,t=!1,e=Dr){if(e){let r=Ca.get(e);r||Ca.set(e,r=[]),r.push(n)}}function sw(n,t,e=Vt){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:l,call:c}=e,h=x=>s?x:Be(x)||s===!1||s===0?Cn(x,1):Cn(x);let f,p,m,_,R=!1,O=!1;if(_e(n)?(p=()=>n.value,R=Be(n)):Ts(n)?(p=()=>h(n),R=!0):ft(n)?(O=!0,R=n.some(x=>Ts(x)||Be(x)),p=()=>n.map(x=>{if(_e(x))return x.value;if(Ts(x))return h(x);if(_t(x))return c?c(x,2):x()})):_t(n)?t?p=c?()=>c(n,2):n:p=()=>{if(m){Vn();try{m()}finally{xn()}}const x=Dr;Dr=f;try{return c?c(n,3,[_]):n(_)}finally{Dr=x}}:p=cn,t&&s){const x=p,J=s===!0?1/0:s;p=()=>Cn(x(),J)}const N=DT(),U=()=>{f.stop(),N&&N.active&&Fu(N.effects,f)};if(i&&t){const x=t;t=(...J)=>{x(...J),U()}}let V=O?new Array(n.length).fill(Ko):Ko;const B=x=>{if(!(!(f.flags&1)||!f.dirty&&!x))if(t){const J=f.run();if(s||R||(O?J.some((Z,A)=>sr(Z,V[A])):sr(J,V))){m&&m();const Z=Dr;Dr=f;try{const A=[J,V===Ko?void 0:O&&V[0]===Ko?[]:V,_];V=J,c?c(t,3,A):t(...A)}finally{Dr=Z}}}else f.run()};return l&&l(B),f=new cg(p),f.scheduler=o?()=>o(B,!1):B,_=x=>rw(x,!1,f),m=f.onStop=()=>{const x=Ca.get(f);if(x){if(c)c(x,4);else for(const J of x)J();Ca.delete(f)}},t?r?B(!0):V=f.run():o?o(B.bind(null,!0),!0):f.run(),U.pause=f.pause.bind(f),U.resume=f.resume.bind(f),U.stop=U,U}function Cn(n,t=1/0,e){if(t<=0||!Ft(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),t--,_e(n))Cn(n.value,t,e);else if(ft(n))for(let r=0;r<n.length;r++)Cn(n[r],t,e);else if(eg(n)||Es(n))n.forEach(r=>{Cn(r,t,e)});else if(sg(n)){for(const r in n)Cn(n[r],t,e);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&Cn(n[r],t,e)}return n}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ho(n,t,e,r){try{return r?n(...r):n()}catch(s){hl(s,t,e)}}function gn(n,t,e,r){if(_t(n)){const s=ho(n,t,e,r);return s&&ng(s)&&s.catch(i=>{hl(i,t,e)}),s}if(ft(n)){const s=[];for(let i=0;i<n.length;i++)s.push(gn(n[i],t,e,r));return s}}function hl(n,t,e,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Vt;if(t){let l=t.parent;const c=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${e}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](n,c,h)===!1)return}l=l.parent}if(i){Vn(),ho(i,null,10,[n,c,h]),xn();return}}iw(n,e,s,r,o)}function iw(n,t,e,r=!0,s=!1){if(s)throw n;console.error(n)}const Ae=[];let sn=-1;const As=[];let Xn=null,ls=0;const Cg=Promise.resolve();let Ra=null;function Rg(n){const t=Ra||Cg;return n?t.then(this?n.bind(this):n):t}function ow(n){let t=sn+1,e=Ae.length;for(;t<e;){const r=t+e>>>1,s=Ae[r],i=Qi(s);i<n||i===n&&s.flags&2?t=r+1:e=r}return t}function Yu(n){if(!(n.flags&1)){const t=Qi(n),e=Ae[Ae.length-1];!e||!(n.flags&2)&&t>=Qi(e)?Ae.push(n):Ae.splice(ow(t),0,n),n.flags|=1,Pg()}}function Pg(){Ra||(Ra=Cg.then(Ng))}function aw(n){ft(n)?As.push(...n):Xn&&n.id===-1?Xn.splice(ls+1,0,n):n.flags&1||(As.push(n),n.flags|=1),Pg()}function sd(n,t,e=sn+1){for(;e<Ae.length;e++){const r=Ae[e];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;Ae.splice(e,1),e--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Og(n){if(As.length){const t=[...new Set(As)].sort((e,r)=>Qi(e)-Qi(r));if(As.length=0,Xn){Xn.push(...t);return}for(Xn=t,ls=0;ls<Xn.length;ls++){const e=Xn[ls];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}Xn=null,ls=0}}const Qi=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Ng(n){try{for(sn=0;sn<Ae.length;sn++){const t=Ae[sn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ho(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;sn<Ae.length;sn++){const t=Ae[sn];t&&(t.flags&=-2)}sn=-1,Ae.length=0,Og(),Ra=null,(Ae.length||As.length)&&Ng()}}let Ne=null,Dg=null;function Pa(n){const t=Ne;return Ne=n,Dg=n&&n.type.__scopeId||null,t}function lw(n,t=Ne,e){if(!t||n._n)return n;const r=(...s)=>{r._d&&pd(-1);const i=Pa(t);let o;try{o=n(...s)}finally{Pa(i),r._d&&pd(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Si(n,t){if(Ne===null)return n;const e=ml(Ne),r=n.dirs||(n.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,l,c=Vt]=t[s];i&&(_t(i)&&(i={mounted:i,updated:i}),i.deep&&Cn(o),r.push({dir:i,instance:e,value:o,oldValue:void 0,arg:l,modifiers:c}))}return n}function Or(n,t,e,r){const s=n.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let c=l.dir[r];c&&(Vn(),gn(c,e,8,[n.el,l,n,t]),xn())}}const cw=Symbol("_vte"),uw=n=>n.__isTeleport;function Qu(n,t){n.shapeFlag&6&&n.component?(n.transition=t,Qu(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}/*! #__NO_SIDE_EFFECTS__ */function kg(n,t){return _t(n)?ye({name:n.name},t,{setup:n}):n}function Vg(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Oa(n,t,e,r,s=!1){if(ft(n)){n.forEach((R,O)=>Oa(R,t&&(ft(t)?t[O]:t),e,r,s));return}if(xi(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Oa(n,t,e,r.component.subTree);return}const i=r.shapeFlag&4?ml(r.component):r.el,o=s?null:i,{i:l,r:c}=n,h=t&&t.r,f=l.refs===Vt?l.refs={}:l.refs,p=l.setupState,m=Rt(p),_=p===Vt?()=>!1:R=>Pt(m,R);if(h!=null&&h!==c&&(Wt(h)?(f[h]=null,_(h)&&(p[h]=null)):_e(h)&&(h.value=null)),_t(c))ho(c,l,12,[o,f]);else{const R=Wt(c),O=_e(c);if(R||O){const N=()=>{if(n.f){const U=R?_(c)?p[c]:f[c]:c.value;s?ft(U)&&Fu(U,i):ft(U)?U.includes(i)||U.push(i):R?(f[c]=[i],_(c)&&(p[c]=f[c])):(c.value=[i],n.k&&(f[n.k]=c.value))}else R?(f[c]=o,_(c)&&(p[c]=o)):O&&(c.value=o,n.k&&(f[n.k]=o))};o?(N.id=-1,Oe(N,e)):N()}}}cl().requestIdleCallback;cl().cancelIdleCallback;const xi=n=>!!n.type.__asyncLoader,xg=n=>n.type.__isKeepAlive;function hw(n,t){Lg(n,"a",t)}function fw(n,t){Lg(n,"da",t)}function Lg(n,t,e=ge){const r=n.__wdc||(n.__wdc=()=>{let s=e;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(fl(t,r,e),e){let s=e.parent;for(;s&&s.parent;)xg(s.parent.vnode)&&dw(r,t,e,s),s=s.parent}}function dw(n,t,e,r){const s=fl(t,n,r,!0);Fg(()=>{Fu(r[t],s)},e)}function fl(n,t,e=ge,r=!1){if(e){const s=e[n]||(e[n]=[]),i=t.__weh||(t.__weh=(...o)=>{Vn();const l=fo(e),c=gn(t,e,n,o);return l(),xn(),c});return r?s.unshift(i):s.push(i),i}}const Bn=n=>(t,e=ge)=>{(!Ji||n==="sp")&&fl(n,(...r)=>t(...r),e)},pw=Bn("bm"),Mg=Bn("m"),mw=Bn("bu"),gw=Bn("u"),_w=Bn("bum"),Fg=Bn("um"),yw=Bn("sp"),vw=Bn("rtg"),Ew=Bn("rtc");function Tw(n,t=ge){fl("ec",n,t)}const $g="components";function ww(n,t){return Bg($g,n,!0,t)||n}const Ug=Symbol.for("v-ndc");function Aw(n){return Wt(n)?Bg($g,n,!1)||n:n||Ug}function Bg(n,t,e=!0,r=!1){const s=Ne||ge;if(s){const i=s.type;{const l=uA(i,!1);if(l&&(l===t||l===He(t)||l===ll(He(t))))return i}const o=id(s[n]||i[n],t)||id(s.appContext[n],t);return!o&&r?i:o}}function id(n,t){return n&&(n[t]||n[He(t)]||n[ll(He(t))])}function Iw(n,t,e,r){let s;const i=e,o=ft(n);if(o||Wt(n)){const l=o&&Ts(n);let c=!1,h=!1;l&&(c=!Be(n),h=fr(n),n=ul(n)),s=new Array(n.length);for(let f=0,p=n.length;f<p;f++)s[f]=t(c?h?ba(re(n[f])):re(n[f]):n[f],f,void 0,i)}else if(typeof n=="number"){s=new Array(n);for(let l=0;l<n;l++)s[l]=t(l+1,l,void 0,i)}else if(Ft(n))if(n[Symbol.iterator])s=Array.from(n,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(n);s=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const f=l[c];s[c]=t(n[f],f,c,i)}}else s=[];return s}const Qc=n=>n?l_(n)?ml(n):Qc(n.parent):null,Li=ye(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Qc(n.parent),$root:n=>Qc(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Hg(n),$forceUpdate:n=>n.f||(n.f=()=>{Yu(n.update)}),$nextTick:n=>n.n||(n.n=Rg.bind(n.proxy)),$watch:n=>qw.bind(n)}),uc=(n,t)=>n!==Vt&&!n.__isScriptSetup&&Pt(n,t),bw={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:c}=n;let h;if(t[0]!=="$"){const _=o[t];if(_!==void 0)switch(_){case 1:return r[t];case 2:return s[t];case 4:return e[t];case 3:return i[t]}else{if(uc(r,t))return o[t]=1,r[t];if(s!==Vt&&Pt(s,t))return o[t]=2,s[t];if((h=n.propsOptions[0])&&Pt(h,t))return o[t]=3,i[t];if(e!==Vt&&Pt(e,t))return o[t]=4,e[t];Xc&&(o[t]=0)}}const f=Li[t];let p,m;if(f)return t==="$attrs"&&pe(n.attrs,"get",""),f(n);if((p=l.__cssModules)&&(p=p[t]))return p;if(e!==Vt&&Pt(e,t))return o[t]=4,e[t];if(m=c.config.globalProperties,Pt(m,t))return m[t]},set({_:n},t,e){const{data:r,setupState:s,ctx:i}=n;return uc(s,t)?(s[t]=e,!0):r!==Vt&&Pt(r,t)?(r[t]=e,!0):Pt(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(i[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:r,appContext:s,propsOptions:i}},o){let l;return!!e[o]||n!==Vt&&Pt(n,o)||uc(t,o)||(l=i[0])&&Pt(l,o)||Pt(r,o)||Pt(Li,o)||Pt(s.config.globalProperties,o)},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:Pt(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};function od(n){return ft(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}let Xc=!0;function Sw(n){const t=Hg(n),e=n.proxy,r=n.ctx;Xc=!1,t.beforeCreate&&ad(t.beforeCreate,n,"bc");const{data:s,computed:i,methods:o,watch:l,provide:c,inject:h,created:f,beforeMount:p,mounted:m,beforeUpdate:_,updated:R,activated:O,deactivated:N,beforeDestroy:U,beforeUnmount:V,destroyed:B,unmounted:x,render:J,renderTracked:Z,renderTriggered:A,errorCaptured:y,serverPrefetch:E,expose:I,inheritAttrs:b,components:S,directives:T,filters:$t}=t;if(h&&Cw(h,r,null),o)for(const ht in o){const yt=o[ht];_t(yt)&&(r[ht]=yt.bind(e))}if(s){const ht=s.call(e,e);Ft(ht)&&(n.data=uo(ht))}if(Xc=!0,i)for(const ht in i){const yt=i[ht],jt=_t(yt)?yt.bind(e,e):_t(yt.get)?yt.get.bind(e,e):cn,oe=!_t(yt)&&_t(yt.set)?yt.set.bind(e):cn,ae=Fe({get:jt,set:oe});Object.defineProperty(r,ht,{enumerable:!0,configurable:!0,get:()=>ae.value,set:Nt=>ae.value=Nt})}if(l)for(const ht in l)jg(l[ht],r,e,ht);if(c){const ht=_t(c)?c.call(e):c;Reflect.ownKeys(ht).forEach(yt=>{la(yt,ht[yt])})}f&&ad(f,n,"c");function It(ht,yt){ft(yt)?yt.forEach(jt=>ht(jt.bind(e))):yt&&ht(yt.bind(e))}if(It(pw,p),It(Mg,m),It(mw,_),It(gw,R),It(hw,O),It(fw,N),It(Tw,y),It(Ew,Z),It(vw,A),It(_w,V),It(Fg,x),It(yw,E),ft(I))if(I.length){const ht=n.exposed||(n.exposed={});I.forEach(yt=>{Object.defineProperty(ht,yt,{get:()=>e[yt],set:jt=>e[yt]=jt})})}else n.exposed||(n.exposed={});J&&n.render===cn&&(n.render=J),b!=null&&(n.inheritAttrs=b),S&&(n.components=S),T&&(n.directives=T),E&&Vg(n)}function Cw(n,t,e=cn){ft(n)&&(n=Jc(n));for(const r in n){const s=n[r];let i;Ft(s)?"default"in s?i=un(s.from||r,s.default,!0):i=un(s.from||r):i=un(s),_e(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function ad(n,t,e){gn(ft(n)?n.map(r=>r.bind(t.proxy)):n.bind(t.proxy),t,e)}function jg(n,t,e,r){let s=r.includes(".")?n_(e,r):()=>e[r];if(Wt(n)){const i=t[n];_t(i)&&ca(s,i)}else if(_t(n))ca(s,n.bind(e));else if(Ft(n))if(ft(n))n.forEach(i=>jg(i,t,e,r));else{const i=_t(n.handler)?n.handler.bind(e):t[n.handler];_t(i)&&ca(s,i,n)}}function Hg(n){const t=n.type,{mixins:e,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=n.appContext,l=i.get(t);let c;return l?c=l:!s.length&&!e&&!r?c=t:(c={},s.length&&s.forEach(h=>Na(c,h,o,!0)),Na(c,t,o)),Ft(t)&&i.set(t,c),c}function Na(n,t,e,r=!1){const{mixins:s,extends:i}=t;i&&Na(n,i,e,!0),s&&s.forEach(o=>Na(n,o,e,!0));for(const o in t)if(!(r&&o==="expose")){const l=Rw[o]||e&&e[o];n[o]=l?l(n[o],t[o]):t[o]}return n}const Rw={data:ld,props:cd,emits:cd,methods:Ci,computed:Ci,beforeCreate:we,created:we,beforeMount:we,mounted:we,beforeUpdate:we,updated:we,beforeDestroy:we,beforeUnmount:we,destroyed:we,unmounted:we,activated:we,deactivated:we,errorCaptured:we,serverPrefetch:we,components:Ci,directives:Ci,watch:Ow,provide:ld,inject:Pw};function ld(n,t){return t?n?function(){return ye(_t(n)?n.call(this,this):n,_t(t)?t.call(this,this):t)}:t:n}function Pw(n,t){return Ci(Jc(n),Jc(t))}function Jc(n){if(ft(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function we(n,t){return n?[...new Set([].concat(n,t))]:t}function Ci(n,t){return n?ye(Object.create(null),n,t):t}function cd(n,t){return n?ft(n)&&ft(t)?[...new Set([...n,...t])]:ye(Object.create(null),od(n),od(t??{})):t}function Ow(n,t){if(!n)return t;if(!t)return n;const e=ye(Object.create(null),n);for(const r in t)e[r]=we(n[r],t[r]);return e}function Wg(){return{app:null,config:{isNativeTag:ET,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nw=0;function Dw(n,t){return function(r,s=null){_t(r)||(r=ye({},r)),s!=null&&!Ft(s)&&(s=null);const i=Wg(),o=new WeakSet,l=[];let c=!1;const h=i.app={_uid:Nw++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:fA,get config(){return i.config},set config(f){},use(f,...p){return o.has(f)||(f&&_t(f.install)?(o.add(f),f.install(h,...p)):_t(f)&&(o.add(f),f(h,...p))),h},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),h},component(f,p){return p?(i.components[f]=p,h):i.components[f]},directive(f,p){return p?(i.directives[f]=p,h):i.directives[f]},mount(f,p,m){if(!c){const _=h._ceVNode||Ue(r,s);return _.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),n(_,f,m),c=!0,h._container=f,f.__vue_app__=h,ml(_.component)}},onUnmount(f){l.push(f)},unmount(){c&&(gn(l,h._instance,16),n(null,h._container),delete h._container.__vue_app__)},provide(f,p){return i.provides[f]=p,h},runWithContext(f){const p=Is;Is=h;try{return f()}finally{Is=p}}};return h}}let Is=null;function la(n,t){if(ge){let e=ge.provides;const r=ge.parent&&ge.parent.provides;r===e&&(e=ge.provides=Object.create(r)),e[n]=t}}function un(n,t,e=!1){const r=ge||Ne;if(r||Is){let s=Is?Is._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&n in s)return s[n];if(arguments.length>1)return e&&_t(t)?t.call(r&&r.proxy):t}}const qg={},Kg=()=>Object.create(qg),zg=n=>Object.getPrototypeOf(n)===qg;function kw(n,t,e,r=!1){const s={},i=Kg();n.propsDefaults=Object.create(null),Gg(n,t,s,i);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);e?n.props=r?s:Ag(s):n.type.props?n.props=s:n.props=i,n.attrs=i}function Vw(n,t,e,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=n,l=Rt(s),[c]=n.propsOptions;let h=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=n.vnode.dynamicProps;for(let p=0;p<f.length;p++){let m=f[p];if(dl(n.emitsOptions,m))continue;const _=t[m];if(c)if(Pt(i,m))_!==i[m]&&(i[m]=_,h=!0);else{const R=He(m);s[R]=Zc(c,l,R,_,n,!1)}else _!==i[m]&&(i[m]=_,h=!0)}}}else{Gg(n,t,s,i)&&(h=!0);let f;for(const p in l)(!t||!Pt(t,p)&&((f=Gr(p))===p||!Pt(t,f)))&&(c?e&&(e[p]!==void 0||e[f]!==void 0)&&(s[p]=Zc(c,l,p,void 0,n,!0)):delete s[p]);if(i!==l)for(const p in i)(!t||!Pt(t,p))&&(delete i[p],h=!0)}h&&Sn(n.attrs,"set","")}function Gg(n,t,e,r){const[s,i]=n.propsOptions;let o=!1,l;if(t)for(let c in t){if(Di(c))continue;const h=t[c];let f;s&&Pt(s,f=He(c))?!i||!i.includes(f)?e[f]=h:(l||(l={}))[f]=h:dl(n.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,o=!0)}if(i){const c=Rt(e),h=l||Vt;for(let f=0;f<i.length;f++){const p=i[f];e[p]=Zc(s,c,p,h[p],n,!Pt(h,p))}}return o}function Zc(n,t,e,r,s,i){const o=n[e];if(o!=null){const l=Pt(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&_t(c)){const{propsDefaults:h}=s;if(e in h)r=h[e];else{const f=fo(s);r=h[e]=c.call(null,t),f()}}else r=c;s.ce&&s.ce._setProp(e,r)}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===Gr(e))&&(r=!0))}return r}const xw=new WeakMap;function Yg(n,t,e=!1){const r=e?xw:t.propsCache,s=r.get(n);if(s)return s;const i=n.props,o={},l=[];let c=!1;if(!_t(n)){const f=p=>{c=!0;const[m,_]=Yg(p,t,!0);ye(o,m),_&&l.push(..._)};!e&&t.mixins.length&&t.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}if(!i&&!c)return Ft(n)&&r.set(n,vs),vs;if(ft(i))for(let f=0;f<i.length;f++){const p=He(i[f]);ud(p)&&(o[p]=Vt)}else if(i)for(const f in i){const p=He(f);if(ud(p)){const m=i[f],_=o[p]=ft(m)||_t(m)?{type:m}:ye({},m),R=_.type;let O=!1,N=!0;if(ft(R))for(let U=0;U<R.length;++U){const V=R[U],B=_t(V)&&V.name;if(B==="Boolean"){O=!0;break}else B==="String"&&(N=!1)}else O=_t(R)&&R.name==="Boolean";_[0]=O,_[1]=N,(O||Pt(_,"default"))&&l.push(p)}}const h=[o,l];return Ft(n)&&r.set(n,h),h}function ud(n){return n[0]!=="$"&&!Di(n)}const Xu=n=>n[0]==="_"||n==="$stable",Ju=n=>ft(n)?n.map(ln):[ln(n)],Lw=(n,t,e)=>{if(t._n)return t;const r=lw((...s)=>Ju(t(...s)),e);return r._c=!1,r},Qg=(n,t,e)=>{const r=n._ctx;for(const s in n){if(Xu(s))continue;const i=n[s];if(_t(i))t[s]=Lw(s,i,r);else if(i!=null){const o=Ju(i);t[s]=()=>o}}},Xg=(n,t)=>{const e=Ju(t);n.slots.default=()=>e},Jg=(n,t,e)=>{for(const r in t)(e||!Xu(r))&&(n[r]=t[r])},Mw=(n,t,e)=>{const r=n.slots=Kg();if(n.vnode.shapeFlag&32){const s=t._;s?(Jg(r,t,e),e&&ig(r,"_",s,!0)):Qg(t,r)}else t&&Xg(n,t)},Fw=(n,t,e)=>{const{vnode:r,slots:s}=n;let i=!0,o=Vt;if(r.shapeFlag&32){const l=t._;l?e&&l===1?i=!1:Jg(s,t,e):(i=!t.$stable,Qg(t,s)),o=t}else t&&(Xg(n,t),o={default:1});if(i)for(const l in s)!Xu(l)&&o[l]==null&&delete s[l]},Oe=Jw;function $w(n){return Uw(n)}function Uw(n,t){const e=cl();e.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:c,setText:h,setElementText:f,parentNode:p,nextSibling:m,setScopeId:_=cn,insertStaticContent:R}=n,O=(v,w,C,L=null,F=null,M=null,Q=void 0,K=null,q=!!w.dynamicChildren)=>{if(v===w)return;v&&!Ti(v,w)&&(L=k(v),Nt(v,F,M,!0),v=null),w.patchFlag===-2&&(q=!1,w.dynamicChildren=null);const{type:j,ref:rt,shapeFlag:G}=w;switch(j){case pl:N(v,w,C,L);break;case Os:U(v,w,C,L);break;case fc:v==null&&V(w,C,L,Q);break;case an:S(v,w,C,L,F,M,Q,K,q);break;default:G&1?J(v,w,C,L,F,M,Q,K,q):G&6?T(v,w,C,L,F,M,Q,K,q):(G&64||G&128)&&j.process(v,w,C,L,F,M,Q,K,q,et)}rt!=null&&F&&Oa(rt,v&&v.ref,M,w||v,!w)},N=(v,w,C,L)=>{if(v==null)r(w.el=l(w.children),C,L);else{const F=w.el=v.el;w.children!==v.children&&h(F,w.children)}},U=(v,w,C,L)=>{v==null?r(w.el=c(w.children||""),C,L):w.el=v.el},V=(v,w,C,L)=>{[v.el,v.anchor]=R(v.children,w,C,L,v.el,v.anchor)},B=({el:v,anchor:w},C,L)=>{let F;for(;v&&v!==w;)F=m(v),r(v,C,L),v=F;r(w,C,L)},x=({el:v,anchor:w})=>{let C;for(;v&&v!==w;)C=m(v),s(v),v=C;s(w)},J=(v,w,C,L,F,M,Q,K,q)=>{w.type==="svg"?Q="svg":w.type==="math"&&(Q="mathml"),v==null?Z(w,C,L,F,M,Q,K,q):E(v,w,F,M,Q,K,q)},Z=(v,w,C,L,F,M,Q,K)=>{let q,j;const{props:rt,shapeFlag:G,transition:nt,dirs:lt}=v;if(q=v.el=o(v.type,M,rt&&rt.is,rt),G&8?f(q,v.children):G&16&&y(v.children,q,null,L,F,hc(v,M),Q,K),lt&&Or(v,null,L,"created"),A(q,v,v.scopeId,Q,L),rt){for(const dt in rt)dt!=="value"&&!Di(dt)&&i(q,dt,null,rt[dt],M,L);"value"in rt&&i(q,"value",null,rt.value,M),(j=rt.onVnodeBeforeMount)&&rn(j,L,v)}lt&&Or(v,null,L,"beforeMount");const st=Bw(F,nt);st&&nt.beforeEnter(q),r(q,w,C),((j=rt&&rt.onVnodeMounted)||st||lt)&&Oe(()=>{j&&rn(j,L,v),st&&nt.enter(q),lt&&Or(v,null,L,"mounted")},F)},A=(v,w,C,L,F)=>{if(C&&_(v,C),L)for(let M=0;M<L.length;M++)_(v,L[M]);if(F){let M=F.subTree;if(w===M||s_(M.type)&&(M.ssContent===w||M.ssFallback===w)){const Q=F.vnode;A(v,Q,Q.scopeId,Q.slotScopeIds,F.parent)}}},y=(v,w,C,L,F,M,Q,K,q=0)=>{for(let j=q;j<v.length;j++){const rt=v[j]=K?Jn(v[j]):ln(v[j]);O(null,rt,w,C,L,F,M,Q,K)}},E=(v,w,C,L,F,M,Q)=>{const K=w.el=v.el;let{patchFlag:q,dynamicChildren:j,dirs:rt}=w;q|=v.patchFlag&16;const G=v.props||Vt,nt=w.props||Vt;let lt;if(C&&Nr(C,!1),(lt=nt.onVnodeBeforeUpdate)&&rn(lt,C,w,v),rt&&Or(w,v,C,"beforeUpdate"),C&&Nr(C,!0),(G.innerHTML&&nt.innerHTML==null||G.textContent&&nt.textContent==null)&&f(K,""),j?I(v.dynamicChildren,j,K,C,L,hc(w,F),M):Q||yt(v,w,K,null,C,L,hc(w,F),M,!1),q>0){if(q&16)b(K,G,nt,C,F);else if(q&2&&G.class!==nt.class&&i(K,"class",null,nt.class,F),q&4&&i(K,"style",G.style,nt.style,F),q&8){const st=w.dynamicProps;for(let dt=0;dt<st.length;dt++){const Et=st[dt],le=G[Et],Zt=nt[Et];(Zt!==le||Et==="value")&&i(K,Et,le,Zt,F,C)}}q&1&&v.children!==w.children&&f(K,w.children)}else!Q&&j==null&&b(K,G,nt,C,F);((lt=nt.onVnodeUpdated)||rt)&&Oe(()=>{lt&&rn(lt,C,w,v),rt&&Or(w,v,C,"updated")},L)},I=(v,w,C,L,F,M,Q)=>{for(let K=0;K<w.length;K++){const q=v[K],j=w[K],rt=q.el&&(q.type===an||!Ti(q,j)||q.shapeFlag&198)?p(q.el):C;O(q,j,rt,null,L,F,M,Q,!0)}},b=(v,w,C,L,F)=>{if(w!==C){if(w!==Vt)for(const M in w)!Di(M)&&!(M in C)&&i(v,M,w[M],null,F,L);for(const M in C){if(Di(M))continue;const Q=C[M],K=w[M];Q!==K&&M!=="value"&&i(v,M,K,Q,F,L)}"value"in C&&i(v,"value",w.value,C.value,F)}},S=(v,w,C,L,F,M,Q,K,q)=>{const j=w.el=v?v.el:l(""),rt=w.anchor=v?v.anchor:l("");let{patchFlag:G,dynamicChildren:nt,slotScopeIds:lt}=w;lt&&(K=K?K.concat(lt):lt),v==null?(r(j,C,L),r(rt,C,L),y(w.children||[],C,rt,F,M,Q,K,q)):G>0&&G&64&&nt&&v.dynamicChildren?(I(v.dynamicChildren,nt,C,F,M,Q,K),(w.key!=null||F&&w===F.subTree)&&Zg(v,w,!0)):yt(v,w,C,rt,F,M,Q,K,q)},T=(v,w,C,L,F,M,Q,K,q)=>{w.slotScopeIds=K,v==null?w.shapeFlag&512?F.ctx.activate(w,C,L,Q,q):$t(w,C,L,F,M,Q,q):qt(v,w,q)},$t=(v,w,C,L,F,M,Q)=>{const K=v.component=iA(v,L,F);if(xg(v)&&(K.ctx.renderer=et),oA(K,!1,Q),K.asyncDep){if(F&&F.registerDep(K,It,Q),!v.el){const q=K.subTree=Ue(Os);U(null,q,w,C)}}else It(K,v,w,C,F,M,Q)},qt=(v,w,C)=>{const L=w.component=v.component;if(Qw(v,w,C))if(L.asyncDep&&!L.asyncResolved){ht(L,w,C);return}else L.next=w,L.update();else w.el=v.el,L.vnode=w},It=(v,w,C,L,F,M,Q)=>{const K=()=>{if(v.isMounted){let{next:G,bu:nt,u:lt,parent:st,vnode:dt}=v;{const ce=t_(v);if(ce){G&&(G.el=dt.el,ht(v,G,Q)),ce.asyncDep.then(()=>{v.isUnmounted||K()});return}}let Et=G,le;Nr(v,!1),G?(G.el=dt.el,ht(v,G,Q)):G=dt,nt&&aa(nt),(le=G.props&&G.props.onVnodeBeforeUpdate)&&rn(le,st,G,dt),Nr(v,!0);const Zt=fd(v),Le=v.subTree;v.subTree=Zt,O(Le,Zt,p(Le.el),k(Le),v,F,M),G.el=Zt.el,Et===null&&Xw(v,Zt.el),lt&&Oe(lt,F),(le=G.props&&G.props.onVnodeUpdated)&&Oe(()=>rn(le,st,G,dt),F)}else{let G;const{el:nt,props:lt}=w,{bm:st,m:dt,parent:Et,root:le,type:Zt}=v,Le=xi(w);Nr(v,!1),st&&aa(st),!Le&&(G=lt&&lt.onVnodeBeforeMount)&&rn(G,Et,w),Nr(v,!0);{le.ce&&le.ce._injectChildStyle(Zt);const ce=v.subTree=fd(v);O(null,ce,C,L,v,F,M),w.el=ce.el}if(dt&&Oe(dt,F),!Le&&(G=lt&&lt.onVnodeMounted)){const ce=w;Oe(()=>rn(G,Et,ce),F)}(w.shapeFlag&256||Et&&xi(Et.vnode)&&Et.vnode.shapeFlag&256)&&v.a&&Oe(v.a,F),v.isMounted=!0,w=C=L=null}};v.scope.on();const q=v.effect=new cg(K);v.scope.off();const j=v.update=q.run.bind(q),rt=v.job=q.runIfDirty.bind(q);rt.i=v,rt.id=v.uid,q.scheduler=()=>Yu(rt),Nr(v,!0),j()},ht=(v,w,C)=>{w.component=v;const L=v.vnode.props;v.vnode=w,v.next=null,Vw(v,w.props,L,C),Fw(v,w.children,C),Vn(),sd(v),xn()},yt=(v,w,C,L,F,M,Q,K,q=!1)=>{const j=v&&v.children,rt=v?v.shapeFlag:0,G=w.children,{patchFlag:nt,shapeFlag:lt}=w;if(nt>0){if(nt&128){oe(j,G,C,L,F,M,Q,K,q);return}else if(nt&256){jt(j,G,C,L,F,M,Q,K,q);return}}lt&8?(rt&16&&Kt(j,F,M),G!==j&&f(C,G)):rt&16?lt&16?oe(j,G,C,L,F,M,Q,K,q):Kt(j,F,M,!0):(rt&8&&f(C,""),lt&16&&y(G,C,L,F,M,Q,K,q))},jt=(v,w,C,L,F,M,Q,K,q)=>{v=v||vs,w=w||vs;const j=v.length,rt=w.length,G=Math.min(j,rt);let nt;for(nt=0;nt<G;nt++){const lt=w[nt]=q?Jn(w[nt]):ln(w[nt]);O(v[nt],lt,C,null,F,M,Q,K,q)}j>rt?Kt(v,F,M,!0,!1,G):y(w,C,L,F,M,Q,K,q,G)},oe=(v,w,C,L,F,M,Q,K,q)=>{let j=0;const rt=w.length;let G=v.length-1,nt=rt-1;for(;j<=G&&j<=nt;){const lt=v[j],st=w[j]=q?Jn(w[j]):ln(w[j]);if(Ti(lt,st))O(lt,st,C,null,F,M,Q,K,q);else break;j++}for(;j<=G&&j<=nt;){const lt=v[G],st=w[nt]=q?Jn(w[nt]):ln(w[nt]);if(Ti(lt,st))O(lt,st,C,null,F,M,Q,K,q);else break;G--,nt--}if(j>G){if(j<=nt){const lt=nt+1,st=lt<rt?w[lt].el:L;for(;j<=nt;)O(null,w[j]=q?Jn(w[j]):ln(w[j]),C,st,F,M,Q,K,q),j++}}else if(j>nt)for(;j<=G;)Nt(v[j],F,M,!0),j++;else{const lt=j,st=j,dt=new Map;for(j=st;j<=nt;j++){const te=w[j]=q?Jn(w[j]):ln(w[j]);te.key!=null&&dt.set(te.key,j)}let Et,le=0;const Zt=nt-st+1;let Le=!1,ce=0;const Wn=new Array(Zt);for(j=0;j<Zt;j++)Wn[j]=0;for(j=lt;j<=G;j++){const te=v[j];if(le>=Zt){Nt(te,F,M,!0);continue}let Me;if(te.key!=null)Me=dt.get(te.key);else for(Et=st;Et<=nt;Et++)if(Wn[Et-st]===0&&Ti(te,w[Et])){Me=Et;break}Me===void 0?Nt(te,F,M,!0):(Wn[Me-st]=j+1,Me>=ce?ce=Me:Le=!0,O(te,w[Me],C,null,F,M,Q,K,q),le++)}const ai=Le?jw(Wn):vs;for(Et=ai.length-1,j=Zt-1;j>=0;j--){const te=st+j,Me=w[te],Ro=te+1<rt?w[te+1].el:L;Wn[j]===0?O(null,Me,C,Ro,F,M,Q,K,q):Le&&(Et<0||j!==ai[Et]?ae(Me,C,Ro,2):Et--)}}},ae=(v,w,C,L,F=null)=>{const{el:M,type:Q,transition:K,children:q,shapeFlag:j}=v;if(j&6){ae(v.component.subTree,w,C,L);return}if(j&128){v.suspense.move(w,C,L);return}if(j&64){Q.move(v,w,C,et);return}if(Q===an){r(M,w,C);for(let G=0;G<q.length;G++)ae(q[G],w,C,L);r(v.anchor,w,C);return}if(Q===fc){B(v,w,C);return}if(L!==2&&j&1&&K)if(L===0)K.beforeEnter(M),r(M,w,C),Oe(()=>K.enter(M),F);else{const{leave:G,delayLeave:nt,afterLeave:lt}=K,st=()=>{v.ctx.isUnmounted?s(M):r(M,w,C)},dt=()=>{G(M,()=>{st(),lt&&lt()})};nt?nt(M,st,dt):dt()}else r(M,w,C)},Nt=(v,w,C,L=!1,F=!1)=>{const{type:M,props:Q,ref:K,children:q,dynamicChildren:j,shapeFlag:rt,patchFlag:G,dirs:nt,cacheIndex:lt}=v;if(G===-2&&(F=!1),K!=null&&(Vn(),Oa(K,null,C,v,!0),xn()),lt!=null&&(w.renderCache[lt]=void 0),rt&256){w.ctx.deactivate(v);return}const st=rt&1&&nt,dt=!xi(v);let Et;if(dt&&(Et=Q&&Q.onVnodeBeforeUnmount)&&rn(Et,w,v),rt&6)Gt(v.component,C,L);else{if(rt&128){v.suspense.unmount(C,L);return}st&&Or(v,null,w,"beforeUnmount"),rt&64?v.type.remove(v,w,C,et,L):j&&!j.hasOnce&&(M!==an||G>0&&G&64)?Kt(j,w,C,!1,!0):(M===an&&G&384||!F&&rt&16)&&Kt(q,w,C),L&&Dt(v)}(dt&&(Et=Q&&Q.onVnodeUnmounted)||st)&&Oe(()=>{Et&&rn(Et,w,v),st&&Or(v,null,w,"unmounted")},C)},Dt=v=>{const{type:w,el:C,anchor:L,transition:F}=v;if(w===an){Ee(C,L);return}if(w===fc){x(v);return}const M=()=>{s(C),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(v.shapeFlag&1&&F&&!F.persisted){const{leave:Q,delayLeave:K}=F,q=()=>Q(C,M);K?K(v.el,M,q):q()}else M()},Ee=(v,w)=>{let C;for(;v!==w;)C=m(v),s(v),v=C;s(w)},Gt=(v,w,C)=>{const{bum:L,scope:F,job:M,subTree:Q,um:K,m:q,a:j,parent:rt,slots:{__:G}}=v;hd(q),hd(j),L&&aa(L),rt&&ft(G)&&G.forEach(nt=>{rt.renderCache[nt]=void 0}),F.stop(),M&&(M.flags|=8,Nt(Q,v,w,C)),K&&Oe(K,w),Oe(()=>{v.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},Kt=(v,w,C,L=!1,F=!1,M=0)=>{for(let Q=M;Q<v.length;Q++)Nt(v[Q],w,C,L,F)},k=v=>{if(v.shapeFlag&6)return k(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const w=m(v.anchor||v.el),C=w&&w[cw];return C?m(C):w};let X=!1;const Y=(v,w,C)=>{v==null?w._vnode&&Nt(w._vnode,null,null,!0):O(w._vnode||null,v,w,null,null,null,C),w._vnode=v,X||(X=!0,sd(),Og(),X=!1)},et={p:O,um:Nt,m:ae,r:Dt,mt:$t,mc:y,pc:yt,pbc:I,n:k,o:n};return{render:Y,hydrate:void 0,createApp:Dw(Y)}}function hc({type:n,props:t},e){return e==="svg"&&n==="foreignObject"||e==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function Nr({effect:n,job:t},e){e?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function Bw(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function Zg(n,t,e=!1){const r=n.children,s=t.children;if(ft(r)&&ft(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=Jn(s[i]),l.el=o.el),!e&&l.patchFlag!==-2&&Zg(o,l)),l.type===pl&&(l.el=o.el),l.type===Os&&!l.el&&(l.el=o.el)}}function jw(n){const t=n.slice(),e=[0];let r,s,i,o,l;const c=n.length;for(r=0;r<c;r++){const h=n[r];if(h!==0){if(s=e[e.length-1],n[s]<h){t[r]=s,e.push(r);continue}for(i=0,o=e.length-1;i<o;)l=i+o>>1,n[e[l]]<h?i=l+1:o=l;h<n[e[i]]&&(i>0&&(t[r]=e[i-1]),e[i]=r)}}for(i=e.length,o=e[i-1];i-- >0;)e[i]=o,o=t[o];return e}function t_(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:t_(t)}function hd(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const Hw=Symbol.for("v-scx"),Ww=()=>un(Hw);function ca(n,t,e){return e_(n,t,e)}function e_(n,t,e=Vt){const{immediate:r,deep:s,flush:i,once:o}=e,l=ye({},e),c=t&&r||!t&&i!=="post";let h;if(Ji){if(i==="sync"){const _=Ww();h=_.__watcherHandles||(_.__watcherHandles=[])}else if(!c){const _=()=>{};return _.stop=cn,_.resume=cn,_.pause=cn,_}}const f=ge;l.call=(_,R,O)=>gn(_,f,R,O);let p=!1;i==="post"?l.scheduler=_=>{Oe(_,f&&f.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(_,R)=>{R?_():Yu(_)}),l.augmentJob=_=>{t&&(_.flags|=4),p&&(_.flags|=2,f&&(_.id=f.uid,_.i=f))};const m=sw(n,t,l);return Ji&&(h?h.push(m):c&&m()),m}function qw(n,t,e){const r=this.proxy,s=Wt(n)?n.includes(".")?n_(r,n):()=>r[n]:n.bind(r,r);let i;_t(t)?i=t:(i=t.handler,e=t);const o=fo(this),l=e_(s,i.bind(r),e);return o(),l}function n_(n,t){const e=t.split(".");return()=>{let r=n;for(let s=0;s<e.length&&r;s++)r=r[e[s]];return r}}const Kw=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${He(t)}Modifiers`]||n[`${Gr(t)}Modifiers`];function zw(n,t,...e){if(n.isUnmounted)return;const r=n.vnode.props||Vt;let s=e;const i=t.startsWith("update:"),o=i&&Kw(r,t.slice(7));o&&(o.trim&&(s=e.map(f=>Wt(f)?f.trim():f)),o.number&&(s=e.map(qc)));let l,c=r[l=ic(t)]||r[l=ic(He(t))];!c&&i&&(c=r[l=ic(Gr(t))]),c&&gn(c,n,6,s);const h=r[l+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,gn(h,n,6,s)}}function r_(n,t,e=!1){const r=t.emitsCache,s=r.get(n);if(s!==void 0)return s;const i=n.emits;let o={},l=!1;if(!_t(n)){const c=h=>{const f=r_(h,t,!0);f&&(l=!0,ye(o,f))};!e&&t.mixins.length&&t.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!i&&!l?(Ft(n)&&r.set(n,null),null):(ft(i)?i.forEach(c=>o[c]=null):ye(o,i),Ft(n)&&r.set(n,o),o)}function dl(n,t){return!n||!il(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pt(n,t[0].toLowerCase()+t.slice(1))||Pt(n,Gr(t))||Pt(n,t))}function fd(n){const{type:t,vnode:e,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:c,render:h,renderCache:f,props:p,data:m,setupState:_,ctx:R,inheritAttrs:O}=n,N=Pa(n);let U,V;try{if(e.shapeFlag&4){const x=s||r,J=x;U=ln(h.call(J,x,f,p,_,m,R)),V=l}else{const x=t;U=ln(x.length>1?x(p,{attrs:l,slots:o,emit:c}):x(p,null)),V=t.props?l:Gw(l)}}catch(x){Mi.length=0,hl(x,n,1),U=Ue(Os)}let B=U;if(V&&O!==!1){const x=Object.keys(V),{shapeFlag:J}=B;x.length&&J&7&&(i&&x.some(Mu)&&(V=Yw(V,i)),B=Ns(B,V,!1,!0))}return e.dirs&&(B=Ns(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(e.dirs):e.dirs),e.transition&&Qu(B,e.transition),U=B,Pa(N),U}const Gw=n=>{let t;for(const e in n)(e==="class"||e==="style"||il(e))&&((t||(t={}))[e]=n[e]);return t},Yw=(n,t)=>{const e={};for(const r in n)(!Mu(r)||!(r.slice(9)in t))&&(e[r]=n[r]);return e};function Qw(n,t,e){const{props:r,children:s,component:i}=n,{props:o,children:l,patchFlag:c}=t,h=i.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&c>=0){if(c&1024)return!0;if(c&16)return r?dd(r,o,h):!!o;if(c&8){const f=t.dynamicProps;for(let p=0;p<f.length;p++){const m=f[p];if(o[m]!==r[m]&&!dl(h,m))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?dd(r,o,h):!0:!!o;return!1}function dd(n,t,e){const r=Object.keys(t);if(r.length!==Object.keys(n).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==n[i]&&!dl(e,i))return!0}return!1}function Xw({vnode:n,parent:t},e){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=t.vnode).el=e,t=t.parent;else break}}const s_=n=>n.__isSuspense;function Jw(n,t){t&&t.pendingBranch?ft(n)?t.effects.push(...n):t.effects.push(n):aw(n)}const an=Symbol.for("v-fgt"),pl=Symbol.for("v-txt"),Os=Symbol.for("v-cmt"),fc=Symbol.for("v-stc"),Mi=[];let De=null;function ir(n=!1){Mi.push(De=n?null:[])}function Zw(){Mi.pop(),De=Mi[Mi.length-1]||null}let Xi=1;function pd(n,t=!1){Xi+=n,n<0&&De&&t&&(De.hasOnce=!0)}function i_(n){return n.dynamicChildren=Xi>0?De||vs:null,Zw(),Xi>0&&De&&De.push(n),n}function bs(n,t,e,r,s,i){return i_(gt(n,t,e,r,s,i,!0))}function o_(n,t,e,r,s){return i_(Ue(n,t,e,r,s,!0))}function Da(n){return n?n.__v_isVNode===!0:!1}function Ti(n,t){return n.type===t.type&&n.key===t.key}const a_=({key:n})=>n??null,ua=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?Wt(n)||_e(n)||_t(n)?{i:Ne,r:n,k:t,f:!!e}:n:null);function gt(n,t=null,e=null,r=0,s=null,i=n===an?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&a_(t),ref:t&&ua(t),scopeId:Dg,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ne};return l?(th(c,e),i&128&&n.normalize(c)):e&&(c.shapeFlag|=Wt(e)?8:16),Xi>0&&!o&&De&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&De.push(c),c}const Ue=tA;function tA(n,t=null,e=null,r=0,s=null,i=!1){if((!n||n===Ug)&&(n=Os),Da(n)){const l=Ns(n,t,!0);return e&&th(l,e),Xi>0&&!i&&De&&(l.shapeFlag&6?De[De.indexOf(n)]=l:De.push(l)),l.patchFlag=-2,l}if(hA(n)&&(n=n.__vccOpts),t){t=eA(t);let{class:l,style:c}=t;l&&!Wt(l)&&(t.class=Bu(l)),Ft(c)&&(Gu(c)&&!ft(c)&&(c=ye({},c)),t.style=Uu(c))}const o=Wt(n)?1:s_(n)?128:uw(n)?64:Ft(n)?4:_t(n)?2:0;return gt(n,t,e,r,s,o,i,!0)}function eA(n){return n?Gu(n)||zg(n)?ye({},n):n:null}function Ns(n,t,e=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:c}=n,h=t?nA(s||{},t):s,f={__v_isVNode:!0,__v_skip:!0,type:n.type,props:h,key:h&&a_(h),ref:t&&t.ref?e&&i?ft(i)?i.concat(ua(t)):[i,ua(t)]:ua(t):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==an?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:c,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Ns(n.ssContent),ssFallback:n.ssFallback&&Ns(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return c&&r&&Qu(f,c.clone(f)),f}function Zu(n=" ",t=0){return Ue(pl,null,n,t)}function ln(n){return n==null||typeof n=="boolean"?Ue(Os):ft(n)?Ue(an,null,n.slice()):Da(n)?Jn(n):Ue(pl,null,String(n))}function Jn(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Ns(n)}function th(n,t){let e=0;const{shapeFlag:r}=n;if(t==null)t=null;else if(ft(t))e=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),th(n,s()),s._c&&(s._d=!0));return}else{e=32;const s=t._;!s&&!zg(t)?t._ctx=Ne:s===3&&Ne&&(Ne.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else _t(t)?(t={default:t,_ctx:Ne},e=32):(t=String(t),r&64?(e=16,t=[Zu(t)]):e=8);n.children=t,n.shapeFlag|=e}function nA(...n){const t={};for(let e=0;e<n.length;e++){const r=n[e];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Bu([t.class,r.class]));else if(s==="style")t.style=Uu([t.style,r.style]);else if(il(s)){const i=t[s],o=r[s];o&&i!==o&&!(ft(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function rn(n,t,e,r=null){gn(n,t,7,[e,r])}const rA=Wg();let sA=0;function iA(n,t,e){const r=n.type,s=(t?t.appContext:n.appContext)||rA,i={uid:sA++,vnode:n,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new NT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yg(r,s),emitsOptions:r_(r,s),emit:null,emitted:null,propsDefaults:Vt,inheritAttrs:r.inheritAttrs,ctx:Vt,data:Vt,props:Vt,attrs:Vt,slots:Vt,refs:Vt,setupState:Vt,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=zw.bind(null,i),n.ce&&n.ce(i),i}let ge=null,ka,tu;{const n=cl(),t=(e,r)=>{let s;return(s=n[e])||(s=n[e]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};ka=t("__VUE_INSTANCE_SETTERS__",e=>ge=e),tu=t("__VUE_SSR_SETTERS__",e=>Ji=e)}const fo=n=>{const t=ge;return ka(n),n.scope.on(),()=>{n.scope.off(),ka(t)}},md=()=>{ge&&ge.scope.off(),ka(null)};function l_(n){return n.vnode.shapeFlag&4}let Ji=!1;function oA(n,t=!1,e=!1){t&&tu(t);const{props:r,children:s}=n.vnode,i=l_(n);kw(n,r,i,t),Mw(n,s,e||t);const o=i?aA(n,t):void 0;return t&&tu(!1),o}function aA(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,bw);const{setup:r}=e;if(r){Vn();const s=n.setupContext=r.length>1?cA(n):null,i=fo(n),o=ho(r,n,0,[n.props,s]),l=ng(o);if(xn(),i(),(l||n.sp)&&!xi(n)&&Vg(n),l){if(o.then(md,md),t)return o.then(c=>{gd(n,c)}).catch(c=>{hl(c,n,0)});n.asyncDep=o}else gd(n,o)}else c_(n)}function gd(n,t,e){_t(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:Ft(t)&&(n.setupState=Sg(t)),c_(n)}function c_(n,t,e){const r=n.type;n.render||(n.render=r.render||cn);{const s=fo(n);Vn();try{Sw(n)}finally{xn(),s()}}}const lA={get(n,t){return pe(n,"get",""),n[t]}};function cA(n){const t=e=>{n.exposed=e||{}};return{attrs:new Proxy(n.attrs,lA),slots:n.slots,emit:n.emit,expose:t}}function ml(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Sg(XT(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in Li)return Li[e](n)},has(t,e){return e in t||e in Li}})):n.proxy}function uA(n,t=!0){return _t(n)?n.displayName||n.name:n.name||t&&n.__name}function hA(n){return _t(n)&&"__vccOpts"in n}const Fe=(n,t)=>nw(n,t,Ji);function u_(n,t,e){const r=arguments.length;return r===2?Ft(t)&&!ft(t)?Da(t)?Ue(n,null,[t]):Ue(n,t):Ue(n,null,t):(r>3?e=Array.prototype.slice.call(arguments,2):r===3&&Da(e)&&(e=[e]),Ue(n,t,e))}const fA="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let eu;const _d=typeof window<"u"&&window.trustedTypes;if(_d)try{eu=_d.createPolicy("vue",{createHTML:n=>n})}catch{}const h_=eu?n=>eu.createHTML(n):n=>n,dA="http://www.w3.org/2000/svg",pA="http://www.w3.org/1998/Math/MathML",bn=typeof document<"u"?document:null,yd=bn&&bn.createElement("template"),mA={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,r)=>{const s=t==="svg"?bn.createElementNS(dA,n):t==="mathml"?bn.createElementNS(pA,n):e?bn.createElement(n,{is:e}):bn.createElement(n);return n==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:n=>bn.createTextNode(n),createComment:n=>bn.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>bn.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,r,s,i){const o=e?e.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),e),!(s===i||!(s=s.nextSibling)););else{yd.innerHTML=h_(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const l=yd.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},gA=Symbol("_vtc");function _A(n,t,e){const r=n[gA];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const vd=Symbol("_vod"),yA=Symbol("_vsh"),vA=Symbol(""),EA=/(^|;)\s*display\s*:/;function TA(n,t,e){const r=n.style,s=Wt(e);let i=!1;if(e&&!s){if(t)if(Wt(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();e[l]==null&&ha(r,l,"")}else for(const o in t)e[o]==null&&ha(r,o,"");for(const o in e)o==="display"&&(i=!0),ha(r,o,e[o])}else if(s){if(t!==e){const o=r[vA];o&&(e+=";"+o),r.cssText=e,i=EA.test(e)}}else t&&n.removeAttribute("style");vd in n&&(n[vd]=i?r.display:"",n[yA]&&(r.display="none"))}const Ed=/\s*!important$/;function ha(n,t,e){if(ft(e))e.forEach(r=>ha(n,t,r));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const r=wA(n,t);Ed.test(e)?n.setProperty(Gr(r),e.replace(Ed,""),"important"):n[r]=e}}const Td=["Webkit","Moz","ms"],dc={};function wA(n,t){const e=dc[t];if(e)return e;let r=He(t);if(r!=="filter"&&r in n)return dc[t]=r;r=ll(r);for(let s=0;s<Td.length;s++){const i=Td[s]+r;if(i in n)return dc[t]=i}return t}const wd="http://www.w3.org/1999/xlink";function Ad(n,t,e,r,s,i=OT(t)){r&&t.startsWith("xlink:")?e==null?n.removeAttributeNS(wd,t.slice(6,t.length)):n.setAttributeNS(wd,t,e):e==null||i&&!og(e)?n.removeAttribute(t):n.setAttribute(t,i?"":wr(e)?String(e):e)}function Id(n,t,e,r,s){if(t==="innerHTML"||t==="textContent"){e!=null&&(n[t]=t==="innerHTML"?h_(e):e);return}const i=n.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?n.getAttribute("value")||"":n.value,c=e==null?n.type==="checkbox"?"on":"":String(e);(l!==c||!("_value"in n))&&(n.value=c),e==null&&n.removeAttribute(t),n._value=e;return}let o=!1;if(e===""||e==null){const l=typeof n[t];l==="boolean"?e=og(e):e==null&&l==="string"?(e="",o=!0):l==="number"&&(e=0,o=!0)}try{n[t]=e}catch{}o&&n.removeAttribute(s||t)}function cs(n,t,e,r){n.addEventListener(t,e,r)}function AA(n,t,e,r){n.removeEventListener(t,e,r)}const bd=Symbol("_vei");function IA(n,t,e,r,s=null){const i=n[bd]||(n[bd]={}),o=i[t];if(r&&o)o.value=r;else{const[l,c]=bA(t);if(r){const h=i[t]=RA(r,s);cs(n,l,h,c)}else o&&(AA(n,l,o,c),i[t]=void 0)}}const Sd=/(?:Once|Passive|Capture)$/;function bA(n){let t;if(Sd.test(n)){t={};let r;for(;r=n.match(Sd);)n=n.slice(0,n.length-r[0].length),t[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Gr(n.slice(2)),t]}let pc=0;const SA=Promise.resolve(),CA=()=>pc||(SA.then(()=>pc=0),pc=Date.now());function RA(n,t){const e=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=e.attached)return;gn(PA(r,e.value),t,5,[r])};return e.value=n,e.attached=CA(),e}function PA(n,t){if(ft(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Cd=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,OA=(n,t,e,r,s,i)=>{const o=s==="svg";t==="class"?_A(n,r,o):t==="style"?TA(n,e,r):il(t)?Mu(t)||IA(n,t,e,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):NA(n,t,r,o))?(Id(n,t,r),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ad(n,t,r,o,i,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!Wt(r))?Id(n,He(t),r,i,t):(t==="true-value"?n._trueValue=r:t==="false-value"&&(n._falseValue=r),Ad(n,t,r,o))};function NA(n,t,e,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in n&&Cd(t)&&_t(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Cd(t)&&Wt(e)?!1:t in n}const Rd=n=>{const t=n.props["onUpdate:modelValue"]||!1;return ft(t)?e=>aa(t,e):t};function DA(n){n.target.composing=!0}function Pd(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const mc=Symbol("_assign"),Ri={created(n,{modifiers:{lazy:t,trim:e,number:r}},s){n[mc]=Rd(s);const i=r||s.props&&s.props.type==="number";cs(n,t?"change":"input",o=>{if(o.target.composing)return;let l=n.value;e&&(l=l.trim()),i&&(l=qc(l)),n[mc](l)}),e&&cs(n,"change",()=>{n.value=n.value.trim()}),t||(cs(n,"compositionstart",DA),cs(n,"compositionend",Pd),cs(n,"change",Pd))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:e,modifiers:{lazy:r,trim:s,number:i}},o){if(n[mc]=Rd(o),n.composing)return;const l=(i||n.type==="number")&&!/^0\d/.test(n.value)?qc(n.value):n.value,c=t??"";l!==c&&(document.activeElement===n&&n.type!=="range"&&(r&&t===e||s&&n.value.trim()===c)||(n.value=c))}},kA=["ctrl","shift","alt","meta"],VA={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>kA.some(e=>n[`${e}Key`]&&!t.includes(e))},xA=(n,t)=>{const e=n._withMods||(n._withMods={}),r=t.join(".");return e[r]||(e[r]=(s,...i)=>{for(let o=0;o<t.length;o++){const l=VA[t[o]];if(l&&l(s,t))return}return n(s,...i)})},LA=ye({patchProp:OA},mA);let Od;function MA(){return Od||(Od=$w(LA))}const FA=(...n)=>{const t=MA().createApp(...n),{mount:e}=t;return t.mount=r=>{const s=UA(r);if(!s)return;const i=t._component;!_t(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=e(s,!1,$A(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function $A(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function UA(n){return Wt(n)?document.querySelector(n):n}const BA=(n,t)=>{const e=n.__vccOpts||n;for(const[r,s]of t)e[r]=s;return e},jA={};function HA(n,t){const e=ww("router-view");return ir(),o_(e)}const WA=BA(jA,[["render",HA]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const us=typeof document<"u";function f_(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function qA(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&f_(n.default)}const Ct=Object.assign;function gc(n,t){const e={};for(const r in t){const s=t[r];e[r]=en(s)?s.map(n):n(s)}return e}const Fi=()=>{},en=Array.isArray,d_=/#/g,KA=/&/g,zA=/\//g,GA=/=/g,YA=/\?/g,p_=/\+/g,QA=/%5B/g,XA=/%5D/g,m_=/%5E/g,JA=/%60/g,g_=/%7B/g,ZA=/%7C/g,__=/%7D/g,tI=/%20/g;function eh(n){return encodeURI(""+n).replace(ZA,"|").replace(QA,"[").replace(XA,"]")}function eI(n){return eh(n).replace(g_,"{").replace(__,"}").replace(m_,"^")}function nu(n){return eh(n).replace(p_,"%2B").replace(tI,"+").replace(d_,"%23").replace(KA,"%26").replace(JA,"`").replace(g_,"{").replace(__,"}").replace(m_,"^")}function nI(n){return nu(n).replace(GA,"%3D")}function rI(n){return eh(n).replace(d_,"%23").replace(YA,"%3F")}function sI(n){return n==null?"":rI(n).replace(zA,"%2F")}function Zi(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const iI=/\/$/,oI=n=>n.replace(iI,"");function _c(n,t,e="/"){let r,s={},i="",o="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(r=t.slice(0,c),i=t.slice(c+1,l>-1?l:t.length),s=n(i)),l>-1&&(r=r||t.slice(0,l),o=t.slice(l,t.length)),r=uI(r??t,e),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Zi(o)}}function aI(n,t){const e=t.query?n(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function Nd(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function lI(n,t,e){const r=t.matched.length-1,s=e.matched.length-1;return r>-1&&r===s&&Ds(t.matched[r],e.matched[s])&&y_(t.params,e.params)&&n(t.query)===n(e.query)&&t.hash===e.hash}function Ds(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function y_(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(!cI(n[e],t[e]))return!1;return!0}function cI(n,t){return en(n)?Dd(n,t):en(t)?Dd(t,n):n===t}function Dd(n,t){return en(t)?n.length===t.length&&n.every((e,r)=>e===t[r]):n.length===1&&n[0]===t}function uI(n,t){if(n.startsWith("/"))return n;if(!n)return t;const e=t.split("/"),r=n.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=e.length-1,o,l;for(o=0;o<r.length;o++)if(l=r[o],l!==".")if(l==="..")i>1&&i--;else break;return e.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Gn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var to;(function(n){n.pop="pop",n.push="push"})(to||(to={}));var $i;(function(n){n.back="back",n.forward="forward",n.unknown=""})($i||($i={}));function hI(n){if(!n)if(us){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),oI(n)}const fI=/^[^#]+#/;function dI(n,t){return n.replace(fI,"#")+t}function pI(n,t){const e=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:t.behavior,left:r.left-e.left-(t.left||0),top:r.top-e.top-(t.top||0)}}const gl=()=>({left:window.scrollX,top:window.scrollY});function mI(n){let t;if("el"in n){const e=n.el,r=typeof e=="string"&&e.startsWith("#"),s=typeof e=="string"?r?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!s)return;t=pI(s,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function kd(n,t){return(history.state?history.state.position-t:-1)+n}const ru=new Map;function gI(n,t){ru.set(n,t)}function _I(n){const t=ru.get(n);return ru.delete(n),t}let yI=()=>location.protocol+"//"+location.host;function v_(n,t){const{pathname:e,search:r,hash:s}=t,i=n.indexOf("#");if(i>-1){let l=s.includes(n.slice(i))?n.slice(i).length:1,c=s.slice(l);return c[0]!=="/"&&(c="/"+c),Nd(c,"")}return Nd(e,n)+r+s}function vI(n,t,e,r){let s=[],i=[],o=null;const l=({state:m})=>{const _=v_(n,location),R=e.value,O=t.value;let N=0;if(m){if(e.value=_,t.value=m,o&&o===R){o=null;return}N=O?m.position-O.position:0}else r(_);s.forEach(U=>{U(e.value,R,{delta:N,type:to.pop,direction:N?N>0?$i.forward:$i.back:$i.unknown})})};function c(){o=e.value}function h(m){s.push(m);const _=()=>{const R=s.indexOf(m);R>-1&&s.splice(R,1)};return i.push(_),_}function f(){const{history:m}=window;m.state&&m.replaceState(Ct({},m.state,{scroll:gl()}),"")}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:c,listen:h,destroy:p}}function Vd(n,t,e,r=!1,s=!1){return{back:n,current:t,forward:e,replaced:r,position:window.history.length,scroll:s?gl():null}}function EI(n){const{history:t,location:e}=window,r={value:v_(n,e)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,h,f){const p=n.indexOf("#"),m=p>-1?(e.host&&document.querySelector("base")?n:n.slice(p))+c:yI()+n+c;try{t[f?"replaceState":"pushState"](h,"",m),s.value=h}catch(_){console.error(_),e[f?"replace":"assign"](m)}}function o(c,h){const f=Ct({},t.state,Vd(s.value.back,c,s.value.forward,!0),h,{position:s.value.position});i(c,f,!0),r.value=c}function l(c,h){const f=Ct({},s.value,t.state,{forward:c,scroll:gl()});i(f.current,f,!0);const p=Ct({},Vd(r.value,c,null),{position:f.position+1},h);i(c,p,!1),r.value=c}return{location:r,state:s,push:l,replace:o}}function TI(n){n=hI(n);const t=EI(n),e=vI(n,t.state,t.location,t.replace);function r(i,o=!0){o||e.pauseListeners(),history.go(i)}const s=Ct({location:"",base:n,go:r,createHref:dI.bind(null,n)},t,e);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function wI(n){return typeof n=="string"||n&&typeof n=="object"}function E_(n){return typeof n=="string"||typeof n=="symbol"}const T_=Symbol("");var xd;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(xd||(xd={}));function ks(n,t){return Ct(new Error,{type:n,[T_]:!0},t)}function In(n,t){return n instanceof Error&&T_ in n&&(t==null||!!(n.type&t))}const Ld="[^/]+?",AI={sensitive:!1,strict:!1,start:!0,end:!0},II=/[.+*?^${}()[\]/\\]/g;function bI(n,t){const e=Ct({},AI,t),r=[];let s=e.start?"^":"";const i=[];for(const h of n){const f=h.length?[]:[90];e.strict&&!h.length&&(s+="/");for(let p=0;p<h.length;p++){const m=h[p];let _=40+(e.sensitive?.25:0);if(m.type===0)p||(s+="/"),s+=m.value.replace(II,"\\$&"),_+=40;else if(m.type===1){const{value:R,repeatable:O,optional:N,regexp:U}=m;i.push({name:R,repeatable:O,optional:N});const V=U||Ld;if(V!==Ld){_+=10;try{new RegExp(`(${V})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${R}" (${V}): `+x.message)}}let B=O?`((?:${V})(?:/(?:${V}))*)`:`(${V})`;p||(B=N&&h.length<2?`(?:/${B})`:"/"+B),N&&(B+="?"),s+=B,_+=20,N&&(_+=-8),O&&(_+=-20),V===".*"&&(_+=-50)}f.push(_)}r.push(f)}if(e.strict&&e.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}e.strict||(s+="/?"),e.end?s+="$":e.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,e.sensitive?"":"i");function l(h){const f=h.match(o),p={};if(!f)return null;for(let m=1;m<f.length;m++){const _=f[m]||"",R=i[m-1];p[R.name]=_&&R.repeatable?_.split("/"):_}return p}function c(h){let f="",p=!1;for(const m of n){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const _ of m)if(_.type===0)f+=_.value;else if(_.type===1){const{value:R,repeatable:O,optional:N}=_,U=R in h?h[R]:"";if(en(U)&&!O)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const V=en(U)?U.join("/"):U;if(!V)if(N)m.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${R}"`);f+=V}}return f||"/"}return{re:o,score:r,keys:i,parse:l,stringify:c}}function SI(n,t){let e=0;for(;e<n.length&&e<t.length;){const r=t[e]-n[e];if(r)return r;e++}return n.length<t.length?n.length===1&&n[0]===80?-1:1:n.length>t.length?t.length===1&&t[0]===80?1:-1:0}function w_(n,t){let e=0;const r=n.score,s=t.score;for(;e<r.length&&e<s.length;){const i=SI(r[e],s[e]);if(i)return i;e++}if(Math.abs(s.length-r.length)===1){if(Md(r))return 1;if(Md(s))return-1}return s.length-r.length}function Md(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const CI={type:0,value:""},RI=/[a-zA-Z0-9_]/;function PI(n){if(!n)return[[]];if(n==="/")return[[CI]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(_){throw new Error(`ERR (${e})/"${h}": ${_}`)}let e=0,r=e;const s=[];let i;function o(){i&&s.push(i),i=[]}let l=0,c,h="",f="";function p(){h&&(e===0?i.push({type:0,value:h}):e===1||e===2||e===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:h,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function m(){h+=c}for(;l<n.length;){if(c=n[l++],c==="\\"&&e!==2){r=e,e=4;continue}switch(e){case 0:c==="/"?(h&&p(),o()):c===":"?(p(),e=1):m();break;case 4:m(),e=r;break;case 1:c==="("?e=2:RI.test(c)?m():(p(),e=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:e=3:f+=c;break;case 3:p(),e=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,f="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${h}"`),p(),o(),s}function OI(n,t,e){const r=bI(PI(n.path),e),s=Ct(r,{record:n,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function NI(n,t){const e=[],r=new Map;t=Bd({strict:!1,end:!0,sensitive:!1},t);function s(p){return r.get(p)}function i(p,m,_){const R=!_,O=$d(p);O.aliasOf=_&&_.record;const N=Bd(t,p),U=[O];if("alias"in p){const x=typeof p.alias=="string"?[p.alias]:p.alias;for(const J of x)U.push($d(Ct({},O,{components:_?_.record.components:O.components,path:J,aliasOf:_?_.record:O})))}let V,B;for(const x of U){const{path:J}=x;if(m&&J[0]!=="/"){const Z=m.record.path,A=Z[Z.length-1]==="/"?"":"/";x.path=m.record.path+(J&&A+J)}if(V=OI(x,m,N),_?_.alias.push(V):(B=B||V,B!==V&&B.alias.push(V),R&&p.name&&!Ud(V)&&o(p.name)),A_(V)&&c(V),O.children){const Z=O.children;for(let A=0;A<Z.length;A++)i(Z[A],V,_&&_.children[A])}_=_||V}return B?()=>{o(B)}:Fi}function o(p){if(E_(p)){const m=r.get(p);m&&(r.delete(p),e.splice(e.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=e.indexOf(p);m>-1&&(e.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function l(){return e}function c(p){const m=VI(p,e);e.splice(m,0,p),p.record.name&&!Ud(p)&&r.set(p.record.name,p)}function h(p,m){let _,R={},O,N;if("name"in p&&p.name){if(_=r.get(p.name),!_)throw ks(1,{location:p});N=_.record.name,R=Ct(Fd(m.params,_.keys.filter(B=>!B.optional).concat(_.parent?_.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),p.params&&Fd(p.params,_.keys.map(B=>B.name))),O=_.stringify(R)}else if(p.path!=null)O=p.path,_=e.find(B=>B.re.test(O)),_&&(R=_.parse(O),N=_.record.name);else{if(_=m.name?r.get(m.name):e.find(B=>B.re.test(m.path)),!_)throw ks(1,{location:p,currentLocation:m});N=_.record.name,R=Ct({},m.params,p.params),O=_.stringify(R)}const U=[];let V=_;for(;V;)U.unshift(V.record),V=V.parent;return{name:N,path:O,params:R,matched:U,meta:kI(U)}}n.forEach(p=>i(p));function f(){e.length=0,r.clear()}return{addRoute:i,resolve:h,removeRoute:o,clearRoutes:f,getRoutes:l,getRecordMatcher:s}}function Fd(n,t){const e={};for(const r of t)r in n&&(e[r]=n[r]);return e}function $d(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:DI(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function DI(n){const t={},e=n.props||!1;if("component"in n)t.default=e;else for(const r in n.components)t[r]=typeof e=="object"?e[r]:e;return t}function Ud(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function kI(n){return n.reduce((t,e)=>Ct(t,e.meta),{})}function Bd(n,t){const e={};for(const r in n)e[r]=r in t?t[r]:n[r];return e}function VI(n,t){let e=0,r=t.length;for(;e!==r;){const i=e+r>>1;w_(n,t[i])<0?r=i:e=i+1}const s=xI(n);return s&&(r=t.lastIndexOf(s,r-1)),r}function xI(n){let t=n;for(;t=t.parent;)if(A_(t)&&w_(n,t)===0)return t}function A_({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function LI(n){const t={};if(n===""||n==="?")return t;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(p_," "),o=i.indexOf("="),l=Zi(o<0?i:i.slice(0,o)),c=o<0?null:Zi(i.slice(o+1));if(l in t){let h=t[l];en(h)||(h=t[l]=[h]),h.push(c)}else t[l]=c}return t}function jd(n){let t="";for(let e in n){const r=n[e];if(e=nI(e),r==null){r!==void 0&&(t+=(t.length?"&":"")+e);continue}(en(r)?r.map(i=>i&&nu(i)):[r&&nu(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+e,i!=null&&(t+="="+i))})}return t}function MI(n){const t={};for(const e in n){const r=n[e];r!==void 0&&(t[e]=en(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const FI=Symbol(""),Hd=Symbol(""),_l=Symbol(""),I_=Symbol(""),su=Symbol("");function wi(){let n=[];function t(r){return n.push(r),()=>{const s=n.indexOf(r);s>-1&&n.splice(s,1)}}function e(){n=[]}return{add:t,list:()=>n.slice(),reset:e}}function Zn(n,t,e,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const h=m=>{m===!1?c(ks(4,{from:e,to:t})):m instanceof Error?c(m):wI(m)?c(ks(2,{from:t,to:m})):(o&&r.enterCallbacks[s]===o&&typeof m=="function"&&o.push(m),l())},f=i(()=>n.call(r&&r.instances[s],t,e,h));let p=Promise.resolve(f);n.length<3&&(p=p.then(h)),p.catch(m=>c(m))})}function yc(n,t,e,r,s=i=>i()){const i=[];for(const o of n)for(const l in o.components){let c=o.components[l];if(!(t!=="beforeRouteEnter"&&!o.instances[l]))if(f_(c)){const f=(c.__vccOpts||c)[t];f&&i.push(Zn(f,e,r,o,l,s))}else{let h=c();i.push(()=>h.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const p=qA(f)?f.default:f;o.mods[l]=f,o.components[l]=p;const _=(p.__vccOpts||p)[t];return _&&Zn(_,e,r,o,l,s)()}))}}return i}function Wd(n){const t=un(_l),e=un(I_),r=Fe(()=>{const c=ws(n.to);return t.resolve(c)}),s=Fe(()=>{const{matched:c}=r.value,{length:h}=c,f=c[h-1],p=e.matched;if(!f||!p.length)return-1;const m=p.findIndex(Ds.bind(null,f));if(m>-1)return m;const _=qd(c[h-2]);return h>1&&qd(f)===_&&p[p.length-1].path!==_?p.findIndex(Ds.bind(null,c[h-2])):m}),i=Fe(()=>s.value>-1&&HI(e.params,r.value.params)),o=Fe(()=>s.value>-1&&s.value===e.matched.length-1&&y_(e.params,r.value.params));function l(c={}){if(jI(c)){const h=t[ws(n.replace)?"replace":"push"](ws(n.to)).catch(Fi);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Fe(()=>r.value.href),isActive:i,isExactActive:o,navigate:l}}function $I(n){return n.length===1?n[0]:n}const UI=kg({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Wd,setup(n,{slots:t}){const e=uo(Wd(n)),{options:r}=un(_l),s=Fe(()=>({[Kd(n.activeClass,r.linkActiveClass,"router-link-active")]:e.isActive,[Kd(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const i=t.default&&$I(t.default(e));return n.custom?i:u_("a",{"aria-current":e.isExactActive?n.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:s.value},i)}}}),BI=UI;function jI(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function HI(n,t){for(const e in t){const r=t[e],s=n[e];if(typeof r=="string"){if(r!==s)return!1}else if(!en(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function qd(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Kd=(n,t,e)=>n??t??e,WI=kg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:e}){const r=un(su),s=Fe(()=>n.route||r.value),i=un(Hd,0),o=Fe(()=>{let h=ws(i);const{matched:f}=s.value;let p;for(;(p=f[h])&&!p.components;)h++;return h}),l=Fe(()=>s.value.matched[o.value]);la(Hd,Fe(()=>o.value+1)),la(FI,l),la(su,s);const c=Sa();return ca(()=>[c.value,l.value,n.name],([h,f,p],[m,_,R])=>{f&&(f.instances[p]=h,_&&_!==f&&h&&h===m&&(f.leaveGuards.size||(f.leaveGuards=_.leaveGuards),f.updateGuards.size||(f.updateGuards=_.updateGuards))),h&&f&&(!_||!Ds(f,_)||!m)&&(f.enterCallbacks[p]||[]).forEach(O=>O(h))},{flush:"post"}),()=>{const h=s.value,f=n.name,p=l.value,m=p&&p.components[f];if(!m)return zd(e.default,{Component:m,route:h});const _=p.props[f],R=_?_===!0?h.params:typeof _=="function"?_(h):_:null,N=u_(m,Ct({},R,t,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(p.instances[f]=null)},ref:c}));return zd(e.default,{Component:N,route:h})||N}}});function zd(n,t){if(!n)return null;const e=n(t);return e.length===1?e[0]:e}const qI=WI;function KI(n){const t=NI(n.routes,n),e=n.parseQuery||LI,r=n.stringifyQuery||jd,s=n.history,i=wi(),o=wi(),l=wi(),c=JT(Gn);let h=Gn;us&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=gc.bind(null,k=>""+k),p=gc.bind(null,sI),m=gc.bind(null,Zi);function _(k,X){let Y,et;return E_(k)?(Y=t.getRecordMatcher(k),et=X):et=k,t.addRoute(et,Y)}function R(k){const X=t.getRecordMatcher(k);X&&t.removeRoute(X)}function O(){return t.getRoutes().map(k=>k.record)}function N(k){return!!t.getRecordMatcher(k)}function U(k,X){if(X=Ct({},X||c.value),typeof k=="string"){const C=_c(e,k,X.path),L=t.resolve({path:C.path},X),F=s.createHref(C.fullPath);return Ct(C,L,{params:m(L.params),hash:Zi(C.hash),redirectedFrom:void 0,href:F})}let Y;if(k.path!=null)Y=Ct({},k,{path:_c(e,k.path,X.path).path});else{const C=Ct({},k.params);for(const L in C)C[L]==null&&delete C[L];Y=Ct({},k,{params:p(C)}),X.params=p(X.params)}const et=t.resolve(Y,X),Tt=k.hash||"";et.params=f(m(et.params));const v=aI(r,Ct({},k,{hash:eI(Tt),path:et.path})),w=s.createHref(v);return Ct({fullPath:v,hash:Tt,query:r===jd?MI(k.query):k.query||{}},et,{redirectedFrom:void 0,href:w})}function V(k){return typeof k=="string"?_c(e,k,c.value.path):Ct({},k)}function B(k,X){if(h!==k)return ks(8,{from:X,to:k})}function x(k){return A(k)}function J(k){return x(Ct(V(k),{replace:!0}))}function Z(k){const X=k.matched[k.matched.length-1];if(X&&X.redirect){const{redirect:Y}=X;let et=typeof Y=="function"?Y(k):Y;return typeof et=="string"&&(et=et.includes("?")||et.includes("#")?et=V(et):{path:et},et.params={}),Ct({query:k.query,hash:k.hash,params:et.path!=null?{}:k.params},et)}}function A(k,X){const Y=h=U(k),et=c.value,Tt=k.state,v=k.force,w=k.replace===!0,C=Z(Y);if(C)return A(Ct(V(C),{state:typeof C=="object"?Ct({},Tt,C.state):Tt,force:v,replace:w}),X||Y);const L=Y;L.redirectedFrom=X;let F;return!v&&lI(r,et,Y)&&(F=ks(16,{to:L,from:et}),ae(et,et,!0,!1)),(F?Promise.resolve(F):I(L,et)).catch(M=>In(M)?In(M,2)?M:oe(M):yt(M,L,et)).then(M=>{if(M){if(In(M,2))return A(Ct({replace:w},V(M.to),{state:typeof M.to=="object"?Ct({},Tt,M.to.state):Tt,force:v}),X||L)}else M=S(L,et,!0,w,Tt);return b(L,et,M),M})}function y(k,X){const Y=B(k,X);return Y?Promise.reject(Y):Promise.resolve()}function E(k){const X=Ee.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(k):k()}function I(k,X){let Y;const[et,Tt,v]=zI(k,X);Y=yc(et.reverse(),"beforeRouteLeave",k,X);for(const C of et)C.leaveGuards.forEach(L=>{Y.push(Zn(L,k,X))});const w=y.bind(null,k,X);return Y.push(w),Kt(Y).then(()=>{Y=[];for(const C of i.list())Y.push(Zn(C,k,X));return Y.push(w),Kt(Y)}).then(()=>{Y=yc(Tt,"beforeRouteUpdate",k,X);for(const C of Tt)C.updateGuards.forEach(L=>{Y.push(Zn(L,k,X))});return Y.push(w),Kt(Y)}).then(()=>{Y=[];for(const C of v)if(C.beforeEnter)if(en(C.beforeEnter))for(const L of C.beforeEnter)Y.push(Zn(L,k,X));else Y.push(Zn(C.beforeEnter,k,X));return Y.push(w),Kt(Y)}).then(()=>(k.matched.forEach(C=>C.enterCallbacks={}),Y=yc(v,"beforeRouteEnter",k,X,E),Y.push(w),Kt(Y))).then(()=>{Y=[];for(const C of o.list())Y.push(Zn(C,k,X));return Y.push(w),Kt(Y)}).catch(C=>In(C,8)?C:Promise.reject(C))}function b(k,X,Y){l.list().forEach(et=>E(()=>et(k,X,Y)))}function S(k,X,Y,et,Tt){const v=B(k,X);if(v)return v;const w=X===Gn,C=us?history.state:{};Y&&(et||w?s.replace(k.fullPath,Ct({scroll:w&&C&&C.scroll},Tt)):s.push(k.fullPath,Tt)),c.value=k,ae(k,X,Y,w),oe()}let T;function $t(){T||(T=s.listen((k,X,Y)=>{if(!Gt.listening)return;const et=U(k),Tt=Z(et);if(Tt){A(Ct(Tt,{replace:!0,force:!0}),et).catch(Fi);return}h=et;const v=c.value;us&&gI(kd(v.fullPath,Y.delta),gl()),I(et,v).catch(w=>In(w,12)?w:In(w,2)?(A(Ct(V(w.to),{force:!0}),et).then(C=>{In(C,20)&&!Y.delta&&Y.type===to.pop&&s.go(-1,!1)}).catch(Fi),Promise.reject()):(Y.delta&&s.go(-Y.delta,!1),yt(w,et,v))).then(w=>{w=w||S(et,v,!1),w&&(Y.delta&&!In(w,8)?s.go(-Y.delta,!1):Y.type===to.pop&&In(w,20)&&s.go(-1,!1)),b(et,v,w)}).catch(Fi)}))}let qt=wi(),It=wi(),ht;function yt(k,X,Y){oe(k);const et=It.list();return et.length?et.forEach(Tt=>Tt(k,X,Y)):console.error(k),Promise.reject(k)}function jt(){return ht&&c.value!==Gn?Promise.resolve():new Promise((k,X)=>{qt.add([k,X])})}function oe(k){return ht||(ht=!k,$t(),qt.list().forEach(([X,Y])=>k?Y(k):X()),qt.reset()),k}function ae(k,X,Y,et){const{scrollBehavior:Tt}=n;if(!us||!Tt)return Promise.resolve();const v=!Y&&_I(kd(k.fullPath,0))||(et||!Y)&&history.state&&history.state.scroll||null;return Rg().then(()=>Tt(k,X,v)).then(w=>w&&mI(w)).catch(w=>yt(w,k,X))}const Nt=k=>s.go(k);let Dt;const Ee=new Set,Gt={currentRoute:c,listening:!0,addRoute:_,removeRoute:R,clearRoutes:t.clearRoutes,hasRoute:N,getRoutes:O,resolve:U,options:n,push:x,replace:J,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:It.add,isReady:jt,install(k){const X=this;k.component("RouterLink",BI),k.component("RouterView",qI),k.config.globalProperties.$router=X,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>ws(c)}),us&&!Dt&&c.value===Gn&&(Dt=!0,x(s.location).catch(Tt=>{}));const Y={};for(const Tt in Gn)Object.defineProperty(Y,Tt,{get:()=>c.value[Tt],enumerable:!0});k.provide(_l,X),k.provide(I_,Ag(Y)),k.provide(su,c);const et=k.unmount;Ee.add(k),k.unmount=function(){Ee.delete(k),Ee.size<1&&(h=Gn,T&&T(),T=null,c.value=Gn,Dt=!1,ht=!1),et()}}};function Kt(k){return k.reduce((X,Y)=>X.then(()=>E(Y)),Promise.resolve())}return Gt}function zI(n,t){const e=[],r=[],s=[],i=Math.max(t.matched.length,n.matched.length);for(let o=0;o<i;o++){const l=t.matched[o];l&&(n.matched.find(h=>Ds(h,l))?r.push(l):e.push(l));const c=n.matched[o];c&&(t.matched.find(h=>Ds(h,c))||s.push(c))}return[e,r,s]}function b_(){return un(_l)}const GI=()=>{};var Gd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},YI=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const s=n[e++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[e++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[e++],o=n[e++],l=n[e++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=n[e++],o=n[e++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},C_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,l=o?n[s+1]:0,c=s+2<n.length,h=c?n[s+2]:0,f=i>>2,p=(i&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;c||(_=64,o||(m=64)),r.push(e[f],e[p],e[m],e[_])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(S_(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):YI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=e[n.charAt(s++)],l=s<n.length?e[n.charAt(s)]:0;++s;const h=s<n.length?e[n.charAt(s)]:64;++s;const p=s<n.length?e[n.charAt(s)]:64;if(++s,i==null||l==null||h==null||p==null)throw new QI;const m=i<<2|l>>4;if(r.push(m),h!==64){const _=l<<4&240|h>>2;if(r.push(_),p!==64){const R=h<<6&192|p;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XI=function(n){const t=S_(n);return C_.encodeByteArray(t,!0)},Va=function(n){return XI(n).replace(/\./g,"")},R_=function(n){try{return C_.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=()=>JI().__FIREBASE_DEFAULTS__,tb=()=>{if(typeof process>"u"||typeof Gd>"u")return;const n=Gd.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},eb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&R_(n[1]);return t&&JSON.parse(t)},yl=()=>{try{return GI()||ZI()||tb()||eb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},P_=n=>{var t,e;return(e=(t=yl())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},nb=n=>{const t=P_(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},O_=()=>{var n;return(n=yl())===null||n===void 0?void 0:n.config},N_=n=>{var t;return(t=yl())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(n){return n.endsWith(".cloudworkstations.dev")}async function D_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Va(JSON.stringify(e)),Va(JSON.stringify(o)),""].join(".")}const Ui={};function ib(){const n={prod:[],emulator:[]};for(const t of Object.keys(Ui))Ui[t]?n.emulator.push(t):n.prod.push(t);return n}function ob(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Yd=!1;function k_(n,t){if(typeof window>"u"||typeof document>"u"||!Qs(window.location.host)||Ui[n]===t||Ui[n]||Yd)return;Ui[n]=t;function e(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=ib().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Yd=!0,o()},m}function f(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=ob(r),_=e("text"),R=document.getElementById(_)||document.createElement("span"),O=e("learnmore"),N=document.getElementById(O)||document.createElement("a"),U=e("preprendIcon"),V=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const B=m.element;l(B),f(N,O);const x=h();c(V,U),B.append(V,R,N,x),document.body.appendChild(B)}i?(R.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ab(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function lb(){var n;const t=(n=yl())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ub(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fb(){const n=ve();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function db(){return!lb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pb(){try{return typeof indexedDB=="object"}catch{return!1}}function mb(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="FirebaseError";class jn extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=gb,Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,po.prototype.create)}}class po{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?_b(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new jn(s,l,r)}}function _b(n,t){return n.replace(yb,(e,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const yb=/\{\$([^}]+)}/g;function vb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Br(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const s of e){if(!r.includes(s))return!1;const i=n[s],o=t[s];if(Qd(i)&&Qd(o)){if(!Br(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!e.includes(s))return!1;return!0}function Qd(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Eb(n,t){const e=new Tb(n,t);return e.subscribe.bind(e)}class Tb{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let s;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");wb(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:r},s.next===void 0&&(s.next=vc),s.error===void 0&&(s.error=vc),s.complete===void 0&&(s.complete=vc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wb(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function vc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(n){return n&&n._delegate?n._delegate:n}class jr{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new rb;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bb(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(t,e){var r;const s=this.normalizeInstanceIdentifier(e),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const s of r)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ib(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ib(n){return n===kr?void 0:n}function bb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Ab(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wt||(wt={}));const Cb={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},Rb=wt.INFO,Pb={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},Ob=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),s=Pb[t];if(s)console[s](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class nh{constructor(t){this.name=t,this._logLevel=Rb,this._logHandler=Ob,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Cb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...t),this._logHandler(this,wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...t),this._logHandler(this,wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...t),this._logHandler(this,wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...t),this._logHandler(this,wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...t),this._logHandler(this,wt.ERROR,...t)}}const Nb=(n,t)=>t.some(e=>n instanceof e);let Xd,Jd;function Db(){return Xd||(Xd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kb(){return Jd||(Jd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V_=new WeakMap,iu=new WeakMap,x_=new WeakMap,Ec=new WeakMap,rh=new WeakMap;function Vb(n){const t=new Promise((e,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{e(or(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&V_.set(e,n)}).catch(()=>{}),rh.set(t,n),t}function xb(n){if(iu.has(n))return;const t=new Promise((e,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{e(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});iu.set(n,t)}let ou={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return iu.get(n);if(t==="objectStoreNames")return n.objectStoreNames||x_.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return or(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Lb(n){ou=n(ou)}function Mb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Tc(this),t,...e);return x_.set(r,t.sort?t.sort():[t]),or(r)}:kb().includes(n)?function(...t){return n.apply(Tc(this),t),or(V_.get(this))}:function(...t){return or(n.apply(Tc(this),t))}}function Fb(n){return typeof n=="function"?Mb(n):(n instanceof IDBTransaction&&xb(n),Nb(n,Db())?new Proxy(n,ou):n)}function or(n){if(n instanceof IDBRequest)return Vb(n);if(Ec.has(n))return Ec.get(n);const t=Fb(n);return t!==n&&(Ec.set(n,t),rh.set(t,n)),t}const Tc=n=>rh.get(n);function $b(n,t,{blocked:e,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,t),l=or(o);return r&&o.addEventListener("upgradeneeded",c=>{r(or(o.result),c.oldVersion,c.newVersion,or(o.transaction),c)}),e&&o.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Ub=["get","getKey","getAll","getAllKeys","count"],Bb=["put","add","delete","clear"],wc=new Map;function Zd(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(wc.get(t))return wc.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,s=Bb.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Ub.includes(e)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[e](...l),s&&c.done]))[0]};return wc.set(t,i),i}Lb(n=>({...n,get:(t,e,r)=>Zd(t,e)||n.get(t,e,r),has:(t,e)=>!!Zd(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Hb(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function Hb(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const au="@firebase/app",tp="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new nh("@firebase/app"),Wb="@firebase/app-compat",qb="@firebase/analytics-compat",Kb="@firebase/analytics",zb="@firebase/app-check-compat",Gb="@firebase/app-check",Yb="@firebase/auth",Qb="@firebase/auth-compat",Xb="@firebase/database",Jb="@firebase/data-connect",Zb="@firebase/database-compat",tS="@firebase/functions",eS="@firebase/functions-compat",nS="@firebase/installations",rS="@firebase/installations-compat",sS="@firebase/messaging",iS="@firebase/messaging-compat",oS="@firebase/performance",aS="@firebase/performance-compat",lS="@firebase/remote-config",cS="@firebase/remote-config-compat",uS="@firebase/storage",hS="@firebase/storage-compat",fS="@firebase/firestore",dS="@firebase/ai",pS="@firebase/firestore-compat",mS="firebase",gS="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu="[DEFAULT]",_S={[au]:"fire-core",[Wb]:"fire-core-compat",[Kb]:"fire-analytics",[qb]:"fire-analytics-compat",[Gb]:"fire-app-check",[zb]:"fire-app-check-compat",[Yb]:"fire-auth",[Qb]:"fire-auth-compat",[Xb]:"fire-rtdb",[Jb]:"fire-data-connect",[Zb]:"fire-rtdb-compat",[tS]:"fire-fn",[eS]:"fire-fn-compat",[nS]:"fire-iid",[rS]:"fire-iid-compat",[sS]:"fire-fcm",[iS]:"fire-fcm-compat",[oS]:"fire-perf",[aS]:"fire-perf-compat",[lS]:"fire-rc",[cS]:"fire-rc-compat",[uS]:"fire-gcs",[hS]:"fire-gcs-compat",[fS]:"fire-fst",[pS]:"fire-fst-compat",[dS]:"fire-vertex","fire-js":"fire-js",[mS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Map,yS=new Map,cu=new Map;function ep(n,t){try{n.container.addComponent(t)}catch(e){Ln.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Vs(n){const t=n.name;if(cu.has(t))return Ln.debug(`There were multiple attempts to register component ${t}.`),!1;cu.set(t,n);for(const e of xa.values())ep(e,n);for(const e of yS.values())ep(e,n);return!0}function sh(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ye(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new po("app","Firebase",vS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=gS;function L_(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:lu,automaticDataCollectionEnabled:!0},t),s=r.name;if(typeof s!="string"||!s)throw ar.create("bad-app-name",{appName:String(s)});if(e||(e=O_()),!e)throw ar.create("no-options");const i=xa.get(s);if(i){if(Br(e,i.options)&&Br(r,i.config))return i;throw ar.create("duplicate-app",{appName:s})}const o=new Sb(s);for(const c of cu.values())o.addComponent(c);const l=new ES(e,r,o);return xa.set(s,l),l}function M_(n=lu){const t=xa.get(n);if(!t&&n===lu&&O_())return L_();if(!t)throw ar.create("no-app",{appName:n});return t}function lr(n,t,e){var r;let s=(r=_S[n])!==null&&r!==void 0?r:n;e&&(s+=`-${e}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${t}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ln.warn(l.join(" "));return}Vs(new jr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firebase-heartbeat-database",wS=1,eo="firebase-heartbeat-store";let Ac=null;function F_(){return Ac||(Ac=$b(TS,wS,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(eo)}catch(e){console.warn(e)}}}}).catch(n=>{throw ar.create("idb-open",{originalErrorMessage:n.message})})),Ac}async function AS(n){try{const e=(await F_()).transaction(eo),r=await e.objectStore(eo).get($_(n));return await e.done,r}catch(t){if(t instanceof jn)Ln.warn(t.message);else{const e=ar.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ln.warn(e.message)}}}async function np(n,t){try{const r=(await F_()).transaction(eo,"readwrite");await r.objectStore(eo).put(t,$_(n)),await r.done}catch(e){if(e instanceof jn)Ln.warn(e.message);else{const r=ar.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ln.warn(r.message)}}}function $_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=1024,bS=30;class SS{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new RS(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rp();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>bS){const o=PS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ln.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rp(),{heartbeatsToSend:r,unsentEntries:s}=CS(this._heartbeatsCache.heartbeats),i=Va(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ln.warn(e),""}}}function rp(){return new Date().toISOString().substring(0,10)}function CS(n,t=IS){const e=[];let r=n.slice();for(const s of n){const i=e.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),sp(e)>t){i.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),sp(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class RS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pb()?mb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await AS(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return np(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return np(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function sp(n){return Va(JSON.stringify({version:2,heartbeats:n})).length}function PS(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){Vs(new jr("platform-logger",t=>new jb(t),"PRIVATE")),Vs(new jr("heartbeat",t=>new SS(t),"PRIVATE")),lr(au,tp,n),lr(au,tp,"esm2017"),lr("fire-js","")}OS("");function ih(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(e[r[s]]=n[r[s]]);return e}function U_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NS=U_,B_=new po("auth","Firebase",U_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new nh("@firebase/auth");function DS(n,...t){La.logLevel<=wt.WARN&&La.warn(`Auth (${Xs}): ${n}`,...t)}function fa(n,...t){La.logLevel<=wt.ERROR&&La.error(`Auth (${Xs}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(n,...t){throw ah(n,...t)}function Ze(n,...t){return ah(n,...t)}function oh(n,t,e){const r=Object.assign(Object.assign({},NS()),{[t]:e});return new po("auth","Firebase",r).create(t,{appName:n.name})}function $r(n){return oh(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kS(n,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&_n(n,"argument-error"),oh(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ah(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return B_.create(n,...t)}function ut(n,t,...e){if(!n)throw ah(t,...e)}function Pn(n){const t="INTERNAL ASSERTION FAILED: "+n;throw fa(t),new Error(t)}function Mn(n,t){n||Pn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function VS(){return ip()==="http:"||ip()==="https:"}function ip(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VS()||ub()||"connection"in navigator)?navigator.onLine:!0}function LS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,e){this.shortDelay=t,this.longDelay=e,Mn(e>t,"Short delay should be less than long delay!"),this.isMobile=ab()||hb()}get(){return xS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(n,t){Mn(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$S=new go(3e4,6e4);function ch(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Js(n,t,e,r,s={}){return H_(n,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const l=mo(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:t,headers:c},i);return cb()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&Qs(n.emulatorConfig.host)&&(h.credentials="include"),j_.fetch()(await W_(n,n.config.apiHost,e,l),h)})}async function H_(n,t,e){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},MS),t);try{const s=new BS(n),i=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw zo(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zo(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw zo(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw zo(n,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw oh(n,f,h);_n(n,f)}}catch(s){if(s instanceof jn)throw s;_n(n,"network-request-failed",{message:String(s)})}}async function US(n,t,e,r,s={}){const i=await Js(n,t,e,r,s);return"mfaPendingCredential"in i&&_n(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function W_(n,t,e,r){const s=`${t}${e}?${r}`,i=n,o=i.config.emulator?lh(n.config,s):`${n.config.apiScheme}://${s}`;return FS.includes(e)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class BS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Ze(this.auth,"network-request-failed")),$S.get())})}}function zo(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const s=Ze(n,t,r);return s.customData._tokenResponse=e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(n,t){return Js(n,"POST","/v1/accounts:delete",t)}async function Ma(n,t){return Js(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function HS(n,t=!1){const e=We(n),r=await e.getIdToken(t),s=uh(r);ut(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Bi(Ic(s.auth_time)),issuedAtTime:Bi(Ic(s.iat)),expirationTime:Bi(Ic(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ic(n){return Number(n)*1e3}function uh(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return fa("JWT malformed, contained fewer than 3 sections"),null;try{const s=R_(e);return s?JSON.parse(s):(fa("Failed to decode base64 JWT payload"),null)}catch(s){return fa("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function op(n){const t=uh(n);return ut(t,"internal-error"),ut(typeof t.exp<"u","internal-error"),ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof jn&&WS(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function WS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bi(this.lastLoginAt),this.creationTime=Bi(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(n){var t;const e=n.auth,r=await n.getIdToken(),s=await no(n,Ma(e,{idToken:r}));ut(s==null?void 0:s.users.length,e,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const o=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?q_(i.providerUserInfo):[],l=zS(n.providerData,o),c=n.isAnonymous,h=!(n.email&&i.passwordHash)&&!(l!=null&&l.length),f=c?h:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new hu(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function KS(n){const t=We(n);await Fa(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zS(n,t){return[...n.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function q_(n){return n.map(t=>{var{providerId:e}=t,r=ih(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(n,t){const e=await H_(n,{},async()=>{const r=mo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=await W_(n,s,"/v1/token",`key=${i}`),l=await n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return n.emulatorConfig&&Qs(n.emulatorConfig.host)&&(c.credentials="include"),j_.fetch()(o,c)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function YS(n,t){return Js(n,"POST","/v2/accounts:revokeToken",ch(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ut(t.idToken,"internal-error"),ut(typeof t.idToken<"u","internal-error"),ut(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):op(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ut(t.length!==0,"internal-error");const e=op(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:s,expiresIn:i}=await GS(t,e);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:s,expirationTime:i}=e,o=new Ss;return r&&(ut(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(ut(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(ut(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ss,this.toJSON())}_performRefresh(){return Pn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(n,t){ut(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Qe{constructor(t){var{uid:e,auth:r,stsTokenManager:s}=t,i=ih(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hu(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await no(this,this.stsTokenManager.getToken(this.auth,t));return ut(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return HS(this,t)}reload(){return KS(this)}_assign(t){this!==t&&(ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Qe(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Fa(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ye(this.auth.app))return Promise.reject($r(this.auth));const t=await this.getIdToken();return await no(this,jS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,s,i,o,l,c,h,f;const p=(r=e.displayName)!==null&&r!==void 0?r:void 0,m=(s=e.email)!==null&&s!==void 0?s:void 0,_=(i=e.phoneNumber)!==null&&i!==void 0?i:void 0,R=(o=e.photoURL)!==null&&o!==void 0?o:void 0,O=(l=e.tenantId)!==null&&l!==void 0?l:void 0,N=(c=e._redirectEventId)!==null&&c!==void 0?c:void 0,U=(h=e.createdAt)!==null&&h!==void 0?h:void 0,V=(f=e.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:B,emailVerified:x,isAnonymous:J,providerData:Z,stsTokenManager:A}=e;ut(B&&A,t,"internal-error");const y=Ss.fromJSON(this.name,A);ut(typeof B=="string",t,"internal-error"),Yn(p,t.name),Yn(m,t.name),ut(typeof x=="boolean",t,"internal-error"),ut(typeof J=="boolean",t,"internal-error"),Yn(_,t.name),Yn(R,t.name),Yn(O,t.name),Yn(N,t.name),Yn(U,t.name),Yn(V,t.name);const E=new Qe({uid:B,auth:t,email:m,emailVerified:x,displayName:p,isAnonymous:J,photoURL:R,phoneNumber:_,tenantId:O,stsTokenManager:y,createdAt:U,lastLoginAt:V});return Z&&Array.isArray(Z)&&(E.providerData=Z.map(I=>Object.assign({},I))),N&&(E._redirectEventId=N),E}static async _fromIdTokenResponse(t,e,r=!1){const s=new Ss;s.updateFromServerResponse(e);const i=new Qe({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Fa(i),i}static async _fromGetAccountInfoResponse(t,e,r){const s=e.users[0];ut(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?q_(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Ss;l.updateFromIdToken(r);const c=new Qe({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new hu(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Map;function On(n){Mn(n instanceof Function,"Expected a class definition");let t=ap.get(n);return t?(Mn(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,ap.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}K_.type="NONE";const lp=K_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(n,t,e){return`firebase:${n}:${t}:${e}`}class Cs{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=da(this.userKey,s.apiKey,i),this.fullPersistenceKey=da("persistence",s.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Ma(this.auth,{idToken:t}).catch(()=>{});return e?Qe._fromGetAccountInfoResponse(this.auth,e,t):null}return Qe._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Cs(On(lp),t,r);const s=(await Promise.all(e.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||On(lp);const o=da(r,t.config.apiKey,t.name);let l=null;for(const h of e)try{const f=await h._get(o);if(f){let p;if(typeof f=="string"){const m=await Ma(t,{idToken:f}).catch(()=>{});if(!m)break;p=await Qe._fromGetAccountInfoResponse(t,m,f)}else p=Qe._fromJSON(t,f);h!==i&&(l=p),i=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Cs(i,t,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(e.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Cs(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Q_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(z_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(J_(t))return"Blackberry";if(Z_(t))return"Webos";if(G_(t))return"Safari";if((t.includes("chrome/")||Y_(t))&&!t.includes("edge/"))return"Chrome";if(X_(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function z_(n=ve()){return/firefox\//i.test(n)}function G_(n=ve()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Y_(n=ve()){return/crios\//i.test(n)}function Q_(n=ve()){return/iemobile/i.test(n)}function X_(n=ve()){return/android/i.test(n)}function J_(n=ve()){return/blackberry/i.test(n)}function Z_(n=ve()){return/webos/i.test(n)}function hh(n=ve()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QS(n=ve()){var t;return hh(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function XS(){return fb()&&document.documentMode===10}function ty(n=ve()){return hh(n)||X_(n)||Z_(n)||J_(n)||/windows phone/i.test(n)||Q_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(n,t=[]){let e;switch(n){case"Browser":e=cp(ve());break;case"Worker":e=`${cp(ve())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Xs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=i=>new Promise((o,l)=>{try{const c=t(i);o(c)}catch(c){l(c)}});r.onAbort=e,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(n,t={}){return Js(n,"GET","/v2/passwordPolicy",ch(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=6;class e0{constructor(t){var e,r,s,i;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:t0,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=t.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(e=c.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let s=0;s<t.length;s++)r=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t,e,r,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new up(this),this.idTokenSubscription=new up(this),this.beforeStateQueue=new JS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=On(e)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Cs.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Ma(this,{idToken:t}),r=await Qe._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Ye(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Fa(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=LS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ye(this.app))return Promise.reject($r(this));const e=t?We(t):null;return e&&ut(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ye(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ye(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(On(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZS(this),e=new e0(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new po("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await YS(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&On(t)||this._popupRedirectResolver;ut(e,this,"argument-error"),this.redirectPersistenceManager=await Cs.create(this,[On(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,s){if(this._deleted)return()=>{};const i=typeof e=="function"?e:e.next.bind(e);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ut(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof e=="function"){const c=t.addObserver(e,r,s);return()=>{o=!0,c()}}else{const c=t.addObserver(e);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ey(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(Ye(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&DS(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vl(n){return We(n)}class up{constructor(t){this.auth=t,this.observer=null,this.addObserver=Eb(e=>this.observer=e)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r0(n){fh=n}function s0(n){return fh.loadJS(n)}function i0(){return fh.gapiScript}function o0(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(n,t){const e=sh(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),i=e.getOptions();if(Br(i,t??{}))return s;_n(s,"already-initialized")}return e.initialize({options:t})}function l0(n,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(On);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function c0(n,t,e){const r=vl(n);ut(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!1,i=ny(t),{host:o,port:l}=u0(t),c=l===null?"":`:${l}`,h={url:`${i}//${o}${c}/`},f=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ut(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ut(Br(h,r.config.emulator)&&Br(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Qs(o)?(D_(`${i}//${o}${c}`),k_("Auth",!0)):h0()}function ny(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function u0(n){const t=ny(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:hp(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:hp(o)}}}function hp(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function h0(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Pn("not implemented")}_getIdTokenResponse(t){return Pn("not implemented")}_linkToIdToken(t,e){return Pn("not implemented")}_getReauthenticationResolver(t){return Pn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(n,t){return US(n,"POST","/v1/accounts:signInWithIdp",ch(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="http://localhost";class Hr extends ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Hr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):_n("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=e,i=ih(e,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Hr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return Rs(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,Rs(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Rs(t,e)}buildRequest(){const t={requestUri:f0,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=mo(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends dh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends _o{constructor(){super("facebook.com")}static credential(t){return Hr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends _o{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Hr._fromParams({providerId:Rn.PROVIDER_ID,signInMethod:Rn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Rn.credentialFromTaggedObject(t)}static credentialFromError(t){return Rn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Rn.credential(e,r)}catch{return null}}}Rn.GOOGLE_SIGN_IN_METHOD="google.com";Rn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends _o{constructor(){super("github.com")}static credential(t){return Hr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends _o{constructor(){super("twitter.com")}static credential(t,e){return Hr._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return nr.credential(e,r)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,s=!1){const i=await Qe._fromIdTokenResponse(t,r,s),o=fp(r);return new xs({user:i,providerId:o,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const s=fp(r);return new xs({user:t,providerId:s,_tokenResponse:r,operationType:e})}}function fp(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends jn{constructor(t,e,r,s){var i;super(e.code,e.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$a.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,s){return new $a(t,e,r,s)}}function sy(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$a._fromErrorAndOperation(n,i,t,r):i})}async function d0(n,t,e=!1){const r=await no(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return xs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0(n,t,e=!1){const{auth:r}=n;if(Ye(r.app))return Promise.reject($r(r));const s="reauthenticate";try{const i=await no(n,sy(r,s,t,n),e);ut(i.idToken,r,"internal-error");const o=uh(i.idToken);ut(o,r,"internal-error");const{sub:l}=o;return ut(n.uid===l,r,"user-mismatch"),xs._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&_n(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0(n,t,e=!1){if(Ye(n.app))return Promise.reject($r(n));const r="signIn",s=await sy(n,r,t),i=await xs._fromIdTokenResponse(n,r,s);return e||await n._updateCurrentUser(i.user),i}function g0(n,t,e,r){return We(n).onIdTokenChanged(t,e,r)}function _0(n,t,e){return We(n).beforeAuthStateChanged(t,e)}function y0(n){return We(n).signOut()}const Ua="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ua,"1"),this.storage.removeItem(Ua),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=1e3,E0=10;class oy extends iy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ty(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),s=this.localCache[e];r!==s&&t(e,s,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!e&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);XS()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,E0):s()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},v0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}oy.type="LOCAL";const T0=oy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay extends iy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}ay.type="SESSION";const ly=ay;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const r=new El(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:s,data:i}=e.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async h=>h(e.origin,i)),c=await w0(l);e.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}El.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const h=ph("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(f),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:h,data:e},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function I0(n){hn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function b0(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S0(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function C0(){return cy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="firebaseLocalStorageDb",R0=1,Ba="firebaseLocalStorage",hy="fbase_key";class yo{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Tl(n,t){return n.transaction([Ba],t?"readwrite":"readonly").objectStore(Ba)}function P0(){const n=indexedDB.deleteDatabase(uy);return new yo(n).toPromise()}function fu(){const n=indexedDB.open(uy,R0);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ba,{keyPath:hy})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ba)?t(r):(r.close(),await P0(),t(await fu()))})})}async function dp(n,t,e){const r=Tl(n,!0).put({[hy]:t,value:e});return new yo(r).toPromise()}async function O0(n,t){const e=Tl(n,!1).get(t),r=await new yo(e).toPromise();return r===void 0?null:r.value}function pp(n,t){const e=Tl(n,!0).delete(t);return new yo(e).toPromise()}const N0=800,D0=3;class fy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fu(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>D0)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=El._getInstance(C0()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await b0(),!this.activeServiceWorker)return;this.sender=new A0(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((e=r[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||S0()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fu();return await dp(t,Ua,"1"),await pp(t,Ua),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>dp(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>O0(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>pp(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Tl(s,!1).getAll();return new yo(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fy.type="LOCAL";const k0=fy;new go(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n,t){return t?On(t):(ut(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends ry{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Rs(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Rs(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Rs(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function V0(n){return m0(n.auth,new mh(n),n.bypassAuthState)}function x0(n){const{auth:t,user:e}=n;return ut(e,t,"internal-error"),p0(e,new mh(n),n.bypassAuthState)}async function L0(n){const{auth:t,user:e}=n;return ut(e,t,"internal-error"),d0(e,new mh(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(t,e,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:e,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return V0;case"linkViaPopup":case"linkViaRedirect":return L0;case"reauthViaPopup":case"reauthViaRedirect":return x0;default:_n(this.auth,"internal-error")}}resolve(t){Mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new go(2e3,1e4);async function F0(n,t,e){if(Ye(n.app))return Promise.reject(Ze(n,"operation-not-supported-in-this-environment"));const r=vl(n);kS(n,t,dh);const s=dy(r,e);return new Vr(r,"signInViaPopup",t,s).executeNotNull()}class Vr extends py{constructor(t,e,r,s,i){super(t,e,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Vr.currentPopupAction&&Vr.currentPopupAction.cancel(),Vr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ut(t,this.auth,"internal-error"),t}async onExecution(){Mn(this.filter.length===1,"Popup operations only handle one event");const t=ph();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ze(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if(!((r=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,M0.get())};t()}}Vr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="pendingRedirect",pa=new Map;class U0 extends py{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=pa.get(this.auth._key());if(!t){try{const r=await B0(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}pa.set(this.auth._key(),t)}return this.bypassAuthState||pa.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B0(n,t){const e=W0(t),r=H0(n);if(!await r._isAvailable())return!1;const s=await r._get(e)==="true";return await r._remove(e),s}function j0(n,t){pa.set(n._key(),t)}function H0(n){return On(n._redirectPersistence)}function W0(n){return da($0,n.config.apiKey,n.name)}async function q0(n,t,e=!1){if(Ye(n.app))return Promise.reject($r(n));const r=vl(n),s=dy(r,t),o=await new U0(r,s,e).execute();return o&&!e&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=10*60*1e3;class z0{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!G0(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!my(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(Ze(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=K0&&this.cachedEventUids.clear(),this.cachedEventUids.has(mp(t))}saveEventToCache(t){this.cachedEventUids.add(mp(t)),this.lastProcessedEventTime=Date.now()}}function mp(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function my({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function G0(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return my(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y0(n,t={}){return Js(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X0=/^https?/;async function J0(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Y0(n);for(const e of t)try{if(Z0(e))return}catch{}_n(n,"unauthorized-domain")}function Z0(n){const t=uu(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===r}if(!X0.test(e))return!1;if(Q0.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new go(3e4,6e4);function gp(){const n=hn().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function eC(n){return new Promise((t,e)=>{var r,s,i;function o(){gp(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gp(),e(Ze(n,"network-request-failed"))},timeout:tC.get()})}if(!((s=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=hn().gapi)===null||i===void 0)&&i.load)o();else{const l=o0("iframefcb");return hn()[l]=()=>{gapi.load?o():e(Ze(n,"network-request-failed"))},s0(`${i0()}?onload=${l}`).catch(c=>e(c))}}).catch(t=>{throw ma=null,t})}let ma=null;function nC(n){return ma=ma||eC(n),ma}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new go(5e3,15e3),sC="__/auth/iframe",iC="emulator/auth/iframe",oC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lC(n){const t=n.config;ut(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?lh(t,iC):`https://${n.config.authDomain}/${sC}`,r={apiKey:t.apiKey,appName:n.name,v:Xs},s=aC.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${e}?${mo(r).slice(1)}`}async function cC(n){const t=await nC(n),e=hn().gapi;return ut(e,n,"internal-error"),t.open({where:document.body,url:lC(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oC,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ze(n,"network-request-failed"),l=hn().setTimeout(()=>{i(o)},rC.get());function c(){hn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hC=500,fC=600,dC="_blank",pC="http://localhost";class _p{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mC(n,t,e,r=hC,s=fC){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},uC),{width:r.toString(),height:s.toString(),top:i,left:o}),h=ve().toLowerCase();e&&(l=Y_(h)?dC:e),z_(h)&&(t=t||pC,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[_,R])=>`${m}${_}=${R},`,"");if(QS(h)&&l!=="_self")return gC(t||"",l),new _p(null);const p=window.open(t||"",l,f);ut(p,n,"popup-blocked");try{p.focus()}catch{}return new _p(p)}function gC(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="__/auth/handler",yC="emulator/auth/handler",vC=encodeURIComponent("fac");async function yp(n,t,e,r,s,i){ut(n.config.authDomain,n,"auth-domain-config-required"),ut(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Xs,eventId:s};if(t instanceof dh){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",vb(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(t instanceof _o){const f=t.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await n._getAppCheckToken(),h=c?`#${vC}=${encodeURIComponent(c)}`:"";return`${EC(n)}?${mo(l).slice(1)}${h}`}function EC({config:n}){return n.emulator?lh(n,yC):`https://${n.authDomain}/${_C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc="webStorageSupport";class TC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ly,this._completeRedirectFn=q0,this._overrideRedirectResult=j0}async _openPopup(t,e,r,s){var i;Mn((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await yp(t,e,r,uu(),s);return mC(t,o,ph())}async _openRedirect(t,e,r,s){await this._originValidation(t);const i=await yp(t,e,r,uu(),s);return I0(i),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:i}=this.eventManagers[e];return s?Promise.resolve(s):(Mn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await cC(t),r=new z0(t);return e.register("authEvent",s=>(ut(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(bc,{type:bc},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[bc];o!==void 0&&e(!!o),_n(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=J0(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ty()||G_()||hh()}}const wC=TC;var vp="@firebase/auth",Ep="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bC(n){Vs(new jr("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ut(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ey(n)},h=new n0(r,s,i,c);return l0(h,e),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Vs(new jr("auth-internal",t=>{const e=vl(t.getProvider("auth").getImmediate());return(r=>new AC(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(vp,Ep,IC(n)),lr(vp,Ep,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=5*60,CC=N_("authIdTokenMaxAge")||SC;let Tp=null;const RC=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>CC)return;const s=e==null?void 0:e.token;Tp!==s&&(Tp=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function PC(n=M_()){const t=sh(n,"auth");if(t.isInitialized())return t.getImmediate();const e=a0(n,{popupRedirectResolver:wC,persistence:[k0,T0,ly]}),r=N_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=RC(i.toString());_0(e,o,()=>o(e.currentUser)),g0(e,l=>o(l))}}const s=P_("auth");return s&&c0(e,`http://${s}`),e}function OC(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}r0({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=s=>{const i=Ze("internal-error");i.customData=s,e(i)},r.type="text/javascript",r.charset="UTF-8",OC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bC("Browser");var NC="firebase",DC="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(NC,DC,"app");var wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,gy;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,y){function E(){}E.prototype=y.prototype,A.D=y.prototype,A.prototype=new E,A.prototype.constructor=A,A.C=function(I,b,S){for(var T=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)T[$t-2]=arguments[$t];return y.prototype[b].apply(I,T)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,y,E){E||(E=0);var I=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)I[b]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(b=0;16>b;++b)I[b]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=A.g[0],E=A.g[1],b=A.g[2];var S=A.g[3],T=y+(S^E&(b^S))+I[0]+3614090360&4294967295;y=E+(T<<7&4294967295|T>>>25),T=S+(b^y&(E^b))+I[1]+3905402710&4294967295,S=y+(T<<12&4294967295|T>>>20),T=b+(E^S&(y^E))+I[2]+606105819&4294967295,b=S+(T<<17&4294967295|T>>>15),T=E+(y^b&(S^y))+I[3]+3250441966&4294967295,E=b+(T<<22&4294967295|T>>>10),T=y+(S^E&(b^S))+I[4]+4118548399&4294967295,y=E+(T<<7&4294967295|T>>>25),T=S+(b^y&(E^b))+I[5]+1200080426&4294967295,S=y+(T<<12&4294967295|T>>>20),T=b+(E^S&(y^E))+I[6]+2821735955&4294967295,b=S+(T<<17&4294967295|T>>>15),T=E+(y^b&(S^y))+I[7]+4249261313&4294967295,E=b+(T<<22&4294967295|T>>>10),T=y+(S^E&(b^S))+I[8]+1770035416&4294967295,y=E+(T<<7&4294967295|T>>>25),T=S+(b^y&(E^b))+I[9]+2336552879&4294967295,S=y+(T<<12&4294967295|T>>>20),T=b+(E^S&(y^E))+I[10]+4294925233&4294967295,b=S+(T<<17&4294967295|T>>>15),T=E+(y^b&(S^y))+I[11]+2304563134&4294967295,E=b+(T<<22&4294967295|T>>>10),T=y+(S^E&(b^S))+I[12]+1804603682&4294967295,y=E+(T<<7&4294967295|T>>>25),T=S+(b^y&(E^b))+I[13]+4254626195&4294967295,S=y+(T<<12&4294967295|T>>>20),T=b+(E^S&(y^E))+I[14]+2792965006&4294967295,b=S+(T<<17&4294967295|T>>>15),T=E+(y^b&(S^y))+I[15]+1236535329&4294967295,E=b+(T<<22&4294967295|T>>>10),T=y+(b^S&(E^b))+I[1]+4129170786&4294967295,y=E+(T<<5&4294967295|T>>>27),T=S+(E^b&(y^E))+I[6]+3225465664&4294967295,S=y+(T<<9&4294967295|T>>>23),T=b+(y^E&(S^y))+I[11]+643717713&4294967295,b=S+(T<<14&4294967295|T>>>18),T=E+(S^y&(b^S))+I[0]+3921069994&4294967295,E=b+(T<<20&4294967295|T>>>12),T=y+(b^S&(E^b))+I[5]+3593408605&4294967295,y=E+(T<<5&4294967295|T>>>27),T=S+(E^b&(y^E))+I[10]+38016083&4294967295,S=y+(T<<9&4294967295|T>>>23),T=b+(y^E&(S^y))+I[15]+3634488961&4294967295,b=S+(T<<14&4294967295|T>>>18),T=E+(S^y&(b^S))+I[4]+3889429448&4294967295,E=b+(T<<20&4294967295|T>>>12),T=y+(b^S&(E^b))+I[9]+568446438&4294967295,y=E+(T<<5&4294967295|T>>>27),T=S+(E^b&(y^E))+I[14]+3275163606&4294967295,S=y+(T<<9&4294967295|T>>>23),T=b+(y^E&(S^y))+I[3]+4107603335&4294967295,b=S+(T<<14&4294967295|T>>>18),T=E+(S^y&(b^S))+I[8]+1163531501&4294967295,E=b+(T<<20&4294967295|T>>>12),T=y+(b^S&(E^b))+I[13]+2850285829&4294967295,y=E+(T<<5&4294967295|T>>>27),T=S+(E^b&(y^E))+I[2]+4243563512&4294967295,S=y+(T<<9&4294967295|T>>>23),T=b+(y^E&(S^y))+I[7]+1735328473&4294967295,b=S+(T<<14&4294967295|T>>>18),T=E+(S^y&(b^S))+I[12]+2368359562&4294967295,E=b+(T<<20&4294967295|T>>>12),T=y+(E^b^S)+I[5]+4294588738&4294967295,y=E+(T<<4&4294967295|T>>>28),T=S+(y^E^b)+I[8]+2272392833&4294967295,S=y+(T<<11&4294967295|T>>>21),T=b+(S^y^E)+I[11]+1839030562&4294967295,b=S+(T<<16&4294967295|T>>>16),T=E+(b^S^y)+I[14]+4259657740&4294967295,E=b+(T<<23&4294967295|T>>>9),T=y+(E^b^S)+I[1]+2763975236&4294967295,y=E+(T<<4&4294967295|T>>>28),T=S+(y^E^b)+I[4]+1272893353&4294967295,S=y+(T<<11&4294967295|T>>>21),T=b+(S^y^E)+I[7]+4139469664&4294967295,b=S+(T<<16&4294967295|T>>>16),T=E+(b^S^y)+I[10]+3200236656&4294967295,E=b+(T<<23&4294967295|T>>>9),T=y+(E^b^S)+I[13]+681279174&4294967295,y=E+(T<<4&4294967295|T>>>28),T=S+(y^E^b)+I[0]+3936430074&4294967295,S=y+(T<<11&4294967295|T>>>21),T=b+(S^y^E)+I[3]+3572445317&4294967295,b=S+(T<<16&4294967295|T>>>16),T=E+(b^S^y)+I[6]+76029189&4294967295,E=b+(T<<23&4294967295|T>>>9),T=y+(E^b^S)+I[9]+3654602809&4294967295,y=E+(T<<4&4294967295|T>>>28),T=S+(y^E^b)+I[12]+3873151461&4294967295,S=y+(T<<11&4294967295|T>>>21),T=b+(S^y^E)+I[15]+530742520&4294967295,b=S+(T<<16&4294967295|T>>>16),T=E+(b^S^y)+I[2]+3299628645&4294967295,E=b+(T<<23&4294967295|T>>>9),T=y+(b^(E|~S))+I[0]+4096336452&4294967295,y=E+(T<<6&4294967295|T>>>26),T=S+(E^(y|~b))+I[7]+1126891415&4294967295,S=y+(T<<10&4294967295|T>>>22),T=b+(y^(S|~E))+I[14]+2878612391&4294967295,b=S+(T<<15&4294967295|T>>>17),T=E+(S^(b|~y))+I[5]+4237533241&4294967295,E=b+(T<<21&4294967295|T>>>11),T=y+(b^(E|~S))+I[12]+1700485571&4294967295,y=E+(T<<6&4294967295|T>>>26),T=S+(E^(y|~b))+I[3]+2399980690&4294967295,S=y+(T<<10&4294967295|T>>>22),T=b+(y^(S|~E))+I[10]+4293915773&4294967295,b=S+(T<<15&4294967295|T>>>17),T=E+(S^(b|~y))+I[1]+2240044497&4294967295,E=b+(T<<21&4294967295|T>>>11),T=y+(b^(E|~S))+I[8]+1873313359&4294967295,y=E+(T<<6&4294967295|T>>>26),T=S+(E^(y|~b))+I[15]+4264355552&4294967295,S=y+(T<<10&4294967295|T>>>22),T=b+(y^(S|~E))+I[6]+2734768916&4294967295,b=S+(T<<15&4294967295|T>>>17),T=E+(S^(b|~y))+I[13]+1309151649&4294967295,E=b+(T<<21&4294967295|T>>>11),T=y+(b^(E|~S))+I[4]+4149444226&4294967295,y=E+(T<<6&4294967295|T>>>26),T=S+(E^(y|~b))+I[11]+3174756917&4294967295,S=y+(T<<10&4294967295|T>>>22),T=b+(y^(S|~E))+I[2]+718787259&4294967295,b=S+(T<<15&4294967295|T>>>17),T=E+(S^(b|~y))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+y&4294967295,A.g[1]=A.g[1]+(b+(T<<21&4294967295|T>>>11))&4294967295,A.g[2]=A.g[2]+b&4294967295,A.g[3]=A.g[3]+S&4294967295}r.prototype.u=function(A,y){y===void 0&&(y=A.length);for(var E=y-this.blockSize,I=this.B,b=this.h,S=0;S<y;){if(b==0)for(;S<=E;)s(this,A,S),S+=this.blockSize;if(typeof A=="string"){for(;S<y;)if(I[b++]=A.charCodeAt(S++),b==this.blockSize){s(this,I),b=0;break}}else for(;S<y;)if(I[b++]=A[S++],b==this.blockSize){s(this,I),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var y=1;y<A.length-8;++y)A[y]=0;var E=8*this.o;for(y=A.length-8;y<A.length;++y)A[y]=E&255,E/=256;for(this.u(A),A=Array(16),y=E=0;4>y;++y)for(var I=0;32>I;I+=8)A[E++]=this.g[y]>>>I&255;return A};function i(A,y){var E=l;return Object.prototype.hasOwnProperty.call(E,A)?E[A]:E[A]=y(A)}function o(A,y){this.h=y;for(var E=[],I=!0,b=A.length-1;0<=b;b--){var S=A[b]|0;I&&S==y||(E[b]=S,I=!1)}this.g=E}var l={};function c(A){return-128<=A&&128>A?i(A,function(y){return new o([y|0],0>y?-1:0)}):new o([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return N(h(-A));for(var y=[],E=1,I=0;A>=E;I++)y[I]=A/E|0,E*=4294967296;return new o(y,0)}function f(A,y){if(A.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(A.charAt(0)=="-")return N(f(A.substring(1),y));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(y,8)),I=p,b=0;b<A.length;b+=8){var S=Math.min(8,A.length-b),T=parseInt(A.substring(b,b+S),y);8>S?(S=h(Math.pow(y,S)),I=I.j(S).add(h(T))):(I=I.j(E),I=I.add(h(T)))}return I}var p=c(0),m=c(1),_=c(16777216);n=o.prototype,n.m=function(){if(O(this))return-N(this).m();for(var A=0,y=1,E=0;E<this.g.length;E++){var I=this.i(E);A+=(0<=I?I:4294967296+I)*y,y*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R(this))return"0";if(O(this))return"-"+N(this).toString(A);for(var y=h(Math.pow(A,6)),E=this,I="";;){var b=x(E,y).g;E=U(E,b.j(y));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(A);if(E=b,R(E))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function R(A){if(A.h!=0)return!1;for(var y=0;y<A.g.length;y++)if(A.g[y]!=0)return!1;return!0}function O(A){return A.h==-1}n.l=function(A){return A=U(this,A),O(A)?-1:R(A)?0:1};function N(A){for(var y=A.g.length,E=[],I=0;I<y;I++)E[I]=~A.g[I];return new o(E,~A.h).add(m)}n.abs=function(){return O(this)?N(this):this},n.add=function(A){for(var y=Math.max(this.g.length,A.g.length),E=[],I=0,b=0;b<=y;b++){var S=I+(this.i(b)&65535)+(A.i(b)&65535),T=(S>>>16)+(this.i(b)>>>16)+(A.i(b)>>>16);I=T>>>16,S&=65535,T&=65535,E[b]=T<<16|S}return new o(E,E[E.length-1]&-2147483648?-1:0)};function U(A,y){return A.add(N(y))}n.j=function(A){if(R(this)||R(A))return p;if(O(this))return O(A)?N(this).j(N(A)):N(N(this).j(A));if(O(A))return N(this.j(N(A)));if(0>this.l(_)&&0>A.l(_))return h(this.m()*A.m());for(var y=this.g.length+A.g.length,E=[],I=0;I<2*y;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<A.g.length;b++){var S=this.i(I)>>>16,T=this.i(I)&65535,$t=A.i(b)>>>16,qt=A.i(b)&65535;E[2*I+2*b]+=T*qt,V(E,2*I+2*b),E[2*I+2*b+1]+=S*qt,V(E,2*I+2*b+1),E[2*I+2*b+1]+=T*$t,V(E,2*I+2*b+1),E[2*I+2*b+2]+=S*$t,V(E,2*I+2*b+2)}for(I=0;I<y;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=y;I<2*y;I++)E[I]=0;return new o(E,0)};function V(A,y){for(;(A[y]&65535)!=A[y];)A[y+1]+=A[y]>>>16,A[y]&=65535,y++}function B(A,y){this.g=A,this.h=y}function x(A,y){if(R(y))throw Error("division by zero");if(R(A))return new B(p,p);if(O(A))return y=x(N(A),y),new B(N(y.g),N(y.h));if(O(y))return y=x(A,N(y)),new B(N(y.g),y.h);if(30<A.g.length){if(O(A)||O(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=y;0>=I.l(A);)E=J(E),I=J(I);var b=Z(E,1),S=Z(I,1);for(I=Z(I,2),E=Z(E,2);!R(I);){var T=S.add(I);0>=T.l(A)&&(b=b.add(E),S=T),I=Z(I,1),E=Z(E,1)}return y=U(A,b.j(y)),new B(b,y)}for(b=p;0<=A.l(y);){for(E=Math.max(1,Math.floor(A.m()/y.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=h(E),T=S.j(y);O(T)||0<T.l(A);)E-=I,S=h(E),T=S.j(y);R(S)&&(S=m),b=b.add(S),A=U(A,T)}return new B(b,A)}n.A=function(A){return x(this,A).h},n.and=function(A){for(var y=Math.max(this.g.length,A.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)&A.i(I);return new o(E,this.h&A.h)},n.or=function(A){for(var y=Math.max(this.g.length,A.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)|A.i(I);return new o(E,this.h|A.h)},n.xor=function(A){for(var y=Math.max(this.g.length,A.g.length),E=[],I=0;I<y;I++)E[I]=this.i(I)^A.i(I);return new o(E,this.h^A.h)};function J(A){for(var y=A.g.length+1,E=[],I=0;I<y;I++)E[I]=A.i(I)<<1|A.i(I-1)>>>31;return new o(E,A.h)}function Z(A,y){var E=y>>5;y%=32;for(var I=A.g.length-E,b=[],S=0;S<I;S++)b[S]=0<y?A.i(S+E)>>>y|A.i(S+E+1)<<32-y:A.i(S+E);return new o(b,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gy=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,cr=o}).apply(typeof wp<"u"?wp:typeof self<"u"?self:typeof window<"u"?window:{});var Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _y,Pi,yy,ga,du,vy,Ey,Ty;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,d){return a==Array.prototype||a==Object.prototype||(a[u]=d.value),a};function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Go=="object"&&Go];for(var u=0;u<a.length;++u){var d=a[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=e(this);function s(a,u){if(u)t:{var d=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var P=a[g];if(!(P in d))break t;d=d[P]}a=a[a.length-1],g=d[a],u=u(g),u!=g&&u!=null&&t(d,a,{configurable:!0,writable:!0,value:u})}}function i(a,u){a instanceof String&&(a+="");var d=0,g=!1,P={next:function(){if(!g&&d<a.length){var D=d++;return{value:u(D,a[D]),done:!1}}return g=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}s("Array.prototype.values",function(a){return a||function(){return i(this,function(u,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function h(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function f(a,u,d){return a.call.apply(a.bind,arguments)}function p(a,u,d){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,g),a.apply(u,P)}}return function(){return a.apply(u,arguments)}}function m(a,u,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function _(a,u){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function R(a,u){function d(){}d.prototype=u.prototype,a.aa=u.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(g,P,D){for(var z=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)z[kt-2]=arguments[kt];return u.prototype[P].apply(g,z)}}function O(a){const u=a.length;if(0<u){const d=Array(u);for(let g=0;g<u;g++)d[g]=a[g];return d}return[]}function N(a,u){for(let d=1;d<arguments.length;d++){const g=arguments[d];if(c(g)){const P=a.length||0,D=g.length||0;a.length=P+D;for(let z=0;z<D;z++)a[P+z]=g[z]}else a.push(g)}}class U{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function V(a){return/^[\s\xa0]*$/.test(a)}function B(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function x(a){return x[" "](a),a}x[" "]=function(){};var J=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Z(a,u,d){for(const g in a)u.call(d,a[g],g,a)}function A(a,u){for(const d in a)u.call(void 0,a[d],d,a)}function y(a){const u={};for(const d in a)u[d]=a[d];return u}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,u){let d,g;for(let P=1;P<arguments.length;P++){g=arguments[P];for(d in g)a[d]=g[d];for(let D=0;D<E.length;D++)d=E[D],Object.prototype.hasOwnProperty.call(g,d)&&(a[d]=g[d])}}function b(a){var u=1;a=a.split(":");const d=[];for(;0<u&&a.length;)d.push(a.shift()),u--;return a.length&&d.push(a.join(":")),d}function S(a){l.setTimeout(()=>{throw a},0)}function T(){var a=jt;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class $t{constructor(){this.h=this.g=null}add(u,d){const g=qt.get();g.set(u,d),this.h?this.h.next=g:this.g=g,this.h=g}}var qt=new U(()=>new It,a=>a.reset());class It{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,yt=!1,jt=new $t,oe=()=>{const a=l.Promise.resolve(void 0);ht=()=>{a.then(ae)}};var ae=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(d){S(d)}var u=qt;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}yt=!1};function Nt(){this.s=this.s,this.C=this.C}Nt.prototype.s=!1,Nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Dt(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,u),l.removeEventListener("test",d,u)}catch{}return a}();function Gt(a,u){if(Dt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(J){t:{try{x(u.nodeName);var P=!0;break t}catch{}P=!1}P||(u=null)}}else d=="mouseover"?u=a.fromElement:d=="mouseout"&&(u=a.toElement);this.relatedTarget=u,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Kt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Gt.aa.h.call(this)}}R(Gt,Dt);var Kt={2:"touch",3:"pen",4:"mouse"};Gt.prototype.h=function(){Gt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var k="closure_listenable_"+(1e6*Math.random()|0),X=0;function Y(a,u,d,g,P){this.listener=a,this.proxy=null,this.src=u,this.type=d,this.capture=!!g,this.ha=P,this.key=++X,this.da=this.fa=!1}function et(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Tt(a){this.src=a,this.g={},this.h=0}Tt.prototype.add=function(a,u,d,g,P){var D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);var z=w(a,u,g,P);return-1<z?(u=a[z],d||(u.fa=!1)):(u=new Y(u,this.src,D,!!g,P),u.fa=d,a.push(u)),u};function v(a,u){var d=u.type;if(d in a.g){var g=a.g[d],P=Array.prototype.indexOf.call(g,u,void 0),D;(D=0<=P)&&Array.prototype.splice.call(g,P,1),D&&(et(u),a.g[d].length==0&&(delete a.g[d],a.h--))}}function w(a,u,d,g){for(var P=0;P<a.length;++P){var D=a[P];if(!D.da&&D.listener==u&&D.capture==!!d&&D.ha==g)return P}return-1}var C="closure_lm_"+(1e6*Math.random()|0),L={};function F(a,u,d,g,P){if(Array.isArray(u)){for(var D=0;D<u.length;D++)F(a,u[D],d,g,P);return null}return d=lt(d),a&&a[k]?a.K(u,d,h(g)?!!g.capture:!1,P):M(a,u,d,!1,g,P)}function M(a,u,d,g,P,D){if(!u)throw Error("Invalid event type");var z=h(P)?!!P.capture:!!P,kt=G(a);if(kt||(a[C]=kt=new Tt(a)),d=kt.add(u,d,g,z,D),d.proxy)return d;if(g=Q(),d.proxy=g,g.src=a,g.listener=d,a.addEventListener)Ee||(P=z),P===void 0&&(P=!1),a.addEventListener(u.toString(),g,P);else if(a.attachEvent)a.attachEvent(j(u.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function Q(){function a(d){return u.call(a.src,a.listener,d)}const u=rt;return a}function K(a,u,d,g,P){if(Array.isArray(u))for(var D=0;D<u.length;D++)K(a,u[D],d,g,P);else g=h(g)?!!g.capture:!!g,d=lt(d),a&&a[k]?(a=a.i,u=String(u).toString(),u in a.g&&(D=a.g[u],d=w(D,d,g,P),-1<d&&(et(D[d]),Array.prototype.splice.call(D,d,1),D.length==0&&(delete a.g[u],a.h--)))):a&&(a=G(a))&&(u=a.g[u.toString()],a=-1,u&&(a=w(u,d,g,P)),(d=-1<a?u[a]:null)&&q(d))}function q(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[k])v(u.i,a);else{var d=a.type,g=a.proxy;u.removeEventListener?u.removeEventListener(d,g,a.capture):u.detachEvent?u.detachEvent(j(d),g):u.addListener&&u.removeListener&&u.removeListener(g),(d=G(u))?(v(d,a),d.h==0&&(d.src=null,u[C]=null)):et(a)}}}function j(a){return a in L?L[a]:L[a]="on"+a}function rt(a,u){if(a.da)a=!0;else{u=new Gt(u,this);var d=a.listener,g=a.ha||a.src;a.fa&&q(a),a=d.call(g,u)}return a}function G(a){return a=a[C],a instanceof Tt?a:null}var nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(a){return typeof a=="function"?a:(a[nt]||(a[nt]=function(u){return a.handleEvent(u)}),a[nt])}function st(){Nt.call(this),this.i=new Tt(this),this.M=this,this.F=null}R(st,Nt),st.prototype[k]=!0,st.prototype.removeEventListener=function(a,u,d,g){K(this,a,u,d,g)};function dt(a,u){var d,g=a.F;if(g)for(d=[];g;g=g.F)d.push(g);if(a=a.M,g=u.type||u,typeof u=="string")u=new Dt(u,a);else if(u instanceof Dt)u.target=u.target||a;else{var P=u;u=new Dt(g,a),I(u,P)}if(P=!0,d)for(var D=d.length-1;0<=D;D--){var z=u.g=d[D];P=Et(z,g,!0,u)&&P}if(z=u.g=a,P=Et(z,g,!0,u)&&P,P=Et(z,g,!1,u)&&P,d)for(D=0;D<d.length;D++)z=u.g=d[D],P=Et(z,g,!1,u)&&P}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var d=a.g[u],g=0;g<d.length;g++)et(d[g]);delete a.g[u],a.h--}}this.F=null},st.prototype.K=function(a,u,d,g){return this.i.add(String(a),u,!1,d,g)},st.prototype.L=function(a,u,d,g){return this.i.add(String(a),u,!0,d,g)};function Et(a,u,d,g){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var P=!0,D=0;D<u.length;++D){var z=u[D];if(z&&!z.da&&z.capture==d){var kt=z.listener,ee=z.ha||z.src;z.fa&&v(a.i,z),P=kt.call(ee,g)!==!1&&P}}return P&&!g.defaultPrevented}function le(a,u,d){if(typeof a=="function")d&&(a=m(a,d));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(a,u||0)}function Zt(a){a.g=le(()=>{a.g=null,a.i&&(a.i=!1,Zt(a))},a.l);const u=a.h;a.h=null,a.m.apply(null,u)}class Le extends Nt{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Zt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ce(a){Nt.call(this),this.h=a,this.g={}}R(ce,Nt);var Wn=[];function ai(a){Z(a.g,function(u,d){this.g.hasOwnProperty(d)&&q(u)},a),a.g={}}ce.prototype.N=function(){ce.aa.N.call(this),ai(this)},ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var te=l.JSON.stringify,Me=l.JSON.parse,Ro=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Wl(){}Wl.prototype.h=null;function uf(a){return a.h||(a.h=a.i())}function hf(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ql(){Dt.call(this,"d")}R(ql,Dt);function Kl(){Dt.call(this,"c")}R(Kl,Dt);var Sr={},ff=null;function Po(){return ff=ff||new st}Sr.La="serverreachability";function df(a){Dt.call(this,Sr.La,a)}R(df,Dt);function ci(a){const u=Po();dt(u,new df(u))}Sr.STAT_EVENT="statevent";function pf(a,u){Dt.call(this,Sr.STAT_EVENT,a),this.stat=u}R(pf,Dt);function Te(a){const u=Po();dt(u,new pf(u,a))}Sr.Ma="timingevent";function mf(a,u){Dt.call(this,Sr.Ma,a),this.size=u}R(mf,Dt);function ui(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},u)}function hi(){this.g=!0}hi.prototype.xa=function(){this.g=!1};function XE(a,u,d,g,P,D){a.info(function(){if(a.g)if(D)for(var z="",kt=D.split("&"),ee=0;ee<kt.length;ee++){var St=kt[ee].split("=");if(1<St.length){var ue=St[0];St=St[1];var he=ue.split("_");z=2<=he.length&&he[1]=="type"?z+(ue+"="+St+"&"):z+(ue+"=redacted&")}}else z=null;else z=D;return"XMLHTTP REQ ("+g+") [attempt "+P+"]: "+u+`
`+d+`
`+z})}function JE(a,u,d,g,P,D,z){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+P+"]: "+u+`
`+d+`
`+D+" "+z})}function es(a,u,d,g){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+tT(a,d)+(g?" "+g:"")})}function ZE(a,u){a.info(function(){return"TIMEOUT: "+u})}hi.prototype.info=function(){};function tT(a,u){if(!a.g)return u;if(!u)return null;try{var d=JSON.parse(u);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var g=d[a];if(!(2>g.length)){var P=g[1];if(Array.isArray(P)&&!(1>P.length)){var D=P[0];if(D!="noop"&&D!="stop"&&D!="close")for(var z=1;z<P.length;z++)P[z]=""}}}}return te(d)}catch{return u}}var Oo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zl;function No(){}R(No,Wl),No.prototype.g=function(){return new XMLHttpRequest},No.prototype.i=function(){return{}},zl=new No;function qn(a,u,d,g){this.j=a,this.i=u,this.l=d,this.R=g||1,this.U=new ce(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _f}function _f(){this.i=null,this.g="",this.h=!1}var yf={},Gl={};function Yl(a,u,d){a.L=1,a.v=xo(Tn(u)),a.m=d,a.P=!0,vf(a,null)}function vf(a,u){a.F=Date.now(),Do(a),a.A=Tn(a.v);var d=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),kf(d.i,"t",g),a.C=0,d=a.j.J,a.h=new _f,a.g=Xf(a.j,d?u:null,!a.m),0<a.O&&(a.M=new Le(m(a.Y,a,a.g),a.O)),u=a.U,d=a.g,g=a.ca;var P="readystatechange";Array.isArray(P)||(P&&(Wn[0]=P.toString()),P=Wn);for(var D=0;D<P.length;D++){var z=F(d,P[D],g||u.handleEvent,!1,u.h||u);if(!z)break;u.g[z.key]=z}u=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),ci(),XE(a.i,a.u,a.A,a.l,a.R,a.m)}qn.prototype.ca=function(a){a=a.target;const u=this.M;u&&wn(a)==3?u.j():this.Y(a)},qn.prototype.Y=function(a){try{if(a==this.g)t:{const he=wn(this.g);var u=this.g.Ba();const ss=this.g.Z();if(!(3>he)&&(he!=3||this.g&&(this.h.h||this.g.oa()||Uf(this.g)))){this.J||he!=4||u==7||(u==8||0>=ss?ci(3):ci(2)),Ql(this);var d=this.g.Z();this.X=d;e:if(Ef(this)){var g=Uf(this.g);a="";var P=g.length,D=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),fi(this);var z="";break e}this.h.i=new l.TextDecoder}for(u=0;u<P;u++)this.h.h=!0,a+=this.h.i.decode(g[u],{stream:!(D&&u==P-1)});g.length=0,this.h.g+=a,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=d==200,JE(this.i,this.u,this.A,this.l,this.R,he,d),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,ee=this.g;if((kt=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(kt)){var St=kt;break e}}St=null}if(d=St)es(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xl(this,d);else{this.o=!1,this.s=3,Te(12),Cr(this),fi(this);break t}}if(this.P){d=!0;let Ge;for(;!this.J&&this.C<z.length;)if(Ge=eT(this,z),Ge==Gl){he==4&&(this.s=4,Te(14),d=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==yf){this.s=4,Te(15),es(this.i,this.l,z,"[Invalid Chunk]"),d=!1;break}else es(this.i,this.l,Ge,null),Xl(this,Ge);if(Ef(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||z.length!=0||this.h.h||(this.s=1,Te(16),d=!1),this.o=this.o&&d,!d)es(this.i,this.l,z,"[Invalid Chunked Response]"),Cr(this),fi(this);else if(0<z.length&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.ba&&!ue.M&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),rc(ue),ue.M=!0,Te(11))}}else es(this.i,this.l,z,null),Xl(this,z);he==4&&Cr(this),this.o&&!this.J&&(he==4?zf(this.j,this):(this.o=!1,Do(this)))}else yT(this.g),d==400&&0<z.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Cr(this),fi(this)}}}catch{}finally{}};function Ef(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function eT(a,u){var d=a.C,g=u.indexOf(`
`,d);return g==-1?Gl:(d=Number(u.substring(d,g)),isNaN(d)?yf:(g+=1,g+d>u.length?Gl:(u=u.slice(g,g+d),a.C=g+d,u)))}qn.prototype.cancel=function(){this.J=!0,Cr(this)};function Do(a){a.S=Date.now()+a.I,Tf(a,a.I)}function Tf(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ui(m(a.ba,a),u)}function Ql(a){a.B&&(l.clearTimeout(a.B),a.B=null)}qn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(ZE(this.i,this.A),this.L!=2&&(ci(),Te(17)),Cr(this),this.s=2,fi(this)):Tf(this,this.S-a)};function fi(a){a.j.G==0||a.J||zf(a.j,a)}function Cr(a){Ql(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,ai(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function Xl(a,u){try{var d=a.j;if(d.G!=0&&(d.g==a||Jl(d.h,a))){if(!a.K&&Jl(d.h,a)&&d.G==3){try{var g=d.Da.g.parse(u)}catch{g=null}if(Array.isArray(g)&&g.length==3){var P=g;if(P[0]==0){t:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Bo(d),$o(d);else break t;nc(d),Te(18)}}else d.za=P[1],0<d.za-d.T&&37500>P[2]&&d.F&&d.v==0&&!d.C&&(d.C=ui(m(d.Za,d),6e3));if(1>=If(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Pr(d,11)}else if((a.K||d.g==a)&&Bo(d),!V(u))for(P=d.Da.g.parse(u),u=0;u<P.length;u++){let St=P[u];if(d.T=St[0],St=St[1],d.G==2)if(St[0]=="c"){d.K=St[1],d.ia=St[2];const ue=St[3];ue!=null&&(d.la=ue,d.j.info("VER="+d.la));const he=St[4];he!=null&&(d.Aa=he,d.j.info("SVER="+d.Aa));const ss=St[5];ss!=null&&typeof ss=="number"&&0<ss&&(g=1.5*ss,d.L=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const Ge=a.g;if(Ge){const Ho=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ho){var D=g.h;D.g||Ho.indexOf("spdy")==-1&&Ho.indexOf("quic")==-1&&Ho.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(Zl(D,D.h),D.h=null))}if(g.D){const sc=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;sc&&(g.ya=sc,Lt(g.I,g.D,sc))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),g=d;var z=a;if(g.qa=Qf(g,g.J?g.ia:null,g.W),z.K){bf(g.h,z);var kt=z,ee=g.L;ee&&(kt.I=ee),kt.B&&(Ql(kt),Do(kt)),g.g=z}else qf(g);0<d.i.length&&Uo(d)}else St[0]!="stop"&&St[0]!="close"||Pr(d,7);else d.G==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Pr(d,7):ec(d):St[0]!="noop"&&d.l&&d.l.ta(St),d.v=0)}}ci(4)}catch{}}var nT=class{constructor(a,u){this.g=a,this.map=u}};function wf(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Af(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function If(a){return a.h?1:a.g?a.g.size:0}function Jl(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function Zl(a,u){a.g?a.g.add(u):a.h=u}function bf(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}wf.prototype.cancel=function(){if(this.i=Sf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Sf(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(const d of a.g.values())u=u.concat(d.D);return u}return O(a.i)}function rT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var u=[],d=a.length,g=0;g<d;g++)u.push(a[g]);return u}u=[],d=0;for(g in a)u[d++]=a[g];return u}function sT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var u=[];a=a.length;for(var d=0;d<a;d++)u.push(d);return u}u=[],d=0;for(const g in a)u[d++]=g;return u}}}function Cf(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var d=sT(a),g=rT(a),P=g.length,D=0;D<P;D++)u.call(void 0,g[D],d&&d[D],a)}var Rf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iT(a,u){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var g=a[d].indexOf("="),P=null;if(0<=g){var D=a[d].substring(0,g);P=a[d].substring(g+1)}else D=a[d];u(D,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Rr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Rr){this.h=a.h,ko(this,a.j),this.o=a.o,this.g=a.g,Vo(this,a.s),this.l=a.l;var u=a.i,d=new mi;d.i=u.i,u.g&&(d.g=new Map(u.g),d.h=u.h),Pf(this,d),this.m=a.m}else a&&(u=String(a).match(Rf))?(this.h=!1,ko(this,u[1]||"",!0),this.o=di(u[2]||""),this.g=di(u[3]||"",!0),Vo(this,u[4]),this.l=di(u[5]||"",!0),Pf(this,u[6]||"",!0),this.m=di(u[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}Rr.prototype.toString=function(){var a=[],u=this.j;u&&a.push(pi(u,Of,!0),":");var d=this.g;return(d||u=="file")&&(a.push("//"),(u=this.o)&&a.push(pi(u,Of,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(pi(d,d.charAt(0)=="/"?lT:aT,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",pi(d,uT)),a.join("")};function Tn(a){return new Rr(a)}function ko(a,u,d){a.j=d?di(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function Vo(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function Pf(a,u,d){u instanceof mi?(a.i=u,hT(a.i,a.h)):(d||(u=pi(u,cT)),a.i=new mi(u,a.h))}function Lt(a,u,d){a.i.set(u,d)}function xo(a){return Lt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function di(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function pi(a,u,d){return typeof a=="string"?(a=encodeURI(a).replace(u,oT),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function oT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Of=/[#\/\?@]/g,aT=/[#\?:]/g,lT=/[#\?]/g,cT=/[#\?@]/g,uT=/#/g;function mi(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function Kn(a){a.g||(a.g=new Map,a.h=0,a.i&&iT(a.i,function(u,d){a.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}n=mi.prototype,n.add=function(a,u){Kn(this),this.i=null,a=ns(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(u),this.h+=1,this};function Nf(a,u){Kn(a),u=ns(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function Df(a,u){return Kn(a),u=ns(a,u),a.g.has(u)}n.forEach=function(a,u){Kn(this),this.g.forEach(function(d,g){d.forEach(function(P){a.call(u,P,g,this)},this)},this)},n.na=function(){Kn(this);const a=Array.from(this.g.values()),u=Array.from(this.g.keys()),d=[];for(let g=0;g<u.length;g++){const P=a[g];for(let D=0;D<P.length;D++)d.push(u[g])}return d},n.V=function(a){Kn(this);let u=[];if(typeof a=="string")Df(this,a)&&(u=u.concat(this.g.get(ns(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)u=u.concat(a[d])}return u},n.set=function(a,u){return Kn(this),this.i=null,a=ns(this,a),Df(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},n.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function kf(a,u,d){Nf(a,u),0<d.length&&(a.i=null,a.g.set(ns(a,u),O(d)),a.h+=d.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],u=Array.from(this.g.keys());for(var d=0;d<u.length;d++){var g=u[d];const D=encodeURIComponent(String(g)),z=this.V(g);for(g=0;g<z.length;g++){var P=D;z[g]!==""&&(P+="="+encodeURIComponent(String(z[g]))),a.push(P)}}return this.i=a.join("&")};function ns(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function hT(a,u){u&&!a.j&&(Kn(a),a.i=null,a.g.forEach(function(d,g){var P=g.toLowerCase();g!=P&&(Nf(this,g),kf(this,P,d))},a)),a.j=u}function fT(a,u){const d=new hi;if(l.Image){const g=new Image;g.onload=_(zn,d,"TestLoadImage: loaded",!0,u,g),g.onerror=_(zn,d,"TestLoadImage: error",!1,u,g),g.onabort=_(zn,d,"TestLoadImage: abort",!1,u,g),g.ontimeout=_(zn,d,"TestLoadImage: timeout",!1,u,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else u(!1)}function dT(a,u){const d=new hi,g=new AbortController,P=setTimeout(()=>{g.abort(),zn(d,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:g.signal}).then(D=>{clearTimeout(P),D.ok?zn(d,"TestPingServer: ok",!0,u):zn(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(P),zn(d,"TestPingServer: error",!1,u)})}function zn(a,u,d,g,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),g(d)}catch{}}function pT(){this.g=new Ro}function mT(a,u,d){const g=d||"";try{Cf(a,function(P,D){let z=P;h(P)&&(z=te(P)),u.push(g+D+"="+encodeURIComponent(z))})}catch(P){throw u.push(g+"type="+encodeURIComponent("_badmap")),P}}function Lo(a){this.l=a.Ub||null,this.j=a.eb||!1}R(Lo,Wl),Lo.prototype.g=function(){return new Mo(this.l,this.j)},Lo.prototype.i=function(a){return function(){return a}}({});function Mo(a,u){st.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Mo,st),n=Mo.prototype,n.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,_i(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||l).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vf(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vf(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?gi(this):_i(this),this.readyState==3&&Vf(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,gi(this))},n.Qa=function(a){this.g&&(this.response=a,gi(this))},n.ga=function(){this.g&&gi(this)};function gi(a){a.readyState=4,a.l=null,a.j=null,a.v=null,_i(a)}n.setRequestHeader=function(a,u){this.u.append(a,u)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=u.next();return a.join(`\r
`)};function _i(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Mo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function xf(a){let u="";return Z(a,function(d,g){u+=g,u+=":",u+=d,u+=`\r
`}),u}function tc(a,u,d){t:{for(g in d){var g=!1;break t}g=!0}g||(d=xf(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Lt(a,u,d))}function Bt(a){st.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Bt,st);var gT=/^https?$/i,_T=["POST","PUT"];n=Bt.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,u,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zl.g(),this.v=this.o?uf(this.o):uf(zl),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(D){Lf(this,D);return}if(a=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var P in g)d.set(P,g[P]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const D of g.keys())d.set(D,g.get(D));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(D=>D.toLowerCase()=="content-type"),P=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(_T,u,void 0))||g||P||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,z]of d)this.g.setRequestHeader(D,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$f(this),this.u=!0,this.g.send(a),this.u=!1}catch(D){Lf(this,D)}};function Lf(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,Mf(a),Fo(a)}function Mf(a){a.A||(a.A=!0,dt(a,"complete"),dt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,dt(this,"complete"),dt(this,"abort"),Fo(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fo(this,!0)),Bt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ff(this):this.bb())},n.bb=function(){Ff(this)};function Ff(a){if(a.h&&typeof o<"u"&&(!a.v[1]||wn(a)!=4||a.Z()!=2)){if(a.u&&wn(a)==4)le(a.Ea,0,a);else if(dt(a,"readystatechange"),wn(a)==4){a.h=!1;try{const z=a.Z();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var d;if(!(d=u)){var g;if(g=z===0){var P=String(a.D).match(Rf)[1]||null;!P&&l.self&&l.self.location&&(P=l.self.location.protocol.slice(0,-1)),g=!gT.test(P?P.toLowerCase():"")}d=g}if(d)dt(a,"complete"),dt(a,"success");else{a.m=6;try{var D=2<wn(a)?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.Z()+"]",Mf(a)}}finally{Fo(a)}}}}function Fo(a,u){if(a.g){$f(a);const d=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||dt(a,"ready");try{d.onreadystatechange=g}catch{}}}function $f(a){a.I&&(l.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function wn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),Me(u)}};function Uf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function yT(a){const u={};a=(a.g&&2<=wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(V(a[g]))continue;var d=b(a[g]);const P=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const D=u[P]||[];u[P]=D,D.push(d)}A(u,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(a,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||u}function Bf(a){this.Aa=0,this.i=[],this.j=new hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yi("baseRetryDelayMs",5e3,a),this.cb=yi("retryDelaySeedMs",1e4,a),this.Wa=yi("forwardChannelMaxRetries",2,a),this.wa=yi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new wf(a&&a.concurrentRequestLimit),this.Da=new pT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Bf.prototype,n.la=8,n.G=1,n.connect=function(a,u,d,g){Te(0),this.W=a,this.H=u||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.I=Qf(this,null,this.W),Uo(this)};function ec(a){if(jf(a),a.G==3){var u=a.U++,d=Tn(a.I);if(Lt(d,"SID",a.K),Lt(d,"RID",u),Lt(d,"TYPE","terminate"),vi(a,d),u=new qn(a,a.j,u),u.L=2,u.v=xo(Tn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(u.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=u.v,d=!0),d||(u.g=Xf(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Do(u)}Yf(a)}function $o(a){a.g&&(rc(a),a.g.cancel(),a.g=null)}function jf(a){$o(a),a.u&&(l.clearTimeout(a.u),a.u=null),Bo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Uo(a){if(!Af(a.h)&&!a.s){a.s=!0;var u=a.Ga;ht||oe(),yt||(ht(),yt=!0),jt.add(u,a),a.B=0}}function vT(a,u){return If(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ui(m(a.Ga,a,u),Gf(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const P=new qn(this,this.j,a);let D=this.o;if(this.S&&(D?(D=y(D),I(D,this.S)):D=this.S),this.m!==null||this.O||(P.H=D,D=null),this.P)t:{for(var u=0,d=0;d<this.i.length;d++){e:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break e}g=void 0}if(g===void 0)break;if(u+=g,4096<u){u=d;break t}if(u===4096||d===this.i.length-1){u=d+1;break t}}u=1e3}else u=1e3;u=Wf(this,P,u),d=Tn(this.I),Lt(d,"RID",a),Lt(d,"CVER",22),this.D&&Lt(d,"X-HTTP-Session-Id",this.D),vi(this,d),D&&(this.O?u="headers="+encodeURIComponent(String(xf(D)))+"&"+u:this.m&&tc(d,this.m,D)),Zl(this.h,P),this.Ua&&Lt(d,"TYPE","init"),this.P?(Lt(d,"$req",u),Lt(d,"SID","null"),P.T=!0,Yl(P,d,null)):Yl(P,d,u),this.G=2}}else this.G==3&&(a?Hf(this,a):this.i.length==0||Af(this.h)||Hf(this))};function Hf(a,u){var d;u?d=u.l:d=a.U++;const g=Tn(a.I);Lt(g,"SID",a.K),Lt(g,"RID",d),Lt(g,"AID",a.T),vi(a,g),a.m&&a.o&&tc(g,a.m,a.o),d=new qn(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),u&&(a.i=u.D.concat(a.i)),u=Wf(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Zl(a.h,d),Yl(d,g,u)}function vi(a,u){a.H&&Z(a.H,function(d,g){Lt(u,g,d)}),a.l&&Cf({},function(d,g){Lt(u,g,d)})}function Wf(a,u,d){d=Math.min(a.i.length,d);var g=a.l?m(a.l.Na,a.l,a):null;t:{var P=a.i;let D=-1;for(;;){const z=["count="+d];D==-1?0<d?(D=P[0].g,z.push("ofs="+D)):D=0:z.push("ofs="+D);let kt=!0;for(let ee=0;ee<d;ee++){let St=P[ee].g;const ue=P[ee].map;if(St-=D,0>St)D=Math.max(0,P[ee].g-100),kt=!1;else try{mT(ue,z,"req"+St+"_")}catch{g&&g(ue)}}if(kt){g=z.join("&");break t}}}return a=a.i.splice(0,d),u.D=a,g}function qf(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;ht||oe(),yt||(ht(),yt=!0),jt.add(u,a),a.v=0}}function nc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ui(m(a.Fa,a),Gf(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Kf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ui(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),$o(this),Kf(this))};function rc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Kf(a){a.g=new qn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=Tn(a.qa);Lt(u,"RID","rpc"),Lt(u,"SID",a.K),Lt(u,"AID",a.T),Lt(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&Lt(u,"TO",a.ja),Lt(u,"TYPE","xmlhttp"),vi(a,u),a.m&&a.o&&tc(u,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=xo(Tn(u)),d.m=null,d.P=!0,vf(d,a)}n.Za=function(){this.C!=null&&(this.C=null,$o(this),nc(this),Te(19))};function Bo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function zf(a,u){var d=null;if(a.g==u){Bo(a),rc(a),a.g=null;var g=2}else if(Jl(a.h,u))d=u.D,bf(a.h,u),g=1;else return;if(a.G!=0){if(u.o)if(g==1){d=u.m?u.m.length:0,u=Date.now()-u.F;var P=a.B;g=Po(),dt(g,new mf(g,d)),Uo(a)}else qf(a);else if(P=u.s,P==3||P==0&&0<u.X||!(g==1&&vT(a,u)||g==2&&nc(a)))switch(d&&0<d.length&&(u=a.h,u.i=u.i.concat(d)),P){case 1:Pr(a,5);break;case 4:Pr(a,10);break;case 3:Pr(a,6);break;default:Pr(a,2)}}}function Gf(a,u){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*u}function Pr(a,u){if(a.j.info("Error code "+u),u==2){var d=m(a.fb,a),g=a.Xa;const P=!g;g=new Rr(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ko(g,"https"),xo(g),P?fT(g.toString(),d):dT(g.toString(),d)}else Te(2);a.G=0,a.l&&a.l.sa(u),Yf(a),jf(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Yf(a){if(a.G=0,a.ka=[],a.l){const u=Sf(a.h);(u.length!=0||a.i.length!=0)&&(N(a.ka,u),N(a.ka,a.i),a.h.i.length=0,O(a.i),a.i.length=0),a.l.ra()}}function Qf(a,u,d){var g=d instanceof Rr?Tn(d):new Rr(d);if(g.g!="")u&&(g.g=u+"."+g.g),Vo(g,g.s);else{var P=l.location;g=P.protocol,u=u?u+"."+P.hostname:P.hostname,P=+P.port;var D=new Rr(null);g&&ko(D,g),u&&(D.g=u),P&&Vo(D,P),d&&(D.l=d),g=D}return d=a.D,u=a.ya,d&&u&&Lt(g,d,u),Lt(g,"VER",a.la),vi(a,g),g}function Xf(a,u,d){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new Bt(new Lo({eb:d})):new Bt(a.pa),u.Ha(a.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jf(){}n=Jf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function jo(){}jo.prototype.g=function(a,u){return new Pe(a,u)};function Pe(a,u){st.call(this),this.g=new Bf(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!V(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!V(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new rs(this)}R(Pe,st),Pe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pe.prototype.close=function(){ec(this.g)},Pe.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=te(a),a=d);u.i.push(new nT(u.Ya++,a)),u.G==3&&Uo(u)},Pe.prototype.N=function(){this.g.l=null,delete this.j,ec(this.g),delete this.g,Pe.aa.N.call(this)};function Zf(a){ql.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){t:{for(const d in u){a=d;break t}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}R(Zf,ql);function td(){Kl.call(this),this.status=1}R(td,Kl);function rs(a){this.g=a}R(rs,Jf),rs.prototype.ua=function(){dt(this.g,"a")},rs.prototype.ta=function(a){dt(this.g,new Zf(a))},rs.prototype.sa=function(a){dt(this.g,new td)},rs.prototype.ra=function(){dt(this.g,"b")},jo.prototype.createWebChannel=jo.prototype.g,Pe.prototype.send=Pe.prototype.o,Pe.prototype.open=Pe.prototype.m,Pe.prototype.close=Pe.prototype.close,Ty=function(){return new jo},Ey=function(){return Po()},vy=Sr,du={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oo.NO_ERROR=0,Oo.TIMEOUT=8,Oo.HTTP_ERROR=6,ga=Oo,gf.COMPLETE="complete",yy=gf,hf.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",st.prototype.listen=st.prototype.K,Pi=hf,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,_y=Bt}).apply(typeof Go<"u"?Go:typeof self<"u"?self:typeof window<"u"?window:{});const Ap="@firebase/firestore",Ip="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}de.UNAUTHENTICATED=new de(null),de.GOOGLE_CREDENTIALS=new de("google-credentials-uid"),de.FIRST_PARTY=new de("first-party-uid"),de.MOCK_USER=new de("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new nh("@firebase/firestore");function hs(){return Wr.logLevel}function tt(n,...t){if(Wr.logLevel<=wt.DEBUG){const e=t.map(gh);Wr.debug(`Firestore (${Zs}): ${n}`,...e)}}function Fn(n,...t){if(Wr.logLevel<=wt.ERROR){const e=t.map(gh);Wr.error(`Firestore (${Zs}): ${n}`,...e)}}function Ls(n,...t){if(Wr.logLevel<=wt.WARN){const e=t.map(gh);Wr.warn(`Firestore (${Zs}): ${n}`,...e)}}function gh(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,wy(n,r,e)}function wy(n,t,e){let r=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Fn(r),new Error(r)}function Ot(n,t,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,n||wy(t,s,r)}function mt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends jn{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(de.UNAUTHENTICATED))}shutdown(){}}class VC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class xC{constructor(t){this.t=t,this.currentUser=de.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ot(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let i=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ur,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;t.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ur)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot(typeof r.accessToken=="string",31837,{l:r}),new Ay(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ot(t===null||typeof t=="string",2055,{h:t}),new de(t)}}class LC{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=de.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MC{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new LC(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(de.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bp{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ye(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Ot(this.o===void 0,3512);const r=i=>{i.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,tt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bp(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ot(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new bp(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=$C(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<e&&(r+=t.charAt(s[i]%62))}return r}}function vt(n,t){return n<t?-1:n>t?1:0}function pu(n,t){let e=0;for(;e<n.length&&e<t.length;){const r=n.codePointAt(e),s=t.codePointAt(e);if(r!==s){if(r<128&&s<128)return vt(r,s);{const i=Iy(),o=UC(i.encode(Sp(n,e)),i.encode(Sp(t,e)));return o!==0?o:vt(r,s)}}e+=r>65535?2:1}return vt(n.length,t.length)}function Sp(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function UC(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return vt(n[e],t[e]);return vt(n.length,t.length)}function Ms(n,t,e){return n.length===t.length&&n.every((r,s)=>e(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-62135596800,Rp=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(t){return Qt.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*Rp);return new Qt(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new it(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new it(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Cp)throw new it(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rp}_compareTo(t){return this.seconds===t.seconds?vt(this.nanoseconds,t.nanoseconds):vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Cp;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(t){return new pt(t)}static min(){return new pt(new Qt(0,0))}static max(){return new pt(new Qt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="__name__";class on{constructor(t,e,r){e===void 0?e=0:e>t.length&&ct(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&ct(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return on.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof on?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let s=0;s<r;s++){const i=on.compareSegments(t.get(s),e.get(s));if(i!==0)return i}return vt(t.length,e.length)}static compareSegments(t,e){const r=on.isNumericId(t),s=on.isNumericId(e);return r&&!s?-1:!r&&s?1:r&&s?on.extractNumericId(t).compare(on.extractNumericId(e)):pu(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cr.fromString(t.substring(4,t.length-2))}}class Mt extends on{construct(t,e,r){return new Mt(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new it(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(s=>s.length>0))}return new Mt(e)}static emptyPath(){return new Mt([])}}const BC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends on{construct(t,e,r){return new se(t,e,r)}static isValidIdentifier(t){return BC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pp}static keyField(){return new se([Pp])}static fromServerFormat(t){const e=[];let r="",s=0;const i=()=>{if(r.length===0)throw new it(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let o=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new it(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new it(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new it(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new se(e)}static emptyPath(){return new se([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t){this.path=t}static fromPath(t){return new at(Mt.fromString(t))}static fromName(t){return new at(Mt.fromString(t).popFirst(5))}static empty(){return new at(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Mt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Mt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new at(new Mt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=-1;function jC(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=pt.fromTimestamp(r===1e9?new Qt(e+1,0):new Qt(e,r));return new dr(s,at.empty(),t)}function HC(n){return new dr(n.readTime,n.key,ro)}class dr{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new dr(pt.min(),at.empty(),ro)}static max(){return new dr(pt.max(),at.empty(),ro)}}function WC(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=at.comparator(n.documentKey,t.documentKey),e!==0?e:vt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ti(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==qC)throw n;tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(e,i).next(r,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof $?e:$.resolve(e)}catch(e){return $.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):$.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):$.reject(e)}static resolve(t){return new $((e,r)=>{e(t)})}static reject(t){return new $((e,r)=>{r(t)})}static waitFor(t){return new $((e,r)=>{let s=0,i=0,o=!1;t.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&e()},c=>r(c))}),o=!0,i===s&&e()})}static or(t){let e=$.resolve(!1);for(const r of t)e=e.next(s=>s?$.resolve(s):r());return e}static forEach(t,e){const r=[];return t.forEach((s,i)=>{r.push(e.call(this,s,i))}),this.waitFor(r)}static mapArray(t,e){return new $((r,s)=>{const i=t.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;e(t[h]).next(f=>{o[h]=f,++l,l===i&&r(o)},f=>s(f))}})}static doWhile(t,e){return new $((r,s)=>{const i=()=>{t()===!0?e().next(()=>{i()},s):r()};i()})}}function zC(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ei(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>e.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}wl.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=-1;function Al(n){return n==null}function ja(n){return n===0&&1/n==-1/0}function GC(n){return typeof n=="number"&&Number.isInteger(n)&&!ja(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="";function YC(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Op(t)),t=QC(n.get(e),t);return Op(t)}function QC(n,t){let e=t;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":e+="";break;case Sy:e+="";break;default:e+=i}}return e}function Op(n){return n+Sy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Yr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Cy(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t,e){this.comparator=t,this.root=e||ne.EMPTY}insert(t,e){return new Ut(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ne.BLACK,null,null))}remove(t){return new Ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ne.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return e+r.left.size;s<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yo(this.root,t,this.comparator,!0)}}class Yo{constructor(t,e,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?r(t.key,e):1,e&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ne{constructor(t,e,r,s,i){this.key=t,this.value=e,this.color=r??ne.RED,this.left=s??ne.EMPTY,this.right=i??ne.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,s,i){return new ne(t??this.key,e??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,e,r),null):i===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ne.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return ne.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ne.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ne.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ct(27949);return t+(this.isRed()?0:1)}}ne.EMPTY=null,ne.RED=!0,ne.BLACK=!1;ne.EMPTY=new class{constructor(){this.size=0}get key(){throw ct(57766)}get value(){throw ct(16141)}get color(){throw ct(16727)}get left(){throw ct(29726)}get right(){throw ct(36894)}copy(t,e,r,s,i){return this}insert(t,e,r){return new ne(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.comparator=t,this.data=new Ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Dp(this.data.getIterator())}getIteratorFrom(t){return new Dp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Xt)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Xt(this.comparator);return e.data=t,e}}class Dp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.fields=t,t.sort(se.comparator)}static empty(){return new Xe([])}unionWith(t){let e=new Xt(se.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Xe(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ms(this.fields,t.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Ry("Invalid base64 string: "+i):i}}(t);return new ie(e)}static fromUint8Array(t){const e=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(t);return new ie(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ie.EMPTY_BYTE_STRING=new ie("");const XC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(n){if(Ot(!!n,39018),typeof n=="string"){let t=0;const e=XC.exec(n);if(Ot(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mr(n){return typeof n=="string"?ie.fromBase64String(n):ie.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="server_timestamp",Oy="__type__",Ny="__previous_value__",Dy="__local_write_time__";function yh(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Oy])===null||e===void 0?void 0:e.stringValue)===Py}function Il(n){const t=n.mapValue.fields[Ny];return yh(t)?Il(t):t}function so(n){const t=pr(n.mapValue.fields[Dy].timestampValue);return new Qt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,e,r,s,i,o,l,c,h,f){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=f}}const Ha="(default)";class io{constructor(t,e){this.projectId=t,this.database=e||Ha}static empty(){return new io("","")}get isDefaultDatabase(){return this.database===Ha}isEqual(t){return t instanceof io&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="__type__",ZC="__max__",Qo={mapValue:{}},Vy="__vector__",Wa="value";function gr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yh(n)?4:eR(n)?9007199254740991:tR(n)?10:11:ct(28295,{value:n})}function yn(n,t){if(n===t)return!0;const e=gr(n);if(e!==gr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return so(n).isEqual(so(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=pr(s.timestampValue),l=pr(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,i){return mr(s.bytesValue).isEqual(mr(i.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,i){return Ht(s.geoPointValue.latitude)===Ht(i.geoPointValue.latitude)&&Ht(s.geoPointValue.longitude)===Ht(i.geoPointValue.longitude)}(n,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ht(s.integerValue)===Ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ht(s.doubleValue),l=Ht(i.doubleValue);return o===l?ja(o)===ja(l):isNaN(o)&&isNaN(l)}return!1}(n,t);case 9:return Ms(n.arrayValue.values||[],t.arrayValue.values||[],yn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Np(o)!==Np(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!yn(o[c],l[c])))return!1;return!0}(n,t);default:return ct(52216,{left:n})}}function oo(n,t){return(n.values||[]).find(e=>yn(e,t))!==void 0}function Fs(n,t){if(n===t)return 0;const e=gr(n),r=gr(t);if(e!==r)return vt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return vt(n.booleanValue,t.booleanValue);case 2:return function(i,o){const l=Ht(i.integerValue||i.doubleValue),c=Ht(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(n,t);case 3:return kp(n.timestampValue,t.timestampValue);case 4:return kp(so(n),so(t));case 5:return pu(n.stringValue,t.stringValue);case 6:return function(i,o){const l=mr(i),c=mr(o);return l.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=vt(l[h],c[h]);if(f!==0)return f}return vt(l.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(i,o){const l=vt(Ht(i.latitude),Ht(o.latitude));return l!==0?l:vt(Ht(i.longitude),Ht(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Vp(n.arrayValue,t.arrayValue);case 10:return function(i,o){var l,c,h,f;const p=i.fields||{},m=o.fields||{},_=(l=p[Wa])===null||l===void 0?void 0:l.arrayValue,R=(c=m[Wa])===null||c===void 0?void 0:c.arrayValue,O=vt(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((f=R==null?void 0:R.values)===null||f===void 0?void 0:f.length)||0);return O!==0?O:Vp(_,R)}(n.mapValue,t.mapValue);case 11:return function(i,o){if(i===Qo.mapValue&&o===Qo.mapValue)return 0;if(i===Qo.mapValue)return 1;if(o===Qo.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=o.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const m=pu(c[p],f[p]);if(m!==0)return m;const _=Fs(l[c[p]],h[f[p]]);if(_!==0)return _}return vt(c.length,f.length)}(n.mapValue,t.mapValue);default:throw ct(23264,{Pe:e})}}function kp(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return vt(n,t);const e=pr(n),r=pr(t),s=vt(e.seconds,r.seconds);return s!==0?s:vt(e.nanos,r.nanos)}function Vp(n,t){const e=n.values||[],r=t.values||[];for(let s=0;s<e.length&&s<r.length;++s){const i=Fs(e[s],r[s]);if(i)return i}return vt(e.length,r.length)}function $s(n){return mu(n)}function mu(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=pr(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return mr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return at.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",s=!0;for(const i of e.values||[])s?s=!1:r+=",",r+=mu(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${mu(e.fields[o])}`;return s+"}"}(n.mapValue):ct(61005,{value:n})}function _a(n){switch(gr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Il(n);return t?16+_a(t):16;case 5:return 2*n.stringValue.length;case 6:return mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+_a(i),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Yr(r.fields,(i,o)=>{s+=i.length+_a(o)}),s}(n.mapValue);default:throw ct(13486,{value:n})}}function gu(n){return!!n&&"integerValue"in n}function vh(n){return!!n&&"arrayValue"in n}function xp(n){return!!n&&"nullValue"in n}function Lp(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ya(n){return!!n&&"mapValue"in n}function tR(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[ky])===null||e===void 0?void 0:e.stringValue)===Vy}function ji(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Yr(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=ji(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ji(n.arrayValue.values[e]);return t}return Object.assign({},n)}function eR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ZC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.value=t}static empty(){return new $e({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!ya(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ji(e)}setAll(t){let e=se.emptyPath(),r={},s=[];t.forEach((o,l)=>{if(!e.isImmediateParentOf(l)){const c=this.getFieldsMap(e);this.applyChanges(c,r,s),r={},s=[],e=l.popLast()}o?r[l.lastSegment()]=ji(o):s.push(l.lastSegment())});const i=this.getFieldsMap(e);this.applyChanges(i,r,s)}delete(t){const e=this.field(t.popLast());ya(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return yn(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=e.mapValue.fields[t.get(r)];ya(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,r){Yr(e,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new $e(ji(this.value))}}function xy(n){const t=[];return Yr(n.fields,(e,r)=>{const s=new se([e]);if(ya(r)){const i=xy(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new Xe(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,e,r,s,i,o,l){this.key=t,this.documentType=e,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(t){return new me(t,0,pt.min(),pt.min(),pt.min(),$e.empty(),0)}static newFoundDocument(t,e,r,s){return new me(t,1,e,pt.min(),r,s,0)}static newNoDocument(t,e){return new me(t,2,e,pt.min(),pt.min(),$e.empty(),0)}static newUnknownDocument(t,e){return new me(t,3,e,pt.min(),pt.min(),$e.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$e.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$e.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof me&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,e){this.position=t,this.inclusive=e}}function Mp(n,t,e){let r=0;for(let s=0;s<n.position.length;s++){const i=t[s],o=n.position[s];if(i.field.isKeyField()?r=at.comparator(at.fromName(o.referenceValue),e.key):r=Fs(o,e.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fp(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!yn(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,e="asc"){this.field=t,this.dir=e}}function nR(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{}class Yt extends Ly{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new sR(t,e,r):e==="array-contains"?new aR(t,r):e==="in"?new lR(t,r):e==="not-in"?new cR(t,r):e==="array-contains-any"?new uR(t,r):new Yt(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new iR(t,r):new oR(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Fs(e,this.value)):e!==null&&gr(this.value)===gr(e)&&this.matchesComparison(Fs(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vn extends Ly{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new vn(t,e)}matches(t){return My(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function My(n){return n.op==="and"}function Fy(n){return rR(n)&&My(n)}function rR(n){for(const t of n.filters)if(t instanceof vn)return!1;return!0}function _u(n){if(n instanceof Yt)return n.field.canonicalString()+n.op.toString()+$s(n.value);if(Fy(n))return n.filters.map(t=>_u(t)).join(",");{const t=n.filters.map(e=>_u(e)).join(",");return`${n.op}(${t})`}}function $y(n,t){return n instanceof Yt?function(r,s){return s instanceof Yt&&r.op===s.op&&r.field.isEqual(s.field)&&yn(r.value,s.value)}(n,t):n instanceof vn?function(r,s){return s instanceof vn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&$y(o,s.filters[l]),!0):!1}(n,t):void ct(19439)}function Uy(n){return n instanceof Yt?function(e){return`${e.field.canonicalString()} ${e.op} ${$s(e.value)}`}(n):n instanceof vn?function(e){return e.op.toString()+" {"+e.getFilters().map(Uy).join(" ,")+"}"}(n):"Filter"}class sR extends Yt{constructor(t,e,r){super(t,e,r),this.key=at.fromName(r.referenceValue)}matches(t){const e=at.comparator(t.key,this.key);return this.matchesComparison(e)}}class iR extends Yt{constructor(t,e){super(t,"in",e),this.keys=By("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class oR extends Yt{constructor(t,e){super(t,"not-in",e),this.keys=By("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function By(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>at.fromName(r.referenceValue))}class aR extends Yt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return vh(e)&&oo(e.arrayValue,this.value)}}class lR extends Yt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&oo(this.value.arrayValue,e)}}class cR extends Yt{constructor(t,e){super(t,"not-in",e)}matches(t){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!oo(this.value.arrayValue,e)}}class uR extends Yt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!vh(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>oo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t,e=null,r=[],s=[],i=null,o=null,l=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Ie=null}}function $p(n,t=null,e=[],r=[],s=null,i=null,o=null){return new hR(n,t,e,r,s,i,o)}function Eh(n){const t=mt(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>_u(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Al(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>$s(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>$s(r)).join(",")),t.Ie=e}return t.Ie}function Th(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!nR(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!$y(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Fp(n.startAt,t.startAt)&&Fp(n.endAt,t.endAt)}function yu(n){return at.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(t,e=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function fR(n,t,e,r,s,i,o,l){return new bl(n,t,e,r,s,i,o,l)}function jy(n){return new bl(n)}function Up(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dR(n){return n.collectionGroup!==null}function Hi(n){const t=mt(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Xt(se.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(i=>{e.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new Ka(i,r))}),e.has(se.keyField().canonicalString())||t.Ee.push(new Ka(se.keyField(),r))}return t.Ee}function fn(n){const t=mt(n);return t.de||(t.de=pR(t,Hi(n))),t.de}function pR(n,t){if(n.limitType==="F")return $p(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ka(s.field,i)});const e=n.endAt?new qa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qa(n.startAt.position,n.startAt.inclusive):null;return $p(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function vu(n,t,e){return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Sl(n,t){return Th(fn(n),fn(t))&&n.limitType===t.limitType}function Hy(n){return`${Eh(fn(n))}|lt:${n.limitType}`}function fs(n){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(s=>Uy(s)).join(", ")}]`),Al(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>$s(s)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>$s(s)).join(",")),`Target(${r})`}(fn(n))}; limitType=${n.limitType})`}function Cl(n,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):at.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,t)&&function(r,s){for(const i of Hi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,t)&&function(r,s){return!(r.startAt&&!function(o,l,c){const h=Mp(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,Hi(r),s)||r.endAt&&!function(o,l,c){const h=Mp(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,Hi(r),s))}(n,t)}function mR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Wy(n){return(t,e)=>{let r=!1;for(const s of Hi(n)){const i=gR(s,t,e);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function gR(n,t,e){const r=n.field.isKeyField()?at.comparator(t.key,e.key):function(i,o,l){const c=o.data.field(i),h=l.data.field(i);return c!==null&&h!==null?Fs(c,h):ct(42886)}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ct(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[e]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Yr(this.inner,(e,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return Cy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Ut(at.comparator);function $n(){return _R}const qy=new Ut(at.comparator);function Oi(...n){let t=qy;for(const e of n)t=t.insert(e.key,e);return t}function Ky(n){let t=qy;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function xr(){return Wi()}function zy(){return Wi()}function Wi(){return new Qr(n=>n.toString(),(n,t)=>n.isEqual(t))}const yR=new Ut(at.comparator),vR=new Xt(at.comparator);function At(...n){let t=vR;for(const e of n)t=t.add(e);return t}const ER=new Xt(vt);function TR(){return ER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ja(t)?"-0":t}}function Gy(n){return{integerValue:""+n}}function wR(n,t){return GC(t)?Gy(t):wh(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this._=void 0}}function AR(n,t,e){return n instanceof za?function(s,i){const o={fields:{[Oy]:{stringValue:Py},[Dy]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&yh(i)&&(i=Il(i)),i&&(o.fields[Ny]=i),{mapValue:o}}(e,t):n instanceof ao?Qy(n,t):n instanceof lo?Xy(n,t):function(s,i){const o=Yy(s,i),l=Bp(o)+Bp(s.Re);return gu(o)&&gu(s.Re)?Gy(l):wh(s.serializer,l)}(n,t)}function IR(n,t,e){return n instanceof ao?Qy(n,t):n instanceof lo?Xy(n,t):e}function Yy(n,t){return n instanceof Ga?function(r){return gu(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class za extends Rl{}class ao extends Rl{constructor(t){super(),this.elements=t}}function Qy(n,t){const e=Jy(t);for(const r of n.elements)e.some(s=>yn(s,r))||e.push(r);return{arrayValue:{values:e}}}class lo extends Rl{constructor(t){super(),this.elements=t}}function Xy(n,t){let e=Jy(t);for(const r of n.elements)e=e.filter(s=>!yn(s,r));return{arrayValue:{values:e}}}class Ga extends Rl{constructor(t,e){super(),this.serializer=t,this.Re=e}}function Bp(n){return Ht(n.integerValue||n.doubleValue)}function Jy(n){return vh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function bR(n,t){return n.field.isEqual(t.field)&&function(r,s){return r instanceof ao&&s instanceof ao||r instanceof lo&&s instanceof lo?Ms(r.elements,s.elements,yn):r instanceof Ga&&s instanceof Ga?yn(r.Re,s.Re):r instanceof za&&s instanceof za}(n.transform,t.transform)}class SR{constructor(t,e){this.version=t,this.transformResults=e}}class Nn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Nn}static exists(t){return new Nn(void 0,t)}static updateTime(t){return new Nn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function va(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Pl{}function Zy(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new ev(n.key,Nn.none()):new vo(n.key,n.data,Nn.none());{const e=n.data,r=$e.empty();let s=new Xt(se.comparator);for(let i of t.fields)if(!s.has(i)){let o=e.field(i);o===null&&i.length>1&&(i=i.popLast(),o=e.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Xr(n.key,r,new Xe(s.toArray()),Nn.none())}}function CR(n,t,e){n instanceof vo?function(s,i,o){const l=s.value.clone(),c=Hp(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):n instanceof Xr?function(s,i,o){if(!va(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Hp(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(tv(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function qi(n,t,e,r){return n instanceof vo?function(i,o,l,c){if(!va(i.precondition,o))return l;const h=i.value.clone(),f=Wp(i.fieldTransforms,c,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(n,t,e,r):n instanceof Xr?function(i,o,l,c){if(!va(i.precondition,o))return l;const h=Wp(i.fieldTransforms,c,o),f=o.data;return f.setAll(tv(i)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(n,t,e,r):function(i,o,l){return va(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(n,t,e)}function RR(n,t){let e=null;for(const r of n.fieldTransforms){const s=t.data.field(r.field),i=Yy(r.transform,s||null);i!=null&&(e===null&&(e=$e.empty()),e.set(r.field,i))}return e||null}function jp(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ms(r,s,(i,o)=>bR(i,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class vo extends Pl{constructor(t,e,r,s=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xr extends Pl{constructor(t,e,r,s,i=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function tv(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function Hp(n,t,e){const r=new Map;Ot(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let s=0;s<e.length;s++){const i=n[s],o=i.transform,l=t.data.field(i.field);r.set(i.field,IR(o,l,e[s]))}return r}function Wp(n,t,e){const r=new Map;for(const s of n){const i=s.transform,o=e.data.field(s.field);r.set(s.field,AR(i,o,t))}return r}class ev extends Pl{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PR extends Pl{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,e,r,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&CR(i,t,r[s])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=qi(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=qi(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=zy();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=e.has(s.key)?null:l;const c=Zy(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(pt.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),At())}isEqual(t){return this.batchId===t.batchId&&Ms(this.mutations,t.mutations,(e,r)=>jp(e,r))&&Ms(this.baseMutations,t.baseMutations,(e,r)=>jp(e,r))}}class Ah{constructor(t,e,r,s){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=s}static from(t,e,r){Ot(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let s=function(){return yR}();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ah(t,e,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,bt;function kR(n){switch(n){case W.OK:return ct(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ct(15467,{code:n})}}function nv(n){if(n===void 0)return Fn("GRPC error has no .code"),W.UNKNOWN;switch(n){case zt.OK:return W.OK;case zt.CANCELLED:return W.CANCELLED;case zt.UNKNOWN:return W.UNKNOWN;case zt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case zt.INTERNAL:return W.INTERNAL;case zt.UNAVAILABLE:return W.UNAVAILABLE;case zt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case zt.NOT_FOUND:return W.NOT_FOUND;case zt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case zt.ABORTED:return W.ABORTED;case zt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case zt.DATA_LOSS:return W.DATA_LOSS;default:return ct(39323,{code:n})}}(bt=zt||(zt={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new cr([4294967295,4294967295],0);function qp(n){const t=Iy().encode(n),e=new gy;return e.update(t),new Uint8Array(e.digest())}function Kp(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new cr([e,r],0),new cr([s,i],0)]}class Ih{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Ni(`Invalid padding: ${e}`);if(r<0)throw new Ni(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ni(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Ni(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=cr.fromNumber(this.pe)}we(t,e,r){let s=t.add(e.multiply(cr.fromNumber(r)));return s.compare(VR)===1&&(s=new cr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=qp(t),[r,s]=Kp(e);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(t,e,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new Ih(i,s,e);return r.forEach(l=>o.insert(l)),o}insert(t){if(this.pe===0)return;const e=qp(t),[r,s]=Kp(e);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Ni extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,e,r,s,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const s=new Map;return s.set(t,Eo.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Ol(pt.min(),s,new Ut(vt),$n(),At())}}class Eo{constructor(t,e,r,s,i){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Eo(r,e,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t,e,r,s){this.De=t,this.removedTargetIds=e,this.key=r,this.ve=s}}class rv{constructor(t,e){this.targetId=t,this.Ce=e}}class sv{constructor(t,e,r=ie.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=s}}class zp{constructor(){this.Fe=0,this.Me=Gp(),this.xe=ie.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=At(),e=At(),r=At();return this.Me.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:r=r.add(s);break;default:ct(38017,{changeType:i})}}),new Eo(this.xe,this.Oe,t,e,r)}Qe(){this.Ne=!1,this.Me=Gp()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ot(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xR{constructor(t){this.ze=t,this.je=new Map,this.He=$n(),this.Je=Xo(),this.Ye=Xo(),this.Ze=new Ut(vt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const r=this.rt(e);switch(t.state){case 0:this.it(e)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(e);break;case 3:this.it(e)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),r.ke(t.resumeToken));break;default:ct(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((r,s)=>{this.it(s)&&e(s)})}ot(t){const e=t.targetId,r=t.Ce.count,s=this._t(e);if(s){const i=s.target;if(yu(i))if(r===0){const o=new at(i.path);this.tt(e,o,me.newNoDocument(o,pt.min()))}else Ot(r===1,20013,{expectedCount:r});else{const o=this.ut(e);if(o!==r){const l=this.ct(t),c=l?this.lt(l,t,o):1;if(c!==0){this.st(e);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,h)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=e;let o,l;try{o=mr(r).toUint8Array()}catch(c){if(c instanceof Ry)return Ls("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Ih(o,s,i)}catch(c){return Ls(c instanceof Ni?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(t,e,r){return e.Ce.count===r-this.Tt(t,e.targetId)?0:2}Tt(t,e){const r=this.ze.getRemoteKeysForTarget(e);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.tt(e,i,null),s++)}),s}It(t){const e=new Map;this.je.forEach((i,o)=>{const l=this._t(o);if(l){if(i.current&&yu(l.target)){const c=new at(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,me.newNoDocument(c,t))}i.Le&&(e.set(o,i.qe()),i.Qe())}});let r=At();this.Ye.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(t));const s=new Ol(t,e,this.Ze,this.He,r);return this.He=$n(),this.Je=Xo(),this.Ye=Xo(),this.Ze=new Ut(vt),s}et(t,e){if(!this.it(t))return;const r=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,r),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,r){if(!this.it(t))return;const s=this.rt(t);this.dt(t,e)?s.$e(e,1):s.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),r&&(this.He=this.He.insert(e,r))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new zp,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Xt(vt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Xt(vt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||tt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new zp),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Xo(){return new Ut(at.comparator)}function Gp(){return new Ut(at.comparator)}const LR={asc:"ASCENDING",desc:"DESCENDING"},MR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FR={and:"AND",or:"OR"};class $R{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Eu(n,t){return n.useProto3Json||Al(t)?t:{value:t}}function Ya(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iv(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function UR(n,t){return Ya(n,t.toTimestamp())}function dn(n){return Ot(!!n,49232),pt.fromTimestamp(function(e){const r=pr(e);return new Qt(r.seconds,r.nanos)}(n))}function bh(n,t){return Tu(n,t).canonicalString()}function Tu(n,t){const e=function(s){return new Mt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function ov(n){const t=Mt.fromString(n);return Ot(hv(t),10190,{key:t.toString()}),t}function wu(n,t){return bh(n.databaseId,t.path)}function Sc(n,t){const e=ov(t);if(e.get(1)!==n.databaseId.projectId)throw new it(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new it(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new at(lv(e))}function av(n,t){return bh(n.databaseId,t)}function BR(n){const t=ov(n);return t.length===4?Mt.emptyPath():lv(t)}function Au(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lv(n){return Ot(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Yp(n,t,e){return{name:wu(n,t),fields:e.value.mapValue.fields}}function jR(n,t){let e;if("targetChange"in t){t.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ct(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(h,f){return h.useProto3Json?(Ot(f===void 0||typeof f=="string",58123),ie.fromBase64String(f||"")):(Ot(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ie.fromUint8Array(f||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(h){const f=h.code===void 0?W.UNKNOWN:nv(h.code);return new it(f,h.message||"")}(o);e=new sv(r,s,i,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sc(n,r.document.name),i=dn(r.document.updateTime),o=r.document.createTime?dn(r.document.createTime):pt.min(),l=new $e({mapValue:{fields:r.document.fields}}),c=me.newFoundDocument(s,i,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];e=new Ea(h,f,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Sc(n,r.document),i=r.readTime?dn(r.readTime):pt.min(),o=me.newNoDocument(s,i),l=r.removedTargetIds||[];e=new Ea([],l,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Sc(n,r.document),i=r.removedTargetIds||[];e=new Ea([],i,s,null)}else{if(!("filter"in t))return ct(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new DR(s,i),l=r.targetId;e=new rv(l,o)}}return e}function HR(n,t){let e;if(t instanceof vo)e={update:Yp(n,t.key,t.value)};else if(t instanceof ev)e={delete:wu(n,t.key)};else if(t instanceof Xr)e={update:Yp(n,t.key,t.data),updateMask:JR(t.fieldMask)};else{if(!(t instanceof PR))return ct(16599,{ft:t.type});e={verify:wu(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof za)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ao)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof lo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ga)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw ct(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(e.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:UR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ct(27497)}(n,t.precondition)),e}function WR(n,t){return n&&n.length>0?(Ot(t!==void 0,14353),n.map(e=>function(s,i){let o=s.updateTime?dn(s.updateTime):dn(i);return o.isEqual(pt.min())&&(o=dn(i)),new SR(o,s.transformResults||[])}(e,t))):[]}function qR(n,t){return{documents:[av(n,t.path)]}}function KR(n,t){const e={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=av(n,s);const i=function(h){if(h.length!==0)return uv(vn.create(h,"and"))}(t.filters);i&&(e.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(f=>function(m){return{field:ds(m.field),direction:YR(m.dir)}}(f))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const l=Eu(n,t.limit);return l!==null&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:e,parent:s}}function zR(n){let t=BR(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let s=null;if(r>0){Ot(r===1,65062);const f=e.from[0];f.allDescendants?s=f.collectionId:t=t.child(f.collectionId)}let i=[];e.where&&(i=function(p){const m=cv(p);return m instanceof vn&&Fy(m)?m.getFilters():[m]}(e.where));let o=[];e.orderBy&&(o=function(p){return p.map(m=>function(R){return new Ka(ps(R.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(m))}(e.orderBy));let l=null;e.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Al(m)?null:m}(e.limit));let c=null;e.startAt&&(c=function(p){const m=!!p.before,_=p.values||[];return new qa(_,m)}(e.startAt));let h=null;return e.endAt&&(h=function(p){const m=!p.before,_=p.values||[];return new qa(_,m)}(e.endAt)),fR(t,s,o,i,l,"F",c,h)}function GR(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function cv(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=ps(e.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ps(e.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ps(e.unaryFilter.field);return Yt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ps(e.unaryFilter.field);return Yt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ct(61313);default:return ct(60726)}}(n):n.fieldFilter!==void 0?function(e){return Yt.create(ps(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ct(58110);default:return ct(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return vn.create(e.compositeFilter.filters.map(r=>cv(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ct(1026)}}(e.compositeFilter.op))}(n):ct(30097,{filter:n})}function YR(n){return LR[n]}function QR(n){return MR[n]}function XR(n){return FR[n]}function ds(n){return{fieldPath:n.canonicalString()}}function ps(n){return se.fromServerFormat(n.fieldPath)}function uv(n){return n instanceof Yt?function(e){if(e.op==="=="){if(Lp(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NAN"}};if(xp(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Lp(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NOT_NAN"}};if(xp(e.value))return{unaryFilter:{field:ds(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(e.field),op:QR(e.op),value:e.value}}}(n):n instanceof vn?function(e){const r=e.getFilters().map(s=>uv(s));return r.length===1?r[0]:{compositeFilter:{op:XR(e.op),filters:r}}}(n):ct(54877,{filter:n})}function JR(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function hv(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,e,r,s,i=pt.min(),o=pt.min(),l=ie.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t){this.wt=t}}function tP(n){const t=zR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vu(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.Cn=new nP}addToCollectionParentIndex(t,e){return this.Cn.add(e),$.resolve()}getCollectionParents(t,e){return $.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return $.resolve()}deleteFieldIndex(t,e){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,e){return $.resolve()}getDocumentsMatchingTarget(t,e){return $.resolve(null)}getIndexType(t,e){return $.resolve(0)}getFieldIndexes(t,e){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,e){return $.resolve(dr.min())}getMinOffsetFromCollectionGroup(t,e){return $.resolve(dr.min())}updateCollectionGroup(t,e,r){return $.resolve()}updateIndexEntries(t,e){return $.resolve()}}class nP{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e]||new Xt(Mt.comparator),i=!s.has(r);return this.index[e]=s.add(r),i}has(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Xt(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fv=41943040;class Ce{static withCacheSize(t){return new Ce(t,Ce.DEFAULT_COLLECTION_PERCENTILE,Ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ce.DEFAULT_COLLECTION_PERCENTILE=10,Ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ce.DEFAULT=new Ce(fv,Ce.DEFAULT_COLLECTION_PERCENTILE,Ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ce.DISABLED=new Ce(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Us(0)}static lr(){return new Us(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="LruGarbageCollector",rP=1048576;function Jp([n,t],[e,r]){const s=vt(n,e);return s===0?vt(t,r):s}class sP{constructor(t){this.Er=t,this.buffer=new Xt(Jp),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Jp(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class iP{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){tt(Xp,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ei(e)?tt(Xp,"Ignoring IndexedDB error during garbage collection: ",e):await ti(e)}await this.mr(3e5)})}}class oP{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return $.resolve(wl.le);const r=new sP(e);return this.gr.forEachTarget(t,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(t,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.gr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Qp)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qp):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let r,s,i,o,l,c,h;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(t,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(t,r,e))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(t,r))).next(p=>(h=Date.now(),hs()<=wt.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function aP(n,t){return new oP(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.changes=new Qr(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,me.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?$.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(t,e,r,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(r!==null&&qi(r.mutation,s,Xe.empty(),Qt.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,At()).next(()=>r))}getLocalViewOfDocuments(t,e,r=At()){const s=xr();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,r).next(i=>{let o=Oi();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const r=xr();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,At()))}populateOverlays(t,e,r){const s=[];return r.forEach(i=>{e.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,l)=>{e.set(o,l)})})}computeViews(t,e,r,s){let i=$n();const o=Wi(),l=function(){return Wi()}();return e.forEach((c,h)=>{const f=r.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof Xr)?i=i.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),qi(f.mutation,h,f.mutation.getFieldMask(),Qt.now())):o.set(h.key,Xe.empty())}),this.recalculateAndSaveOverlays(t,i).next(c=>(c.forEach((h,f)=>o.set(h,f)),e.forEach((h,f)=>{var p;return l.set(h,new cP(f,(p=o.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(t,e){const r=Wi();let s=new Ut((o,l)=>o-l),i=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=e.get(c);if(h===null)return;let f=r.get(c)||Xe.empty();f=l.applyToLocalView(h,f),r.set(c,f);const p=(s.get(l.batchId)||At()).add(c);s=s.insert(l.batchId,p)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,p=zy();f.forEach(m=>{if(!i.has(m)){const _=Zy(e.get(m),r.get(m));_!==null&&p.set(m,_),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(t,h,p))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,s){return function(o){return at.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):dR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,s):this.getDocumentsMatchingCollectionQuery(t,e,r,s)}getNextDocuments(t,e,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,s-i.size):$.resolve(xr());let l=ro,c=i;return o.next(h=>$.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(f)?$.resolve():this.remoteDocumentCache.getEntry(t,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(t,h,i)).next(()=>this.computeViews(t,c,h,At())).next(f=>({batchId:l,changes:Ky(f)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new at(e)).next(r=>{let s=Oi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,r,s){const i=e.collectionGroup;let o=Oi();return this.indexManager.getCollectionParents(t,i).next(l=>$.forEach(l,c=>{const h=function(p,m){return new bl(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(e,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,h,r,s).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,i,s))).next(o=>{i.forEach((c,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,me.newInvalidDocument(f)))});let l=Oi();return o.forEach((c,h)=>{const f=i.get(c);f!==void 0&&qi(f.mutation,h,Xe.empty(),Qt.now()),Cl(e,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return $.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:dn(s.createTime)}}(e)),$.resolve()}getNamedQuery(t,e){return $.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(s){return{name:s.name,query:tP(s.bundledQuery),readTime:dn(s.readTime)}}(e)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.overlays=new Ut(at.comparator),this.Qr=new Map}getOverlay(t,e){return $.resolve(this.overlays.get(e))}getOverlays(t,e){const r=xr();return $.forEach(e,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((s,i)=>{this.St(t,e,i)}),$.resolve()}removeOverlaysForBatchId(t,e,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),$.resolve()}getOverlaysForCollection(t,e,r){const s=xr(),i=e.length+1,o=new at(e.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!e.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(t,e,r,s){let i=new Ut((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===e&&h.largestBatchId>r){let f=i.get(h.largestBatchId);f===null&&(f=xr(),i=i.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=xr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=s)););return $.resolve(l)}St(t,e,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new NR(e,r));let i=this.Qr.get(e);i===void 0&&(i=At(),this.Qr.set(e,i)),this.Qr.set(e,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.sessionToken=ie.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this.$r=new Xt(Jt.Ur),this.Kr=new Xt(Jt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const r=new Jt(t,e);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.zr(new Jt(t,e))}jr(t,e){t.forEach(r=>this.removeReference(r,e))}Hr(t){const e=new at(new Mt([])),r=new Jt(e,t),s=new Jt(e,t+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new at(new Mt([])),r=new Jt(e,t),s=new Jt(e,t+1);let i=At();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const e=new Jt(t,0),r=this.$r.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Jt{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return at.comparator(t.key,e.key)||vt(t.Zr,e.Zr)}static Wr(t,e){return vt(t.Zr,e.Zr)||at.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Xt(Jt.Ur)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OR(i,e,r,s);this.mutationQueue.push(o);for(const l of s)this.Xr=this.Xr.add(new Jt(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return $.resolve(o)}lookupMutationBatch(t,e){return $.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,s=this.ti(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?_h:this.nr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Jt(e,0),s=new Jt(e,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const l=this.ei(o.Zr);i.push(l)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Xt(vt);return e.forEach(s=>{const i=new Jt(s,0),o=new Jt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],l=>{r=r.add(l.Zr)})}),$.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,s=r.length+1;let i=r;at.isDocumentKey(i)||(i=i.child(""));const o=new Jt(new at(i),0);let l=new Xt(vt);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.Zr)),!0)},o),$.resolve(this.ni(l))}ni(t){const e=[];return t.forEach(r=>{const s=this.ei(r);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){Ot(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return $.forEach(e.mutations,s=>{const i=new Jt(s.key,e.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,e){const r=new Jt(e,0),s=this.Xr.firstAfterOrEqual(r);return $.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(t){this.ii=t,this.docs=function(){return new Ut(at.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return $.resolve(r?r.document.mutableCopy():me.newInvalidDocument(e))}getEntries(t,e){let r=$n();return e.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():me.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(t,e,r,s){let i=$n();const o=e.path,l=new at(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||WC(HC(f),r)<=0||(s.has(f.key)||Cl(e,f))&&(i=i.insert(f.key,f.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(t,e,r,s){ct(9500)}si(t,e){return $.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new gP(this)}getSize(t){return $.resolve(this.size)}}class gP extends lP{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?e.push(this.Br.addEntry(t,s)):this.Br.removeEntry(r)}),$.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t){this.persistence=t,this.oi=new Qr(e=>Eh(e),Th),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this._i=0,this.ai=new Sh,this.targetCount=0,this.ui=Us.cr()}forEachTarget(t,e){return this.oi.forEach((r,s)=>e(s)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this._i&&(this._i=e),$.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Us(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,$.resolve()}updateTargetData(t,e){return this.Tr(e),$.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,e,r){let s=0;const i=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=e&&r.get(l.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,e){const r=this.oi.get(e)||null;return $.resolve(r)}addMatchingKeys(t,e,r){return this.ai.Gr(e,r),$.resolve()}removeMatchingKeys(t,e,r){this.ai.jr(e,r);const s=this.persistence.referenceDelegate,i=[];return s&&e.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),$.resolve()}getMatchingKeysForTargetId(t,e){const r=this.ai.Yr(e);return $.resolve(r)}containsKey(t,e){return $.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t,e){this.ci={},this.overlays={},this.li=new wl(0),this.hi=!1,this.hi=!0,this.Pi=new dP,this.referenceDelegate=t(this),this.Ti=new _P(this),this.indexManager=new eP,this.remoteDocumentCache=function(s){return new mP(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new ZR(e),this.Ei=new hP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new fP,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ci[t.toKey()];return r||(r=new pP(e,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,r){tt("MemoryPersistence","Starting transaction:",t);const s=new yP(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(t,e){return $.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,e)))}}class yP extends KC{constructor(t){super(),this.currentSequenceNumber=t}}class Ch{constructor(t){this.persistence=t,this.Vi=new Sh,this.mi=null}static fi(t){return new Ch(t)}get gi(){if(this.mi)return this.mi;throw ct(60996)}addReference(t,e,r){return this.Vi.addReference(r,e),this.gi.delete(r.toString()),$.resolve()}removeReference(t,e,r){return this.Vi.removeReference(r,e),this.gi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),$.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,r=>{const s=at.fromPath(r);return this.pi(t,s).next(i=>{i||e.removeEntry(s,pt.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(r=>{r?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return $.or([()=>$.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class Qa{constructor(t,e){this.persistence=t,this.yi=new Qr(r=>YC(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=aP(this,e)}static fi(t,e){return new Qa(t,e)}di(){}Ai(t){return $.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(s=>r+s))}br(t){let e=0;return this.yr(t,r=>{e++}).next(()=>e)}yr(t,e){return $.forEach(this.yi,(r,s)=>this.Dr(t,r,s).next(i=>i?$.resolve():e(s)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(t,o=>this.Dr(t,o,e).next(l=>{l||(r++,i.removeEntry(o,pt.min()))})).next(()=>i.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),$.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.yi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,e,r){return this.yi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),$.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=_a(t.data.value)),e}Dr(t,e,r){return $.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.yi.get(e);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,e,r,s){this.targetId=t,this.fromCache=e,this.ds=r,this.As=s}static Rs(t,e){let r=At(),s=At();for(const i of e.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Rh(t,e.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return db()?8:zC(ve())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,r,s){const i={result:null};return this.ws(t,e).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(t,e,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new vP;return this.Ss(t,e,o).next(l=>{if(i.result=l,this.fs)return this.Ds(t,e,o,l.size)})}).next(()=>i.result)}Ds(t,e,r,s){return r.documentReadCount<this.gs?(hs()<=wt.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",fs(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(hs()<=wt.DEBUG&&tt("QueryEngine","Query:",fs(e),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(hs()<=wt.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",fs(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fn(e))):$.resolve())}ws(t,e){if(Up(e))return $.resolve(null);let r=fn(e);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=vu(e,null,"F"),r=fn(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const o=At(...i);return this.ys.getDocuments(t,o).next(l=>this.indexManager.getMinOffset(t,r).next(c=>{const h=this.vs(e,l);return this.Cs(e,h,o,c.readTime)?this.ws(t,vu(e,null,"F")):this.Fs(t,h,e,c)}))})))}bs(t,e,r,s){return Up(e)||s.isEqual(pt.min())?$.resolve(null):this.ys.getDocuments(t,r).next(i=>{const o=this.vs(e,i);return this.Cs(e,o,r,s)?$.resolve(null):(hs()<=wt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fs(e)),this.Fs(t,o,e,jC(s,ro)).next(l=>l))})}vs(t,e){let r=new Xt(Wy(t));return e.forEach((s,i)=>{Cl(t,i)&&(r=r.add(i))}),r}Cs(t,e,r,s){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const i=t.limitType==="F"?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(t,e,r){return hs()<=wt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",fs(e)),this.ys.getDocumentsMatchingQuery(t,e,dr.min(),r)}Fs(t,e,r,s){return this.ys.getDocumentsMatchingQuery(t,r,s).next(i=>(e.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="LocalStore",TP=3e8;class wP{constructor(t,e,r,s){this.persistence=t,this.Ms=e,this.serializer=s,this.xs=new Ut(vt),this.Os=new Qr(i=>Eh(i),Th),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function AP(n,t,e,r){return new wP(n,t,e,r)}async function pv(n,t){const e=mt(n);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let s;return e.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,e.Ls(t),e.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=At();for(const h of s){o.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of i){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return e.localDocuments.getDocuments(r,c).next(h=>({ks:h,removedBatchIds:o,addedBatchIds:l}))})})}function IP(n,t){const e=mt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=e.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,f){const p=h.batch,m=p.keys();let _=$.resolve();return m.forEach(R=>{_=_.next(()=>f.getEntry(c,R)).next(O=>{const N=h.docVersions.get(R);Ot(N!==null,48541),O.version.compareTo(N)<0&&(p.applyToRemoteDocument(O,h),O.isValidDocument()&&(O.setReadTime(h.commitVersion),f.addEntry(O)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(e,r,t,i).next(()=>i.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=At();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(t))).next(()=>e.localDocuments.getDocuments(r,s))})}function mv(n){const t=mt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function bP(n,t){const e=mt(n),r=t.snapshotVersion;let s=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=e.Bs.newChangeBuffer({trackRemovals:!0});s=e.xs;const l=[];t.targetChanges.forEach((f,p)=>{const m=s.get(p);if(!m)return;l.push(e.Ti.removeMatchingKeys(i,f.removedDocuments,p).next(()=>e.Ti.addMatchingKeys(i,f.addedDocuments,p)));let _=m.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(p)!==null?_=_.withResumeToken(ie.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),s=s.insert(p,_),function(O,N,U){return O.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=TP?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(m,_,f)&&l.push(e.Ti.updateTargetData(i,_))});let c=$n(),h=At();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&l.push(e.persistence.referenceDelegate.updateLimboDocument(i,f))}),l.push(SP(i,o,t.documentUpdates).next(f=>{c=f.qs,h=f.Qs})),!r.isEqual(pt.min())){const f=e.Ti.getLastRemoteSnapshotVersion(i).next(p=>e.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(f)}return $.waitFor(l).next(()=>o.apply(i)).next(()=>e.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(i=>(e.xs=s,i))}function SP(n,t,e){let r=At(),s=At();return e.forEach(i=>r=r.add(i)),t.getEntries(n,r).next(i=>{let o=$n();return e.forEach((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(pt.min())?(t.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(c),o=o.insert(l,c)):tt(Ph,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{qs:o,Qs:s}})}function CP(n,t){const e=mt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=_h),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function RP(n,t){const e=mt(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return e.Ti.getTargetData(r,t).next(i=>i?(s=i,$.resolve(s)):e.Ti.allocateTargetId(r).next(o=>(s=new rr(t,o,"TargetPurposeListen",r.currentSequenceNumber),e.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=e.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.xs=e.xs.insert(r.targetId,r),e.Os.set(t,r.targetId)),r})}async function Iu(n,t,e){const r=mt(n),s=r.xs.get(t),i=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ei(o))throw o;tt(Ph,`Failed to update sequence numbers for target ${t}: ${o}`)}r.xs=r.xs.remove(t),r.Os.delete(s.target)}function Zp(n,t,e){const r=mt(n);let s=pt.min(),i=At();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,f){const p=mt(c),m=p.Os.get(f);return m!==void 0?$.resolve(p.xs.get(m)):p.Ti.getTargetData(h,f)}(r,o,fn(t)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,t,e?s:pt.min(),e?i:At())).next(l=>(PP(r,mR(t),l),{documents:l,$s:i})))}function PP(n,t,e){let r=n.Ns.get(t)||pt.min();e.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.Ns.set(t,r)}class tm{constructor(){this.activeTargetIds=TR()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OP{constructor(){this.xo=new tm,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,r){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new tm,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="ConnectivityMonitor";class nm{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){tt(em,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){tt(em,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo=null;function bu(){return Jo===null?Jo=function(){return 268435456+Math.round(2147483648*Math.random())}():Jo++,"0x"+Jo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="RestConnection",DP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kP{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Ha?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(t,e,r,s,i){const o=bu(),l=this.jo(t,e.toUriEncodedString());tt(Cc,`Sending RPC '${t}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:h}=new URL(l),f=Qs(h);return this.Jo(t,l,c,r,f).then(p=>(tt(Cc,`Received RPC '${t}' ${o}: `,p),p),p=>{throw Ls(Cc,`RPC '${t}' ${o} failed with error: `,p,"url: ",l,"request:",r),p})}Yo(t,e,r,s,i,o){return this.zo(t,e,r,s,i)}Ho(t,e,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,i)=>t[i]=s),r&&r.headers.forEach((s,i)=>t[i]=s)}jo(t,e){const r=DP[t];return`${this.Ko}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe="WebChannelConnection";class xP extends kP{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,s,i){const o=bu();return new Promise((l,c)=>{const h=new _y;h.setWithCredentials(!0),h.listenOnce(yy.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ga.NO_ERROR:const p=h.getResponseJson();tt(fe,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(p)),l(p);break;case ga.TIMEOUT:tt(fe,`RPC '${t}' ${o} timed out`),c(new it(W.DEADLINE_EXCEEDED,"Request time out"));break;case ga.HTTP_ERROR:const m=h.getStatus();if(tt(fe,`RPC '${t}' ${o} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const R=_==null?void 0:_.error;if(R&&R.status&&R.message){const O=function(U){const V=U.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(V)>=0?V:W.UNKNOWN}(R.status);c(new it(O,R.message))}else c(new it(W.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new it(W.UNAVAILABLE,"Connection failed."));break;default:ct(9055,{h_:t,streamId:o,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{tt(fe,`RPC '${t}' ${o} completed.`)}});const f=JSON.stringify(s);tt(fe,`RPC '${t}' ${o} sending request:`,s),h.send(e,"POST",f,r,15)})}I_(t,e,r){const s=bu(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Ty(),l=Ey(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,e,r),c.encodeInitMessageHeaders=!0;const f=i.join("");tt(fe,`Creating RPC '${t}' stream ${s}: ${f}`,c);const p=o.createWebChannel(f,c);this.E_(p);let m=!1,_=!1;const R=new VP({Zo:N=>{_?tt(fe,`Not sending because RPC '${t}' stream ${s} is closed:`,N):(m||(tt(fe,`Opening RPC '${t}' stream ${s} transport.`),p.open(),m=!0),tt(fe,`RPC '${t}' stream ${s} sending:`,N),p.send(N))},Xo:()=>p.close()}),O=(N,U,V)=>{N.listen(U,B=>{try{V(B)}catch(x){setTimeout(()=>{throw x},0)}})};return O(p,Pi.EventType.OPEN,()=>{_||(tt(fe,`RPC '${t}' stream ${s} transport opened.`),R.__())}),O(p,Pi.EventType.CLOSE,()=>{_||(_=!0,tt(fe,`RPC '${t}' stream ${s} transport closed`),R.u_(),this.d_(p))}),O(p,Pi.EventType.ERROR,N=>{_||(_=!0,Ls(fe,`RPC '${t}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),R.u_(new it(W.UNAVAILABLE,"The operation could not be completed")))}),O(p,Pi.EventType.MESSAGE,N=>{var U;if(!_){const V=N.data[0];Ot(!!V,16349);const B=V,x=(B==null?void 0:B.error)||((U=B[0])===null||U===void 0?void 0:U.error);if(x){tt(fe,`RPC '${t}' stream ${s} received error:`,x);const J=x.status;let Z=function(E){const I=zt[E];if(I!==void 0)return nv(I)}(J),A=x.message;Z===void 0&&(Z=W.INTERNAL,A="Unknown error status: "+J+" with message "+x.message),_=!0,R.u_(new it(Z,A)),p.close()}else tt(fe,`RPC '${t}' stream ${s} received:`,V),R.c_(V)}}),O(l,vy.STAT_EVENT,N=>{N.stat===du.PROXY?tt(fe,`RPC '${t}' stream ${s} detected buffering proxy`):N.stat===du.NOPROXY&&tt(fe,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function Rc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){return new $R(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t,e,r=1e3,s=1.5,i=6e4){this.xi=t,this.timerId=e,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,e-r);s>0&&tt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="PersistentStream";class _v{constructor(t,e,r,s,i,o,l,c){this.xi=t,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new gv(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===W.RESOURCE_EXHAUSTED?(Fn(e.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===e&&this.z_(r,s)},r=>{t(()=>{const s=new it(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(t,e){const r=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return tt(rm,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(tt(rm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LP extends _v{constructor(t,e,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,s,o),this.serializer=i}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=jR(this.serializer,t),r=function(i){if(!("targetChange"in i))return pt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?dn(o.readTime):pt.min()}(t);return this.listener.Y_(e,r)}Z_(t){const e={};e.database=Au(this.serializer),e.addTarget=function(i,o){let l;const c=o.target;if(l=yu(c)?{documents:qR(i,c)}:{query:KR(i,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=iv(i,o.resumeToken);const h=Eu(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(pt.min())>0){l.readTime=Ya(i,o.snapshotVersion.toTimestamp());const h=Eu(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const r=GR(this.serializer,t);r&&(e.labels=r),this.Q_(e)}X_(t){const e={};e.database=Au(this.serializer),e.removeTarget=t,this.Q_(e)}}class MP extends _v{constructor(t,e,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,s,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return Ot(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ot(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Ot(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=WR(t.writeResults,t.commitTime),r=dn(t.commitTime);return this.listener.ra(r,e)}ia(){const t={};t.database=Au(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>HR(this.serializer,r))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{}class $P extends FP{constructor(t,e,r,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new it(W.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(t,Tu(e,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new it(W.UNKNOWN,i.toString())})}Yo(t,e,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(t,Tu(e,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new it(W.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class UP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Fn(e),this.ua=!1):tt("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="RemoteStore";class BP{constructor(t,e,r,s,i){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{r.enqueueAndForget(async()=>{Jr(this)&&(tt(qr,"Restarting streams for network reachability change."),await async function(c){const h=mt(c);h.da.add(4),await To(h),h.Va.set("Unknown"),h.da.delete(4),await Dl(h)}(this))})}),this.Va=new UP(r,s)}}async function Dl(n){if(Jr(n))for(const t of n.Aa)await t(!0)}async function To(n){for(const t of n.Aa)await t(!1)}function yv(n,t){const e=mt(n);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),kh(e)?Dh(e):ni(e).N_()&&Nh(e,t))}function Oh(n,t){const e=mt(n),r=ni(e);e.Ea.delete(t),r.N_()&&vv(e,t),e.Ea.size===0&&(r.N_()?r.k_():Jr(e)&&e.Va.set("Unknown"))}function Nh(n,t){if(n.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ni(n).Z_(t)}function vv(n,t){n.ma.Ke(t),ni(n).X_(t)}function Dh(n){n.ma=new xR({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Ea.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),ni(n).start(),n.Va.ca()}function kh(n){return Jr(n)&&!ni(n).O_()&&n.Ea.size>0}function Jr(n){return mt(n).da.size===0}function Ev(n){n.ma=void 0}async function jP(n){n.Va.set("Online")}async function HP(n){n.Ea.forEach((t,e)=>{Nh(n,t)})}async function WP(n,t){Ev(n),kh(n)?(n.Va.Pa(t),Dh(n)):n.Va.set("Unknown")}async function qP(n,t,e){if(n.Va.set("Online"),t instanceof sv&&t.state===2&&t.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ea.delete(l),s.ma.removeTarget(l))}(n,t)}catch(r){tt(qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Xa(n,r)}else if(t instanceof Ea?n.ma.Xe(t):t instanceof rv?n.ma.ot(t):n.ma.nt(t),!e.isEqual(pt.min()))try{const r=await mv(n.localStore);e.compareTo(r)>=0&&await function(i,o){const l=i.ma.It(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.Ea.get(h);f&&i.Ea.set(h,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const f=i.Ea.get(c);if(!f)return;i.Ea.set(c,f.withResumeToken(ie.EMPTY_BYTE_STRING,f.snapshotVersion)),vv(i,c);const p=new rr(f.target,c,h,f.sequenceNumber);Nh(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(n,e)}catch(r){tt(qr,"Failed to raise snapshot:",r),await Xa(n,r)}}async function Xa(n,t,e){if(!ei(t))throw t;n.da.add(1),await To(n),n.Va.set("Offline"),e||(e=()=>mv(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{tt(qr,"Retrying IndexedDB access"),await e(),n.da.delete(1),await Dl(n)})}function Tv(n,t){return t().catch(e=>Xa(n,e,t))}async function kl(n){const t=mt(n),e=_r(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:_h;for(;KP(t);)try{const s=await CP(t.localStore,r);if(s===null){t.Ia.length===0&&e.k_();break}r=s.batchId,zP(t,s)}catch(s){await Xa(t,s)}wv(t)&&Av(t)}function KP(n){return Jr(n)&&n.Ia.length<10}function zP(n,t){n.Ia.push(t);const e=_r(n);e.N_()&&e.ea&&e.ta(t.mutations)}function wv(n){return Jr(n)&&!_r(n).O_()&&n.Ia.length>0}function Av(n){_r(n).start()}async function GP(n){_r(n).ia()}async function YP(n){const t=_r(n);for(const e of n.Ia)t.ta(e.mutations)}async function QP(n,t,e){const r=n.Ia.shift(),s=Ah.from(r,t,e);await Tv(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await kl(n)}async function XP(n,t){t&&_r(n).ea&&await async function(r,s){if(function(o){return kR(o)&&o!==W.ABORTED}(s.code)){const i=r.Ia.shift();_r(r).L_(),await Tv(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await kl(r)}}(n,t),wv(n)&&Av(n)}async function sm(n,t){const e=mt(n);e.asyncQueue.verifyOperationInProgress(),tt(qr,"RemoteStore received new credentials");const r=Jr(e);e.da.add(3),await To(e),r&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Dl(e)}async function JP(n,t){const e=mt(n);t?(e.da.delete(2),await Dl(e)):t||(e.da.add(2),await To(e),e.Va.set("Unknown"))}function ni(n){return n.fa||(n.fa=function(e,r,s){const i=mt(e);return i.oa(),new LP(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{e_:jP.bind(null,n),n_:HP.bind(null,n),i_:WP.bind(null,n),Y_:qP.bind(null,n)}),n.Aa.push(async t=>{t?(n.fa.L_(),kh(n)?Dh(n):n.Va.set("Unknown")):(await n.fa.stop(),Ev(n))})),n.fa}function _r(n){return n.ga||(n.ga=function(e,r,s){const i=mt(e);return i.oa(),new MP(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:GP.bind(null,n),i_:XP.bind(null,n),na:YP.bind(null,n),ra:QP.bind(null,n)}),n.Aa.push(async t=>{t?(n.ga.L_(),await kl(n)):(await n.ga.stop(),n.Ia.length>0&&(tt(qr,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,e,r,s,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,s,i){const o=Date.now()+r,l=new Vh(t,e,o,s,i);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xh(n,t){if(Fn("AsyncQueue",`${t}: ${n}`),ei(n))return new it(W.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{static emptySet(t){return new Ps(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||at.comparator(e.key,r.key):(e,r)=>at.comparator(e.key,r.key),this.keyedMap=Oi(),this.sortedSet=new Ut(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ps)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Ps;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this.pa=new Ut(at.comparator)}track(t){const e=t.doc.key,r=this.pa.get(e);r?t.type!==0&&r.type===3?this.pa=this.pa.insert(e,t):t.type===3&&r.type!==1?this.pa=this.pa.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.pa=this.pa.remove(e):t.type===1&&r.type===2?this.pa=this.pa.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):ct(63341,{Vt:t,ya:r}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,r)=>{t.push(r)}),t}}class Bs{constructor(t,e,r,s,i,o,l,c,h){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(t,e,r,s,i){const o=[];return e.forEach(l=>{o.push({type:0,doc:l})}),new Bs(t,e,Ps.emptySet(e),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==r[s].type||!e[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class tO{constructor(){this.queries=om(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const s=mt(e),i=s.queries;s.queries=om(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new it(W.ABORTED,"Firestore shutting down"))}}function om(){return new Qr(n=>Hy(n),Sl)}async function eO(n,t){const e=mt(n);let r=3;const s=t.query;let i=e.queries.get(s);i?!i.Da()&&t.va()&&(r=2):(i=new ZP,r=t.va()?0:1);try{switch(r){case 0:i.ba=await e.onListen(s,!0);break;case 1:i.ba=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(o){const l=xh(o,`Initialization of query '${fs(t.query)}' failed`);return void t.onError(l)}e.queries.set(s,i),i.Sa.push(t),t.Fa(e.onlineState),i.ba&&t.Ma(i.ba)&&Lh(e)}async function nO(n,t){const e=mt(n),r=t.query;let s=3;const i=e.queries.get(r);if(i){const o=i.Sa.indexOf(t);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=t.va()?0:1:!i.Da()&&t.va()&&(s=2))}switch(s){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function rO(n,t){const e=mt(n);let r=!1;for(const s of t){const i=s.query,o=e.queries.get(i);if(o){for(const l of o.Sa)l.Ma(s)&&(r=!0);o.ba=s}}r&&Lh(e)}function sO(n,t,e){const r=mt(n),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(e);r.queries.delete(t)}function Lh(n){n.Ca.forEach(t=>{t.next()})}var Su,am;(am=Su||(Su={})).xa="default",am.Cache="cache";class iO{constructor(t,e,r){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Bs(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const r=e!=="Offline";return(!this.options.Qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Bs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Su.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t){this.key=t}}class bv{constructor(t){this.key=t}}class oO{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=At(),this.mutatedKeys=At(),this.Za=Wy(t),this.Xa=new Ps(this.Za)}get eu(){return this.Ha}tu(t,e){const r=e?e.nu:new im,s=e?e.Xa:this.Xa;let i=e?e.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((f,p)=>{const m=s.get(f),_=Cl(this.query,p)?p:null,R=!!m&&this.mutatedKeys.has(m.key),O=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let N=!1;m&&_?m.data.isEqual(_.data)?R!==O&&(r.track({type:3,doc:_}),N=!0):this.ru(m,_)||(r.track({type:2,doc:_}),N=!0,(c&&this.Za(_,c)>0||h&&this.Za(_,h)<0)&&(l=!0)):!m&&_?(r.track({type:0,doc:_}),N=!0):m&&!_&&(r.track({type:1,doc:m}),N=!0,(c||h)&&(l=!0)),N&&(_?(o=o.add(_),i=O?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Xa:o,nu:r,Cs:l,mutatedKeys:i}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,s){const i=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const o=t.nu.wa();o.sort((f,p)=>function(_,R){const O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct(20277,{Vt:N})}};return O(_)-O(R)}(f.type,p.type)||this.Za(f.doc,p.doc)),this.iu(r),s=s!=null&&s;const l=e&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,h=c!==this.Ja;return this.Ja=c,o.length!==0||h?{snapshot:new Bs(this.query,t.Xa,i,o,t.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new im,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=At(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const e=[];return t.forEach(r=>{this.Ya.has(r)||e.push(new bv(r))}),this.Ya.forEach(r=>{t.has(r)||e.push(new Iv(r))}),e}au(t){this.Ha=t.$s,this.Ya=At();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Bs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Mh="SyncEngine";class aO{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class lO{constructor(t){this.key=t,this.cu=!1}}class cO{constructor(t,e,r,s,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Qr(l=>Hy(l),Sl),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ut(at.comparator),this.Eu=new Map,this.du=new Sh,this.Au={},this.Ru=new Map,this.Vu=Us.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function uO(n,t,e=!0){const r=Nv(n);let s;const i=r.hu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await Sv(r,t,e,!0),s}async function hO(n,t){const e=Nv(n);await Sv(e,t,!0,!1)}async function Sv(n,t,e,r){const s=await RP(n.localStore,fn(t)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,e);let l;return r&&(l=await fO(n,t,i,o==="current",s.resumeToken)),n.isPrimaryClient&&e&&yv(n.remoteStore,s),l}async function fO(n,t,e,r,s){n.fu=(p,m,_)=>async function(O,N,U,V){let B=N.view.tu(U);B.Cs&&(B=await Zp(O.localStore,N.query,!1).then(({documents:A})=>N.view.tu(A,B)));const x=V&&V.targetChanges.get(N.targetId),J=V&&V.targetMismatches.get(N.targetId)!=null,Z=N.view.applyChanges(B,O.isPrimaryClient,x,J);return cm(O,N.targetId,Z.ou),Z.snapshot}(n,p,m,_);const i=await Zp(n.localStore,t,!0),o=new oO(t,i.$s),l=o.tu(i.documents),c=Eo.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",s),h=o.applyChanges(l,n.isPrimaryClient,c);cm(n,e,h.ou);const f=new aO(t,e,o);return n.hu.set(t,f),n.Pu.has(e)?n.Pu.get(e).push(t):n.Pu.set(e,[t]),h.snapshot}async function dO(n,t,e){const r=mt(n),s=r.hu.get(t),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(o=>!Sl(o,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Iu(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),e&&Oh(r.remoteStore,s.targetId),Cu(r,s.targetId)}).catch(ti)):(Cu(r,s.targetId),await Iu(r.localStore,s.targetId,!0))}async function pO(n,t){const e=mt(n),r=e.hu.get(t),s=e.Pu.get(r.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Oh(e.remoteStore,r.targetId))}async function mO(n,t,e){const r=wO(n);try{const s=await function(o,l){const c=mt(o),h=Qt.now(),f=l.reduce((_,R)=>_.add(R.key),At());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let R=$n(),O=At();return c.Bs.getEntries(_,f).next(N=>{R=N,R.forEach((U,V)=>{V.isValidDocument()||(O=O.add(U))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,R)).next(N=>{p=N;const U=[];for(const V of l){const B=RR(V,p.get(V.key).overlayedDocument);B!=null&&U.push(new Xr(V.key,B,xy(B.value.mapValue),Nn.exists(!0)))}return c.mutationQueue.addMutationBatch(_,h,U,l)}).next(N=>{m=N;const U=N.applyToLocalDocumentSet(p,O);return c.documentOverlayCache.saveOverlays(_,N.batchId,U)})}).then(()=>({batchId:m.batchId,changes:Ky(p)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let h=o.Au[o.currentUser.toKey()];h||(h=new Ut(vt)),h=h.insert(l,c),o.Au[o.currentUser.toKey()]=h}(r,s.batchId,e),await wo(r,s.changes),await kl(r.remoteStore)}catch(s){const i=xh(s,"Failed to persist write");e.reject(i)}}async function Cv(n,t){const e=mt(n);try{const r=await bP(e.localStore,t);t.targetChanges.forEach((s,i)=>{const o=e.Eu.get(i);o&&(Ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.cu=!0:s.modifiedDocuments.size>0?Ot(o.cu,14607):s.removedDocuments.size>0&&(Ot(o.cu,42227),o.cu=!1))}),await wo(e,r,t)}catch(r){await ti(r)}}function lm(n,t,e){const r=mt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const s=[];r.hu.forEach((i,o)=>{const l=o.view.Fa(t);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=mt(o);c.onlineState=l;let h=!1;c.queries.forEach((f,p)=>{for(const m of p.Sa)m.Fa(l)&&(h=!0)}),h&&Lh(c)}(r.eventManager,t),s.length&&r.lu.Y_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function gO(n,t,e){const r=mt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const s=r.Eu.get(t),i=s&&s.key;if(i){let o=new Ut(at.comparator);o=o.insert(i,me.newNoDocument(i,pt.min()));const l=At().add(i),c=new Ol(pt.min(),new Map,new Ut(vt),o,l);await Cv(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(t),Fh(r)}else await Iu(r.localStore,t,!1).then(()=>Cu(r,t,e)).catch(ti)}async function _O(n,t){const e=mt(n),r=t.batch.batchId;try{const s=await IP(e.localStore,t);Pv(e,r,null),Rv(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await wo(e,s)}catch(s){await ti(s)}}async function yO(n,t,e){const r=mt(n);try{const s=await function(o,l){const c=mt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next(p=>(Ot(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(h,p))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(r.localStore,t);Pv(r,t,e),Rv(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await wo(r,s)}catch(s){await ti(s)}}function Rv(n,t){(n.Ru.get(t)||[]).forEach(e=>{e.resolve()}),n.Ru.delete(t)}function Pv(n,t,e){const r=mt(n);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(e?i.reject(e):i.resolve(),s=s.remove(t)),r.Au[r.currentUser.toKey()]=s}}function Cu(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Pu.get(t))n.hu.delete(r),e&&n.lu.gu(r,e);n.Pu.delete(t),n.isPrimaryClient&&n.du.Hr(t).forEach(r=>{n.du.containsKey(r)||Ov(n,r)})}function Ov(n,t){n.Tu.delete(t.path.canonicalString());const e=n.Iu.get(t);e!==null&&(Oh(n.remoteStore,e),n.Iu=n.Iu.remove(t),n.Eu.delete(e),Fh(n))}function cm(n,t,e){for(const r of e)r instanceof Iv?(n.du.addReference(r.key,t),vO(n,r)):r instanceof bv?(tt(Mh,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,t),n.du.containsKey(r.key)||Ov(n,r.key)):ct(19791,{pu:r})}function vO(n,t){const e=t.key,r=e.path.canonicalString();n.Iu.get(e)||n.Tu.has(r)||(tt(Mh,"New document in limbo: "+e),n.Tu.add(r),Fh(n))}function Fh(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const t=n.Tu.values().next().value;n.Tu.delete(t);const e=new at(Mt.fromString(t)),r=n.Vu.next();n.Eu.set(r,new lO(e)),n.Iu=n.Iu.insert(e,r),yv(n.remoteStore,new rr(fn(jy(e.path)),r,"TargetPurposeLimboResolution",wl.le))}}async function wo(n,t,e){const r=mt(n),s=[],i=[],o=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{o.push(r.fu(c,t,e).then(h=>{var f;if((h||e)&&r.isPrimaryClient){const p=h?!h.fromCache:(f=e==null?void 0:e.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(h){s.push(h);const p=Rh.Rs(c.targetId,h);i.push(p)}}))}),await Promise.all(o),r.lu.Y_(s),await async function(c,h){const f=mt(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>$.forEach(h,m=>$.forEach(m.ds,_=>f.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>$.forEach(m.As,_=>f.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!ei(p))throw p;tt(Ph,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const _=f.xs.get(m),R=_.snapshotVersion,O=_.withLastLimboFreeSnapshotVersion(R);f.xs=f.xs.insert(m,O)}}}(r.localStore,i))}async function EO(n,t){const e=mt(n);if(!e.currentUser.isEqual(t)){tt(Mh,"User change. New user:",t.toKey());const r=await pv(e.localStore,t);e.currentUser=t,function(i,o){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new it(W.CANCELLED,o))})}),i.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await wo(e,r.ks)}}function TO(n,t){const e=mt(n),r=e.Eu.get(t);if(r&&r.cu)return At().add(r.key);{let s=At();const i=e.Pu.get(t);if(!i)return s;for(const o of i){const l=e.hu.get(o);s=s.unionWith(l.view.eu)}return s}}function Nv(n){const t=mt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Cv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gO.bind(null,t),t.lu.Y_=rO.bind(null,t.eventManager),t.lu.gu=sO.bind(null,t.eventManager),t}function wO(n){const t=mt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_O.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yO.bind(null,t),t}class Ja{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nl(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return AP(this.persistence,new EP,t.initialUser,this.serializer)}Su(t){return new dv(Ch.fi,this.serializer)}bu(t){return new OP}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ja.provider={build:()=>new Ja};class AO extends Ja{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){Ot(this.persistence.referenceDelegate instanceof Qa,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iP(r,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?Ce.withCacheSize(this.cacheSizeBytes):Ce.DEFAULT;return new dv(r=>Qa.fi(r,e),this.serializer)}}class Ru{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EO.bind(null,this.syncEngine),await JP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new tO}()}createDatastore(t){const e=Nl(t.databaseInfo.databaseId),r=function(i){return new xP(i)}(t.databaseInfo);return function(i,o,l,c){return new $P(i,o,l,c)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(r,s,i,o,l){return new BP(r,s,i,o,l)}(this.localStore,this.datastore,t.asyncQueue,e=>lm(this.syncEngine,e,0),function(){return nm.C()?new nm:new NP}())}createSyncEngine(t,e){return function(s,i,o,l,c,h,f){const p=new cO(s,i,o,l,c,h);return f&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const i=mt(s);tt(qr,"RemoteStore shutting down."),i.da.add(5),await To(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Ru.provider={build:()=>new Ru};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Fn("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="FirestoreClient";class bO{constructor(t,e,r,s,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=s,this.user=de.UNAUTHENTICATED,this.clientId=by.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{tt(yr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(tt(yr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=xh(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Pc(n,t){n.asyncQueue.verifyOperationInProgress(),tt(yr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await pv(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function um(n,t){n.asyncQueue.verifyOperationInProgress();const e=await SO(n);tt(yr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>sm(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>sm(t.remoteStore,s)),n._onlineComponents=t}async function SO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){tt(yr,"Using user provided OfflineComponentProvider");try{await Pc(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===W.FAILED_PRECONDITION||s.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Ls("Error using user provided cache. Falling back to memory cache: "+e),await Pc(n,new Ja)}}else tt(yr,"Using default OfflineComponentProvider"),await Pc(n,new AO(void 0));return n._offlineComponents}async function Dv(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(tt(yr,"Using user provided OnlineComponentProvider"),await um(n,n._uninitializedComponentsProvider._online)):(tt(yr,"Using default OnlineComponentProvider"),await um(n,new Ru))),n._onlineComponents}function CO(n){return Dv(n).then(t=>t.syncEngine)}async function RO(n){const t=await Dv(n),e=t.eventManager;return e.onListen=uO.bind(null,t.syncEngine),e.onUnlisten=dO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=hO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=pO.bind(null,t.syncEngine),e}function PO(n,t,e={}){const r=new ur;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,h){const f=new IO({next:m=>{f.xu(),o.enqueueAndForget(()=>nO(i,p)),m.fromCache&&c.source==="server"?h.reject(new it(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new iO(l,f,{includeMetadataChanges:!0,Qa:!0});return eO(i,p)}(await RO(n),n.asyncQueue,t,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(n,t,e){if(!e)throw new it(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function OO(n,t,e,r){if(t===!0&&r===!0)throw new it(W.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function fm(n){if(!at.isDocumentKey(n))throw new it(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dm(n){if(at.isDocumentKey(n))throw new it(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $h(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":ct(12329,{type:typeof n})}function Za(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new it(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=$h(n);throw new it(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="firestore.googleapis.com",pm=!0;class mm{constructor(t){var e,r;if(t.host===void 0){if(t.ssl!==void 0)throw new it(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xv,this.ssl=pm}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:pm;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=fv;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rP)throw new it(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kv((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new it(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new it(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new it(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vl{constructor(t,e,r,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mm(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kC;switch(r.type){case"firstParty":return new MC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=hm.get(e);r&&(tt("ComponentProvider","Removing Datastore"),hm.delete(e),r.terminate())}(this),Promise.resolve()}}function NO(n,t,e,r={}){var s;n=Za(n,Vl);const i=Qs(t),o=n._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${t}:${e}`;i&&(D_(`https://${c}`),k_("Firestore",!0)),o.host!==xv&&o.host!==c&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!Br(h,l)&&(n._setSettings(h),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=de.MOCK_USER;else{f=sb(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new it(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new de(m)}n._authCredentials=new VC(new Ay(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new xl(this.firestore,t,this._query)}}class tn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}}class hr extends xl{constructor(t,e,r){super(t,e,jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new at(t))}withConverter(t){return new hr(this.firestore,t,this._path)}}function Lv(n,t,...e){if(n=We(n),Vv("collection","path",t),n instanceof Vl){const r=Mt.fromString(t,...e);return dm(r),new hr(n,null,r)}{if(!(n instanceof tn||n instanceof hr))throw new it(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mt.fromString(t,...e));return dm(r),new hr(n.firestore,null,r)}}function DO(n,t,...e){if(n=We(n),arguments.length===1&&(t=by.newId()),Vv("doc","path",t),n instanceof Vl){const r=Mt.fromString(t,...e);return fm(r),new tn(n,null,new at(r))}{if(!(n instanceof tn||n instanceof hr))throw new it(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mt.fromString(t,...e));return fm(r),new tn(n.firestore,n instanceof hr?n.converter:null,new at(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="AsyncQueue";class _m{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new gv(this,"async_queue_retry"),this.rc=()=>{const r=Rc();r&&tt(gm,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=t;const e=Rc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=Rc();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new ur;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!ei(t))throw t;tt(gm,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(r=>{throw this.Xu=r,this.ec=!1,Fn("INTERNAL UNHANDLED ERROR: ",ym(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=e,e}enqueueAfterDelay(t,e,r){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const s=Vh.createAndSchedule(this,t,e,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&ct(47125,{cc:ym(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function ym(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Uh extends Vl{constructor(t,e,r,s){super(t,e,r,s),this.type="firestore",this._queue=new _m,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _m(t),this._firestoreClient=void 0,await t}}}function kO(n,t){const e=typeof n=="object"?n:M_(),r=typeof n=="string"?n:Ha,s=sh(e,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nb("firestore");i&&NO(s,...i)}return s}function Mv(n){if(n._terminated)throw new it(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VO(n),n._firestoreClient}function VO(n){var t,e,r;const s=n._freezeSettings(),i=function(l,c,h,f){return new JC(l,c,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,kv(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new bO(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this._byteString=t}static fromBase64String(t){try{return new js(ie.fromBase64String(t))}catch(e){throw new it(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new js(ie.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new it(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new it(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new it(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return vt(this._lat,t._lat)||vt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^__.*__$/;class LO{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Xr(t,this.data,this.fieldMask,e,this.fieldTransforms):new vo(t,this.data,e,this.fieldTransforms)}}function $v(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct(40011,{Ic:n})}}class Wh{constructor(t,e,r,s,i,o){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Wh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.dc({path:r,Rc:!1});return s.Vc(t),s}mc(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return tl(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if($v(this.Ic)&&xO.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class MO{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Nl(t)}bc(t,e,r,s=!1){return new Wh({Ic:t,methodName:e,wc:r,path:se.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FO(n){const t=n._freezeSettings(),e=Nl(n._databaseId);return new MO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function $O(n,t,e,r,s,i={}){const o=n.bc(i.merge||i.mergeFields?2:0,t,e,s);Hv("Data must be an object, but it was:",o,r);const l=Bv(r,o);let c,h;if(i.merge)c=new Xe(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const m=UO(t,p,e);if(!o.contains(m))throw new it(W.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);jO(f,m)||f.push(m)}c=new Xe(f),h=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,h=o.fieldTransforms;return new LO(new $e(l),c,h)}function Uv(n,t){if(jv(n=We(n)))return Hv("Unsupported field value:",t,n),Bv(n,t);if(n instanceof Fv)return function(r,s){if(!$v(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Uv(l,s.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(n,t)}return function(r,s){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wR(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Qt.fromDate(r);return{timestampValue:Ya(s.serializer,i)}}if(r instanceof Qt){const i=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ya(s.serializer,i)}}if(r instanceof jh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof js)return{bytesValue:iv(s.serializer,r._byteString)};if(r instanceof tn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bh(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Hh)return function(o,l){return{mapValue:{fields:{[ky]:{stringValue:Vy},[Wa]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return wh(l.serializer,h)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${$h(r)}`)}(n,t)}function Bv(n,t){const e={};return Cy(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yr(n,(r,s)=>{const i=Uv(s,t.Ac(r));i!=null&&(e[r]=i)}),{mapValue:{fields:e}}}function jv(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qt||n instanceof jh||n instanceof js||n instanceof tn||n instanceof Fv||n instanceof Hh)}function Hv(n,t,e){if(!jv(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const r=$h(e);throw r==="an object"?t.gc(n+" a custom object"):t.gc(n+" "+r)}}function UO(n,t,e){if((t=We(t))instanceof Bh)return t._internalPath;if(typeof t=="string")return Wv(n,t);throw tl("Field path arguments must be of type string or ",n,!1,void 0,e)}const BO=new RegExp("[~\\*/\\[\\]]");function Wv(n,t,e){if(t.search(BO)>=0)throw tl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Bh(...t.split("."))._internalPath}catch{throw tl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function tl(n,t,e,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new it(W.INVALID_ARGUMENT,l+n+c)}function jO(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(t,e,r,s,i){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Kv("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class HO extends qv{data(){return super.data()}}function Kv(n,t){return typeof t=="string"?Wv(n,t):t instanceof Bh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new it(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qO{convertValue(t,e="none"){switch(gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ht(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ct(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Yr(t,(s,i)=>{r[s]=this.convertValue(i,e)}),r}convertVectorValue(t){var e,r,s;const i=(s=(r=(e=t.fields)===null||e===void 0?void 0:e[Wa].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ht(o.doubleValue));return new Hh(i)}convertGeoPoint(t){return new jh(Ht(t.latitude),Ht(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Il(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(so(t));default:return null}}convertTimestamp(t){const e=pr(t);return new Qt(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Mt.fromString(t);Ot(hv(r),9688,{name:t});const s=new io(r.get(1),r.get(3)),i=new at(r.popFirst(5));return s.isEqual(e)||Fn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(n,t,e){let r;return r=n?n.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zO extends qv{constructor(t,e,r,s,i,o){super(t,e,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Kv("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Ta extends zO{data(t={}){return super.data(t)}}class GO{constructor(t,e,r,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Zo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Ta(this._firestore,this._userDataWriter,r.key,r,new Zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new it(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Ta(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Zo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Ta(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Zo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:YO(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function YO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct(61501,{type:n})}}class QO extends qO{constructor(t){super(),this.firestore=t}convertBytes(t){return new js(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,e)}}function XO(n){n=Za(n,xl);const t=Za(n.firestore,Uh),e=Mv(t),r=new QO(t);return WO(n._query),PO(e,n._query).then(s=>new GO(t,r,n,s))}function JO(n,t){const e=Za(n.firestore,Uh),r=DO(n),s=KO(n.converter,t);return ZO(e,[$O(FO(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function ZO(n,t){return function(r,s){const i=new ur;return r.asyncQueue.enqueueAndForget(async()=>mO(await CO(r),s,i)),i.promise}(Mv(n),t)}(function(t,e=!0){(function(s){Zs=s})(Xs),Vs(new jr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Uh(new xC(r.getProvider("auth-internal")),new FC(o,r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new it(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(h.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),lr(Ap,Ip,t),lr(Ap,Ip,"esm2017")})();const tN={apiKey:"AIzaSyAG52iRZ0wW2S6H8W-DujLriWVcmii9pvA",authDomain:"restaurauto-99ed2.firebaseapp.com",projectId:"restaurauto-99ed2",storageBucket:"restaurauto-99ed2.firebasestorage.app",messagingSenderId:"185338060188",appId:"1:185338060188:web:74299f8413b8d58f03fc59",measurementId:"G-DVX11GVVL8"},zv=L_(tN),Gv=kO(zv),Yv=PC(zv),eN=new Rn,nN={class:"container d-flex justify-content-center align-items-center min-vh-100 bg-gradient",style:{background:"linear-gradient(to right, #6a11cb, #2575fc)"}},rN={__name:"LoginView",setup(n){const t=b_(),e=async()=>{try{await F0(Yv,eN),t.push("/dashboard")}catch(r){console.error(r),alert("Erro ao fazer login com o Google.")}};return(r,s)=>(ir(),bs("div",nN,[gt("div",{class:"card p-4 shadow-lg w-100 text-center",style:{"max-width":"400px"}},[s[1]||(s[1]=gt("div",{class:"mb-4"},[gt("h2",{class:"h4"},"Bem-vindo ao Sistema"),gt("p",{class:"text-muted small"},"Gerencie suas tintas automotivas facilmente")],-1)),gt("button",{onClick:e,class:"btn btn-outline-primary d-flex align-items-center justify-content-center gap-2"},s[0]||(s[0]=[gt("img",{src:"https://img.icons8.com/color/16/000000/google-logo.png"},null,-1),Zu(" Entrar com Google ")]))])]))}},sN={class:"card shadow-sm"},iN={class:"card-body"},oN={class:"list-group"},aN={class:"text-muted"},lN={__name:"PaintList",setup(n){const t=Sa([]),e=Sa(""),r=Fe(()=>{const s=e.value.toLowerCase();return t.value.filter(i=>i.codigo.toLowerCase().includes(s)||i.nome.toLowerCase().includes(s)||i.marca.toLowerCase().includes(s))});return Mg(async()=>{const s=await XO(Lv(Gv,"tintas"));t.value=s.docs.map(i=>({id:i.id,...i.data()}))}),(s,i)=>(ir(),bs("div",sN,[i[2]||(i[2]=gt("div",{class:"card-header bg-white border-bottom"},[gt("h5",{class:"mb-0"},"Lista de Tintas")],-1)),gt("div",iN,[Si(gt("input",{"onUpdate:modelValue":i[0]||(i[0]=o=>e.value=o),placeholder:"Buscar por código, nome ou marca",class:"form-control mb-4"},null,512),[[Ri,e.value]]),gt("ul",oN,[(ir(!0),bs(an,null,Iw(r.value,o=>(ir(),bs("li",{key:o.id,class:"list-group-item d-flex justify-content-between align-items-center"},[gt("div",null,[gt("strong",null,bi(o.codigo),1),Zu(" - "+bi(o.nome),1),i[1]||(i[1]=gt("br",null,null,-1)),gt("small",aN,bi(o.marca)+" • "+bi(o.ano),1)])]))),128))])])]))}},cN={class:"card shadow-sm"},uN={class:"mb-3"},hN={class:"mb-3"},fN={class:"mb-3"},dN={class:"mb-4"},pN={__name:"PaintForm",setup(n){const t=uo({codigo:"",nome:"",marca:"",ano:""}),e=async()=>{await JO(Lv(Gv,"tintas"),t),t.codigo=t.nome=t.marca="",t.ano="",alert("Tinta salva com sucesso!")};return(r,s)=>(ir(),bs("div",cN,[s[9]||(s[9]=gt("div",{class:"card-header bg-white border-bottom"},[gt("h5",{class:"mb-0"},"Adicionar nova tinta")],-1)),gt("form",{onSubmit:xA(e,["prevent"]),class:"card-body"},[gt("div",uN,[s[4]||(s[4]=gt("label",{class:"form-label"},"Código",-1)),Si(gt("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.codigo=i),class:"form-control"},null,512),[[Ri,t.codigo]])]),gt("div",hN,[s[5]||(s[5]=gt("label",{class:"form-label"},"Nome da Cor",-1)),Si(gt("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>t.nome=i),class:"form-control"},null,512),[[Ri,t.nome]])]),gt("div",fN,[s[6]||(s[6]=gt("label",{class:"form-label"},"Marca",-1)),Si(gt("input",{"onUpdate:modelValue":s[2]||(s[2]=i=>t.marca=i),class:"form-control"},null,512),[[Ri,t.marca]])]),gt("div",dN,[s[7]||(s[7]=gt("label",{class:"form-label"},"Ano",-1)),Si(gt("input",{"onUpdate:modelValue":s[3]||(s[3]=i=>t.ano=i),type:"number",class:"form-control"},null,512),[[Ri,t.ano]])]),s[8]||(s[8]=gt("button",{type:"submit",class:"btn btn-success w-100"},"Salvar",-1))],32)]))}},mN={class:"d-flex flex-column flex-lg-row min-vh-100"},gN={class:"bg-primary text-white p-4 shadow-sm",style:{width:"100%","max-width":"260px"}},_N={class:"nav flex-column gap-2"},yN={class:"nav-item"},vN={class:"nav-item"},EN={class:"flex-grow-1 p-5 bg-light"},TN={__name:"Dashboard",setup(n){const t=Sa("list"),e=b_(),r=()=>{y0(Yv).then(()=>e.push("/login"))};return(s,i)=>(ir(),bs("div",mN,[gt("div",gN,[i[2]||(i[2]=gt("h4",{class:"mb-4 text-center"},"🎨 Tintas",-1)),gt("ul",_N,[gt("li",yN,[gt("button",{class:"btn btn-light w-100",onClick:i[0]||(i[0]=o=>t.value="list")},"📄 Lista")]),gt("li",vN,[gt("button",{class:"btn btn-light w-100",onClick:i[1]||(i[1]=o=>t.value="add")},"➕ Nova")]),gt("li",{class:"nav-item mt-4"},[gt("button",{class:"btn btn-outline-light w-100",onClick:r},"🚪 Sair")])])]),gt("div",EN,[(ir(),o_(Aw(t.value==="list"?lN:pN)))])]))}},wN=[{path:"/",redirect:"/dashboard"},{path:"/login",component:rN},{path:"/dashboard",component:TN}],AN=KI({history:TI(),routes:wN});var Ie="top",ke="bottom",Ve="right",be="left",Ll="auto",ri=[Ie,ke,Ve,be],Kr="start",Hs="end",Qv="clippingParents",qh="viewport",ms="popper",Xv="reference",Pu=ri.reduce(function(n,t){return n.concat([t+"-"+Kr,t+"-"+Hs])},[]),Kh=[].concat(ri,[Ll]).reduce(function(n,t){return n.concat([t,t+"-"+Kr,t+"-"+Hs])},[]),Jv="beforeRead",Zv="read",tE="afterRead",eE="beforeMain",nE="main",rE="afterMain",sE="beforeWrite",iE="write",oE="afterWrite",aE=[Jv,Zv,tE,eE,nE,rE,sE,iE,oE];function En(n){return n?(n.nodeName||"").toLowerCase():null}function xe(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function zr(n){var t=xe(n).Element;return n instanceof t||n instanceof Element}function je(n){var t=xe(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function zh(n){if(typeof ShadowRoot>"u")return!1;var t=xe(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function IN(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},s=t.attributes[e]||{},i=t.elements[e];!je(i)||!En(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var l=s[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function bN(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],i=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:e[r]),l=o.reduce(function(c,h){return c[h]="",c},{});!je(s)||!En(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}const Gh={name:"applyStyles",enabled:!0,phase:"write",fn:IN,effect:bN,requires:["computeStyles"]};function pn(n){return n.split("-")[0]}var Ur=Math.max,el=Math.min,Ws=Math.round;function Ou(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function lE(){return!/^((?!chrome|android).)*safari/i.test(Ou())}function qs(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var r=n.getBoundingClientRect(),s=1,i=1;t&&je(n)&&(s=n.offsetWidth>0&&Ws(r.width)/n.offsetWidth||1,i=n.offsetHeight>0&&Ws(r.height)/n.offsetHeight||1);var o=zr(n)?xe(n):window,l=o.visualViewport,c=!lE()&&e,h=(r.left+(c&&l?l.offsetLeft:0))/s,f=(r.top+(c&&l?l.offsetTop:0))/i,p=r.width/s,m=r.height/i;return{width:p,height:m,top:f,right:h+p,bottom:f+m,left:h,x:h,y:f}}function Yh(n){var t=qs(n),e=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:r}}function cE(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&zh(e)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Un(n){return xe(n).getComputedStyle(n)}function SN(n){return["table","td","th"].indexOf(En(n))>=0}function Ar(n){return((zr(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ml(n){return En(n)==="html"?n:n.assignedSlot||n.parentNode||(zh(n)?n.host:null)||Ar(n)}function vm(n){return!je(n)||Un(n).position==="fixed"?null:n.offsetParent}function CN(n){var t=/firefox/i.test(Ou()),e=/Trident/i.test(Ou());if(e&&je(n)){var r=Un(n);if(r.position==="fixed")return null}var s=Ml(n);for(zh(s)&&(s=s.host);je(s)&&["html","body"].indexOf(En(s))<0;){var i=Un(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Ao(n){for(var t=xe(n),e=vm(n);e&&SN(e)&&Un(e).position==="static";)e=vm(e);return e&&(En(e)==="html"||En(e)==="body"&&Un(e).position==="static")?t:e||CN(n)||t}function Qh(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ki(n,t,e){return Ur(n,el(t,e))}function RN(n,t,e){var r=Ki(n,t,e);return r>e?e:r}function uE(){return{top:0,right:0,bottom:0,left:0}}function hE(n){return Object.assign({},uE(),n)}function fE(n,t){return t.reduce(function(e,r){return e[r]=n,e},{})}var PN=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,hE(typeof t!="number"?t:fE(t,ri))};function ON(n){var t,e=n.state,r=n.name,s=n.options,i=e.elements.arrow,o=e.modifiersData.popperOffsets,l=pn(e.placement),c=Qh(l),h=[be,Ve].indexOf(l)>=0,f=h?"height":"width";if(!(!i||!o)){var p=PN(s.padding,e),m=Yh(i),_=c==="y"?Ie:be,R=c==="y"?ke:Ve,O=e.rects.reference[f]+e.rects.reference[c]-o[c]-e.rects.popper[f],N=o[c]-e.rects.reference[c],U=Ao(i),V=U?c==="y"?U.clientHeight||0:U.clientWidth||0:0,B=O/2-N/2,x=p[_],J=V-m[f]-p[R],Z=V/2-m[f]/2+B,A=Ki(x,Z,J),y=c;e.modifiersData[r]=(t={},t[y]=A,t.centerOffset=A-Z,t)}}function NN(n){var t=n.state,e=n.options,r=e.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||cE(t.elements.popper,s)&&(t.elements.arrow=s))}const dE={name:"arrow",enabled:!0,phase:"main",fn:ON,effect:NN,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ks(n){return n.split("-")[1]}var DN={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kN(n,t){var e=n.x,r=n.y,s=t.devicePixelRatio||1;return{x:Ws(e*s)/s||0,y:Ws(r*s)/s||0}}function Em(n){var t,e=n.popper,r=n.popperRect,s=n.placement,i=n.variation,o=n.offsets,l=n.position,c=n.gpuAcceleration,h=n.adaptive,f=n.roundOffsets,p=n.isFixed,m=o.x,_=m===void 0?0:m,R=o.y,O=R===void 0?0:R,N=typeof f=="function"?f({x:_,y:O}):{x:_,y:O};_=N.x,O=N.y;var U=o.hasOwnProperty("x"),V=o.hasOwnProperty("y"),B=be,x=Ie,J=window;if(h){var Z=Ao(e),A="clientHeight",y="clientWidth";if(Z===xe(e)&&(Z=Ar(e),Un(Z).position!=="static"&&l==="absolute"&&(A="scrollHeight",y="scrollWidth")),Z=Z,s===Ie||(s===be||s===Ve)&&i===Hs){x=ke;var E=p&&Z===J&&J.visualViewport?J.visualViewport.height:Z[A];O-=E-r.height,O*=c?1:-1}if(s===be||(s===Ie||s===ke)&&i===Hs){B=Ve;var I=p&&Z===J&&J.visualViewport?J.visualViewport.width:Z[y];_-=I-r.width,_*=c?1:-1}}var b=Object.assign({position:l},h&&DN),S=f===!0?kN({x:_,y:O},xe(e)):{x:_,y:O};if(_=S.x,O=S.y,c){var T;return Object.assign({},b,(T={},T[x]=V?"0":"",T[B]=U?"0":"",T.transform=(J.devicePixelRatio||1)<=1?"translate("+_+"px, "+O+"px)":"translate3d("+_+"px, "+O+"px, 0)",T))}return Object.assign({},b,(t={},t[x]=V?O+"px":"",t[B]=U?_+"px":"",t.transform="",t))}function VN(n){var t=n.state,e=n.options,r=e.gpuAcceleration,s=r===void 0?!0:r,i=e.adaptive,o=i===void 0?!0:i,l=e.roundOffsets,c=l===void 0?!0:l,h={placement:pn(t.placement),variation:Ks(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Em(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Em(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Xh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:VN,data:{}};var ta={passive:!0};function xN(n){var t=n.state,e=n.instance,r=n.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,l=o===void 0?!0:o,c=xe(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&h.forEach(function(f){f.addEventListener("scroll",e.update,ta)}),l&&c.addEventListener("resize",e.update,ta),function(){i&&h.forEach(function(f){f.removeEventListener("scroll",e.update,ta)}),l&&c.removeEventListener("resize",e.update,ta)}}const Jh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xN,data:{}};var LN={left:"right",right:"left",bottom:"top",top:"bottom"};function wa(n){return n.replace(/left|right|bottom|top/g,function(t){return LN[t]})}var MN={start:"end",end:"start"};function Tm(n){return n.replace(/start|end/g,function(t){return MN[t]})}function Zh(n){var t=xe(n),e=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:e,scrollTop:r}}function tf(n){return qs(Ar(n)).left+Zh(n).scrollLeft}function FN(n,t){var e=xe(n),r=Ar(n),s=e.visualViewport,i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;var h=lE();(h||!h&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l+tf(n),y:c}}function $N(n){var t,e=Ar(n),r=Zh(n),s=(t=n.ownerDocument)==null?void 0:t.body,i=Ur(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Ur(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+tf(n),c=-r.scrollTop;return Un(s||e).direction==="rtl"&&(l+=Ur(e.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function ef(n){var t=Un(n),e=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+s+r)}function pE(n){return["html","body","#document"].indexOf(En(n))>=0?n.ownerDocument.body:je(n)&&ef(n)?n:pE(Ml(n))}function zi(n,t){var e;t===void 0&&(t=[]);var r=pE(n),s=r===((e=n.ownerDocument)==null?void 0:e.body),i=xe(r),o=s?[i].concat(i.visualViewport||[],ef(r)?r:[]):r,l=t.concat(o);return s?l:l.concat(zi(Ml(o)))}function Nu(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function UN(n,t){var e=qs(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function wm(n,t,e){return t===qh?Nu(FN(n,e)):zr(t)?UN(t,e):Nu($N(Ar(n)))}function BN(n){var t=zi(Ml(n)),e=["absolute","fixed"].indexOf(Un(n).position)>=0,r=e&&je(n)?Ao(n):n;return zr(r)?t.filter(function(s){return zr(s)&&cE(s,r)&&En(s)!=="body"}):[]}function jN(n,t,e,r){var s=t==="clippingParents"?BN(n):[].concat(t),i=[].concat(s,[e]),o=i[0],l=i.reduce(function(c,h){var f=wm(n,h,r);return c.top=Ur(f.top,c.top),c.right=el(f.right,c.right),c.bottom=el(f.bottom,c.bottom),c.left=Ur(f.left,c.left),c},wm(n,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function mE(n){var t=n.reference,e=n.element,r=n.placement,s=r?pn(r):null,i=r?Ks(r):null,o=t.x+t.width/2-e.width/2,l=t.y+t.height/2-e.height/2,c;switch(s){case Ie:c={x:o,y:t.y-e.height};break;case ke:c={x:o,y:t.y+t.height};break;case Ve:c={x:t.x+t.width,y:l};break;case be:c={x:t.x-e.width,y:l};break;default:c={x:t.x,y:t.y}}var h=s?Qh(s):null;if(h!=null){var f=h==="y"?"height":"width";switch(i){case Kr:c[h]=c[h]-(t[f]/2-e[f]/2);break;case Hs:c[h]=c[h]+(t[f]/2-e[f]/2);break}}return c}function zs(n,t){t===void 0&&(t={});var e=t,r=e.placement,s=r===void 0?n.placement:r,i=e.strategy,o=i===void 0?n.strategy:i,l=e.boundary,c=l===void 0?Qv:l,h=e.rootBoundary,f=h===void 0?qh:h,p=e.elementContext,m=p===void 0?ms:p,_=e.altBoundary,R=_===void 0?!1:_,O=e.padding,N=O===void 0?0:O,U=hE(typeof N!="number"?N:fE(N,ri)),V=m===ms?Xv:ms,B=n.rects.popper,x=n.elements[R?V:m],J=jN(zr(x)?x:x.contextElement||Ar(n.elements.popper),c,f,o),Z=qs(n.elements.reference),A=mE({reference:Z,element:B,placement:s}),y=Nu(Object.assign({},B,A)),E=m===ms?y:Z,I={top:J.top-E.top+U.top,bottom:E.bottom-J.bottom+U.bottom,left:J.left-E.left+U.left,right:E.right-J.right+U.right},b=n.modifiersData.offset;if(m===ms&&b){var S=b[s];Object.keys(I).forEach(function(T){var $t=[Ve,ke].indexOf(T)>=0?1:-1,qt=[Ie,ke].indexOf(T)>=0?"y":"x";I[T]+=S[qt]*$t})}return I}function HN(n,t){t===void 0&&(t={});var e=t,r=e.placement,s=e.boundary,i=e.rootBoundary,o=e.padding,l=e.flipVariations,c=e.allowedAutoPlacements,h=c===void 0?Kh:c,f=Ks(r),p=f?l?Pu:Pu.filter(function(R){return Ks(R)===f}):ri,m=p.filter(function(R){return h.indexOf(R)>=0});m.length===0&&(m=p);var _=m.reduce(function(R,O){return R[O]=zs(n,{placement:O,boundary:s,rootBoundary:i,padding:o})[pn(O)],R},{});return Object.keys(_).sort(function(R,O){return _[R]-_[O]})}function WN(n){if(pn(n)===Ll)return[];var t=wa(n);return[Tm(n),t,Tm(t)]}function qN(n){var t=n.state,e=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var s=e.mainAxis,i=s===void 0?!0:s,o=e.altAxis,l=o===void 0?!0:o,c=e.fallbackPlacements,h=e.padding,f=e.boundary,p=e.rootBoundary,m=e.altBoundary,_=e.flipVariations,R=_===void 0?!0:_,O=e.allowedAutoPlacements,N=t.options.placement,U=pn(N),V=U===N,B=c||(V||!R?[wa(N)]:WN(N)),x=[N].concat(B).reduce(function(Ee,Gt){return Ee.concat(pn(Gt)===Ll?HN(t,{placement:Gt,boundary:f,rootBoundary:p,padding:h,flipVariations:R,allowedAutoPlacements:O}):Gt)},[]),J=t.rects.reference,Z=t.rects.popper,A=new Map,y=!0,E=x[0],I=0;I<x.length;I++){var b=x[I],S=pn(b),T=Ks(b)===Kr,$t=[Ie,ke].indexOf(S)>=0,qt=$t?"width":"height",It=zs(t,{placement:b,boundary:f,rootBoundary:p,altBoundary:m,padding:h}),ht=$t?T?Ve:be:T?ke:Ie;J[qt]>Z[qt]&&(ht=wa(ht));var yt=wa(ht),jt=[];if(i&&jt.push(It[S]<=0),l&&jt.push(It[ht]<=0,It[yt]<=0),jt.every(function(Ee){return Ee})){E=b,y=!1;break}A.set(b,jt)}if(y)for(var oe=R?3:1,ae=function(Gt){var Kt=x.find(function(k){var X=A.get(k);if(X)return X.slice(0,Gt).every(function(Y){return Y})});if(Kt)return E=Kt,"break"},Nt=oe;Nt>0;Nt--){var Dt=ae(Nt);if(Dt==="break")break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}}const gE={name:"flip",enabled:!0,phase:"main",fn:qN,requiresIfExists:["offset"],data:{_skip:!1}};function Am(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function Im(n){return[Ie,Ve,ke,be].some(function(t){return n[t]>=0})}function KN(n){var t=n.state,e=n.name,r=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,o=zs(t,{elementContext:"reference"}),l=zs(t,{altBoundary:!0}),c=Am(o,r),h=Am(l,s,i),f=Im(c),p=Im(h);t.modifiersData[e]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const _E={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:KN};function zN(n,t,e){var r=pn(n),s=[be,Ie].indexOf(r)>=0?-1:1,i=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,o=i[0],l=i[1];return o=o||0,l=(l||0)*s,[be,Ve].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function GN(n){var t=n.state,e=n.options,r=n.name,s=e.offset,i=s===void 0?[0,0]:s,o=Kh.reduce(function(f,p){return f[p]=zN(p,t.rects,i),f},{}),l=o[t.placement],c=l.x,h=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=o}const yE={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:GN};function YN(n){var t=n.state,e=n.name;t.modifiersData[e]=mE({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const nf={name:"popperOffsets",enabled:!0,phase:"read",fn:YN,data:{}};function QN(n){return n==="x"?"y":"x"}function XN(n){var t=n.state,e=n.options,r=n.name,s=e.mainAxis,i=s===void 0?!0:s,o=e.altAxis,l=o===void 0?!1:o,c=e.boundary,h=e.rootBoundary,f=e.altBoundary,p=e.padding,m=e.tether,_=m===void 0?!0:m,R=e.tetherOffset,O=R===void 0?0:R,N=zs(t,{boundary:c,rootBoundary:h,padding:p,altBoundary:f}),U=pn(t.placement),V=Ks(t.placement),B=!V,x=Qh(U),J=QN(x),Z=t.modifiersData.popperOffsets,A=t.rects.reference,y=t.rects.popper,E=typeof O=="function"?O(Object.assign({},t.rects,{placement:t.placement})):O,I=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),b=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,S={x:0,y:0};if(Z){if(i){var T,$t=x==="y"?Ie:be,qt=x==="y"?ke:Ve,It=x==="y"?"height":"width",ht=Z[x],yt=ht+N[$t],jt=ht-N[qt],oe=_?-y[It]/2:0,ae=V===Kr?A[It]:y[It],Nt=V===Kr?-y[It]:-A[It],Dt=t.elements.arrow,Ee=_&&Dt?Yh(Dt):{width:0,height:0},Gt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:uE(),Kt=Gt[$t],k=Gt[qt],X=Ki(0,A[It],Ee[It]),Y=B?A[It]/2-oe-X-Kt-I.mainAxis:ae-X-Kt-I.mainAxis,et=B?-A[It]/2+oe+X+k+I.mainAxis:Nt+X+k+I.mainAxis,Tt=t.elements.arrow&&Ao(t.elements.arrow),v=Tt?x==="y"?Tt.clientTop||0:Tt.clientLeft||0:0,w=(T=b==null?void 0:b[x])!=null?T:0,C=ht+Y-w-v,L=ht+et-w,F=Ki(_?el(yt,C):yt,ht,_?Ur(jt,L):jt);Z[x]=F,S[x]=F-ht}if(l){var M,Q=x==="x"?Ie:be,K=x==="x"?ke:Ve,q=Z[J],j=J==="y"?"height":"width",rt=q+N[Q],G=q-N[K],nt=[Ie,be].indexOf(U)!==-1,lt=(M=b==null?void 0:b[J])!=null?M:0,st=nt?rt:q-A[j]-y[j]-lt+I.altAxis,dt=nt?q+A[j]+y[j]-lt-I.altAxis:G,Et=_&&nt?RN(st,q,dt):Ki(_?st:rt,q,_?dt:G);Z[J]=Et,S[J]=Et-q}t.modifiersData[r]=S}}const vE={name:"preventOverflow",enabled:!0,phase:"main",fn:XN,requiresIfExists:["offset"]};function JN(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function ZN(n){return n===xe(n)||!je(n)?Zh(n):JN(n)}function t1(n){var t=n.getBoundingClientRect(),e=Ws(t.width)/n.offsetWidth||1,r=Ws(t.height)/n.offsetHeight||1;return e!==1||r!==1}function e1(n,t,e){e===void 0&&(e=!1);var r=je(t),s=je(t)&&t1(t),i=Ar(t),o=qs(n,s,e),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!e)&&((En(t)!=="body"||ef(i))&&(l=ZN(t)),je(t)?(c=qs(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=tf(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function n1(n){var t=new Map,e=new Set,r=[];n.forEach(function(i){t.set(i.name,i)});function s(i){e.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!e.has(l)){var c=t.get(l);c&&s(c)}}),r.push(i)}return n.forEach(function(i){e.has(i.name)||s(i)}),r}function r1(n){var t=n1(n);return aE.reduce(function(e,r){return e.concat(t.filter(function(s){return s.phase===r}))},[])}function s1(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function i1(n){var t=n.reduce(function(e,r){var s=e[r.name];return e[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}var bm={placement:"bottom",modifiers:[],strategy:"absolute"};function Sm(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Fl(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,r=e===void 0?[]:e,s=t.defaultOptions,i=s===void 0?bm:s;return function(l,c,h){h===void 0&&(h=i);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},bm,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],m=!1,_={state:f,setOptions:function(U){var V=typeof U=="function"?U(f.options):U;O(),f.options=Object.assign({},i,f.options,V),f.scrollParents={reference:zr(l)?zi(l):l.contextElement?zi(l.contextElement):[],popper:zi(c)};var B=r1(i1([].concat(r,f.options.modifiers)));return f.orderedModifiers=B.filter(function(x){return x.enabled}),R(),_.update()},forceUpdate:function(){if(!m){var U=f.elements,V=U.reference,B=U.popper;if(Sm(V,B)){f.rects={reference:e1(V,Ao(B),f.options.strategy==="fixed"),popper:Yh(B)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(I){return f.modifiersData[I.name]=Object.assign({},I.data)});for(var x=0;x<f.orderedModifiers.length;x++){if(f.reset===!0){f.reset=!1,x=-1;continue}var J=f.orderedModifiers[x],Z=J.fn,A=J.options,y=A===void 0?{}:A,E=J.name;typeof Z=="function"&&(f=Z({state:f,options:y,name:E,instance:_})||f)}}}},update:s1(function(){return new Promise(function(N){_.forceUpdate(),N(f)})}),destroy:function(){O(),m=!0}};if(!Sm(l,c))return _;_.setOptions(h).then(function(N){!m&&h.onFirstUpdate&&h.onFirstUpdate(N)});function R(){f.orderedModifiers.forEach(function(N){var U=N.name,V=N.options,B=V===void 0?{}:V,x=N.effect;if(typeof x=="function"){var J=x({state:f,name:U,instance:_,options:B}),Z=function(){};p.push(J||Z)}})}function O(){p.forEach(function(N){return N()}),p=[]}return _}}var o1=Fl(),a1=[Jh,nf,Xh,Gh],l1=Fl({defaultModifiers:a1}),c1=[Jh,nf,Xh,Gh,yE,gE,vE,dE,_E],rf=Fl({defaultModifiers:c1});const EE=Object.freeze(Object.defineProperty({__proto__:null,afterMain:rE,afterRead:tE,afterWrite:oE,applyStyles:Gh,arrow:dE,auto:Ll,basePlacements:ri,beforeMain:eE,beforeRead:Jv,beforeWrite:sE,bottom:ke,clippingParents:Qv,computeStyles:Xh,createPopper:rf,createPopperBase:o1,createPopperLite:l1,detectOverflow:zs,end:Hs,eventListeners:Jh,flip:gE,hide:_E,left:be,main:nE,modifierPhases:aE,offset:yE,placements:Kh,popper:ms,popperGenerator:Fl,popperOffsets:nf,preventOverflow:vE,read:Zv,reference:Xv,right:Ve,start:Kr,top:Ie,variationPlacements:Pu,viewport:qh,write:iE},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Qn=new Map,Oc={set(n,t,e){Qn.has(n)||Qn.set(n,new Map);const r=Qn.get(n);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,e)},get(n,t){return Qn.has(n)&&Qn.get(n).get(t)||null},remove(n,t){if(!Qn.has(n))return;const e=Qn.get(n);e.delete(t),e.size===0&&Qn.delete(n)}},u1=1e6,h1=1e3,Du="transitionend",TE=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),f1=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),d1=n=>{do n+=Math.floor(Math.random()*u1);while(document.getElementById(n));return n},p1=n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const r=Number.parseFloat(t),s=Number.parseFloat(e);return!r&&!s?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*h1)},wE=n=>{n.dispatchEvent(new Event(Du))},Dn=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),vr=n=>Dn(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(TE(n)):null,si=n=>{if(!Dn(n)||n.getClientRects().length===0)return!1;const t=getComputedStyle(n).getPropertyValue("visibility")==="visible",e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const r=n.closest("summary");if(r&&r.parentNode!==e||r===null)return!1}return t},Er=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",AE=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?AE(n.parentNode):null},nl=()=>{},Io=n=>{n.offsetHeight},IE=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Nc=[],m1=n=>{document.readyState==="loading"?(Nc.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Nc)t()}),Nc.push(n)):n()},qe=()=>document.documentElement.dir==="rtl",ze=n=>{m1(()=>{const t=IE();if(t){const e=n.NAME,r=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=r,n.jQueryInterface)}})},Re=(n,t=[],e=n)=>typeof n=="function"?n.call(...t):e,bE=(n,t,e=!0)=>{if(!e){Re(n);return}const s=p1(t)+5;let i=!1;const o=({target:l})=>{l===t&&(i=!0,t.removeEventListener(Du,o),Re(n))};t.addEventListener(Du,o),setTimeout(()=>{i||wE(t)},s)},sf=(n,t,e,r)=>{const s=n.length;let i=n.indexOf(t);return i===-1?!e&&r?n[s-1]:n[0]:(i+=e?1:-1,r&&(i=(i+s)%s),n[Math.max(0,Math.min(i,s-1))])},g1=/[^.]*(?=\..*)\.|.*/,_1=/\..*/,y1=/::\d+$/,Dc={};let Cm=1;const SE={mouseenter:"mouseover",mouseleave:"mouseout"},v1=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function CE(n,t){return t&&`${t}::${Cm++}`||n.uidEvent||Cm++}function RE(n){const t=CE(n);return n.uidEvent=t,Dc[t]=Dc[t]||{},Dc[t]}function E1(n,t){return function e(r){return of(r,{delegateTarget:n}),e.oneOff&&H.off(n,r.type,t),t.apply(n,[r])}}function T1(n,t,e){return function r(s){const i=n.querySelectorAll(t);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const l of i)if(l===o)return of(s,{delegateTarget:o}),r.oneOff&&H.off(n,s.type,t,e),e.apply(o,[s])}}function PE(n,t,e=null){return Object.values(n).find(r=>r.callable===t&&r.delegationSelector===e)}function OE(n,t,e){const r=typeof t=="string",s=r?e:t||e;let i=NE(n);return v1.has(i)||(i=n),[r,s,i]}function Rm(n,t,e,r,s){if(typeof t!="string"||!n)return;let[i,o,l]=OE(t,e,r);t in SE&&(o=(R=>function(O){if(!O.relatedTarget||O.relatedTarget!==O.delegateTarget&&!O.delegateTarget.contains(O.relatedTarget))return R.call(this,O)})(o));const c=RE(n),h=c[l]||(c[l]={}),f=PE(h,o,i?e:null);if(f){f.oneOff=f.oneOff&&s;return}const p=CE(o,t.replace(g1,"")),m=i?T1(n,e,o):E1(n,o);m.delegationSelector=i?e:null,m.callable=o,m.oneOff=s,m.uidEvent=p,h[p]=m,n.addEventListener(l,m,i)}function ku(n,t,e,r,s){const i=PE(t[e],r,s);i&&(n.removeEventListener(e,i,!!s),delete t[e][i.uidEvent])}function w1(n,t,e,r){const s=t[e]||{};for(const[i,o]of Object.entries(s))i.includes(r)&&ku(n,t,e,o.callable,o.delegationSelector)}function NE(n){return n=n.replace(_1,""),SE[n]||n}const H={on(n,t,e,r){Rm(n,t,e,r,!1)},one(n,t,e,r){Rm(n,t,e,r,!0)},off(n,t,e,r){if(typeof t!="string"||!n)return;const[s,i,o]=OE(t,e,r),l=o!==t,c=RE(n),h=c[o]||{},f=t.startsWith(".");if(typeof i<"u"){if(!Object.keys(h).length)return;ku(n,c,o,i,s?e:null);return}if(f)for(const p of Object.keys(c))w1(n,c,p,t.slice(1));for(const[p,m]of Object.entries(h)){const _=p.replace(y1,"");(!l||t.includes(_))&&ku(n,c,o,m.callable,m.delegationSelector)}},trigger(n,t,e){if(typeof t!="string"||!n)return null;const r=IE(),s=NE(t),i=t!==s;let o=null,l=!0,c=!0,h=!1;i&&r&&(o=r.Event(t,e),r(n).trigger(o),l=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),h=o.isDefaultPrevented());const f=of(new Event(t,{bubbles:l,cancelable:!0}),e);return h&&f.preventDefault(),c&&n.dispatchEvent(f),f.defaultPrevented&&o&&o.preventDefault(),f}};function of(n,t={}){for(const[e,r]of Object.entries(t))try{n[e]=r}catch{Object.defineProperty(n,e,{configurable:!0,get(){return r}})}return n}function Pm(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function kc(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const kn={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${kc(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${kc(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of e){let s=r.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1),t[s]=Pm(n.dataset[r])}return t},getDataAttribute(n,t){return Pm(n.getAttribute(`data-bs-${kc(t)}`))}};class bo{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const r=Dn(e)?kn.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Dn(e)?kn.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[r,s]of Object.entries(e)){const i=t[r],o=Dn(i)?"element":f1(i);if(!new RegExp(s).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${s}".`)}}}const A1="5.3.6";class nn extends bo{constructor(t,e){super(),t=vr(t),t&&(this._element=t,this._config=this._getConfig(e),Oc.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Oc.remove(this._element,this.constructor.DATA_KEY),H.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,r=!0){bE(t,e,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Oc.get(vr(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return A1}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Vc=n=>{let t=n.getAttribute("data-bs-target");if(!t||t==="#"){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t?t.split(",").map(e=>TE(e)).join(","):null},ot={find(n,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,n))},findOne(n,t=document.documentElement){return Element.prototype.querySelector.call(t,n)},children(n,t){return[].concat(...n.children).filter(e=>e.matches(t))},parents(n,t){const e=[];let r=n.parentNode.closest(t);for(;r;)e.push(r),r=r.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!Er(e)&&si(e))},getSelectorFromElement(n){const t=Vc(n);return t&&ot.findOne(t)?t:null},getElementFromSelector(n){const t=Vc(n);return t?ot.findOne(t):null},getMultipleElementsFromSelector(n){const t=Vc(n);return t?ot.find(t):[]}},$l=(n,t="hide")=>{const e=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;H.on(document,e,`[data-bs-dismiss="${r}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Er(this))return;const i=ot.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(i)[t]()})},I1="alert",b1="bs.alert",DE=`.${b1}`,S1=`close${DE}`,C1=`closed${DE}`,R1="fade",P1="show";class Ul extends nn{static get NAME(){return I1}close(){if(H.trigger(this._element,S1).defaultPrevented)return;this._element.classList.remove(P1);const e=this._element.classList.contains(R1);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),H.trigger(this._element,C1),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Ul.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}$l(Ul,"close");ze(Ul);const O1="button",N1="bs.button",D1=`.${N1}`,k1=".data-api",V1="active",Om='[data-bs-toggle="button"]',x1=`click${D1}${k1}`;class Bl extends nn{static get NAME(){return O1}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(V1))}static jQueryInterface(t){return this.each(function(){const e=Bl.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}H.on(document,x1,Om,n=>{n.preventDefault();const t=n.target.closest(Om);Bl.getOrCreateInstance(t).toggle()});ze(Bl);const L1="swipe",ii=".bs.swipe",M1=`touchstart${ii}`,F1=`touchmove${ii}`,$1=`touchend${ii}`,U1=`pointerdown${ii}`,B1=`pointerup${ii}`,j1="touch",H1="pen",W1="pointer-event",q1=40,K1={endCallback:null,leftCallback:null,rightCallback:null},z1={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class rl extends bo{constructor(t,e){super(),this._element=t,!(!t||!rl.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return K1}static get DefaultType(){return z1}static get NAME(){return L1}dispose(){H.off(this._element,ii)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Re(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=q1)return;const e=t/this._deltaX;this._deltaX=0,e&&Re(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(H.on(this._element,U1,t=>this._start(t)),H.on(this._element,B1,t=>this._end(t)),this._element.classList.add(W1)):(H.on(this._element,M1,t=>this._start(t)),H.on(this._element,F1,t=>this._move(t)),H.on(this._element,$1,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===H1||t.pointerType===j1)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const G1="carousel",Y1="bs.carousel",Ir=`.${Y1}`,kE=".data-api",Q1="ArrowLeft",X1="ArrowRight",J1=500,Ai="next",os="prev",gs="left",Aa="right",Z1=`slide${Ir}`,xc=`slid${Ir}`,tD=`keydown${Ir}`,eD=`mouseenter${Ir}`,nD=`mouseleave${Ir}`,rD=`dragstart${Ir}`,sD=`load${Ir}${kE}`,iD=`click${Ir}${kE}`,VE="carousel",ea="active",oD="slide",aD="carousel-item-end",lD="carousel-item-start",cD="carousel-item-next",uD="carousel-item-prev",xE=".active",LE=".carousel-item",hD=xE+LE,fD=".carousel-item img",dD=".carousel-indicators",pD="[data-bs-slide], [data-bs-slide-to]",mD='[data-bs-ride="carousel"]',gD={[Q1]:Aa,[X1]:gs},_D={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},yD={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class So extends nn{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ot.findOne(dD,this._element),this._addEventListeners(),this._config.ride===VE&&this.cycle()}static get Default(){return _D}static get DefaultType(){return yD}static get NAME(){return G1}next(){this._slide(Ai)}nextWhenVisible(){!document.hidden&&si(this._element)&&this.next()}prev(){this._slide(os)}pause(){this._isSliding&&wE(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){H.one(this._element,xc,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){H.one(this._element,xc,()=>this.to(t));return}const r=this._getItemIndex(this._getActive());if(r===t)return;const s=t>r?Ai:os;this._slide(s,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&H.on(this._element,tD,t=>this._keydown(t)),this._config.pause==="hover"&&(H.on(this._element,eD,()=>this.pause()),H.on(this._element,nD,()=>this._maybeEnableCycle())),this._config.touch&&rl.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of ot.find(fD,this._element))H.on(r,rD,s=>s.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(gs)),rightCallback:()=>this._slide(this._directionToOrder(Aa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),J1+this._config.interval))}};this._swipeHelper=new rl(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=gD[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=ot.findOne(xE,this._indicatorsElement);e.classList.remove(ea),e.removeAttribute("aria-current");const r=ot.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);r&&(r.classList.add(ea),r.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const r=this._getActive(),s=t===Ai,i=e||sf(this._getItems(),r,s,this._config.wrap);if(i===r)return;const o=this._getItemIndex(i),l=_=>H.trigger(this._element,_,{relatedTarget:i,direction:this._orderToDirection(t),from:this._getItemIndex(r),to:o});if(l(Z1).defaultPrevented||!r||!i)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;const f=s?lD:aD,p=s?cD:uD;i.classList.add(p),Io(i),r.classList.add(f),i.classList.add(f);const m=()=>{i.classList.remove(f,p),i.classList.add(ea),r.classList.remove(ea,p,f),this._isSliding=!1,l(xc)};this._queueCallback(m,r,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(oD)}_getActive(){return ot.findOne(hD,this._element)}_getItems(){return ot.find(LE,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return qe()?t===gs?os:Ai:t===gs?Ai:os}_orderToDirection(t){return qe()?t===os?gs:Aa:t===os?Aa:gs}static jQueryInterface(t){return this.each(function(){const e=So.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}H.on(document,iD,pD,function(n){const t=ot.getElementFromSelector(this);if(!t||!t.classList.contains(VE))return;n.preventDefault();const e=So.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");if(r){e.to(r),e._maybeEnableCycle();return}if(kn.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});H.on(window,sD,()=>{const n=ot.find(mD);for(const t of n)So.getOrCreateInstance(t)});ze(So);const vD="collapse",ED="bs.collapse",Co=`.${ED}`,TD=".data-api",wD=`show${Co}`,AD=`shown${Co}`,ID=`hide${Co}`,bD=`hidden${Co}`,SD=`click${Co}${TD}`,Lc="show",ys="collapse",na="collapsing",CD="collapsed",RD=`:scope .${ys} .${ys}`,PD="collapse-horizontal",OD="width",ND="height",DD=".collapse.show, .collapse.collapsing",Vu='[data-bs-toggle="collapse"]',kD={parent:null,toggle:!0},VD={parent:"(null|element)",toggle:"boolean"};class co extends nn{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const r=ot.find(Vu);for(const s of r){const i=ot.getSelectorFromElement(s),o=ot.find(i).filter(l=>l===this._element);i!==null&&o.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return kD}static get DefaultType(){return VD}static get NAME(){return vD}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(DD).filter(l=>l!==this._element).map(l=>co.getOrCreateInstance(l,{toggle:!1}))),t.length&&t[0]._isTransitioning||H.trigger(this._element,wD).defaultPrevented)return;for(const l of t)l.hide();const r=this._getDimension();this._element.classList.remove(ys),this._element.classList.add(na),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(na),this._element.classList.add(ys,Lc),this._element.style[r]="",H.trigger(this._element,AD)},o=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(s,this._element,!0),this._element.style[r]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||H.trigger(this._element,ID).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Io(this._element),this._element.classList.add(na),this._element.classList.remove(ys,Lc);for(const s of this._triggerArray){const i=ot.getElementFromSelector(s);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(na),this._element.classList.add(ys),H.trigger(this._element,bD)};this._element.style[e]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Lc)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=vr(t.parent),t}_getDimension(){return this._element.classList.contains(PD)?OD:ND}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Vu);for(const e of t){const r=ot.getElementFromSelector(e);r&&this._addAriaAndCollapsedClass([e],this._isShown(r))}}_getFirstLevelChildren(t){const e=ot.find(RD,this._config.parent);return ot.find(t,this._config.parent).filter(r=>!e.includes(r))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const r of t)r.classList.toggle(CD,!e),r.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const r=co.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}H.on(document,SD,Vu,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const t of ot.getMultipleElementsFromSelector(this))co.getOrCreateInstance(t,{toggle:!1}).toggle()});ze(co);const Nm="dropdown",xD="bs.dropdown",Zr=`.${xD}`,af=".data-api",LD="Escape",Dm="Tab",MD="ArrowUp",km="ArrowDown",FD=2,$D=`hide${Zr}`,UD=`hidden${Zr}`,BD=`show${Zr}`,jD=`shown${Zr}`,ME=`click${Zr}${af}`,FE=`keydown${Zr}${af}`,HD=`keyup${Zr}${af}`,_s="show",WD="dropup",qD="dropend",KD="dropstart",zD="dropup-center",GD="dropdown-center",Lr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',YD=`${Lr}.${_s}`,Ia=".dropdown-menu",QD=".navbar",XD=".navbar-nav",JD=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",ZD=qe()?"top-end":"top-start",tk=qe()?"top-start":"top-end",ek=qe()?"bottom-end":"bottom-start",nk=qe()?"bottom-start":"bottom-end",rk=qe()?"left-start":"right-start",sk=qe()?"right-start":"left-start",ik="top",ok="bottom",ak={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},lk={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class mn extends nn{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=ot.next(this._element,Ia)[0]||ot.prev(this._element,Ia)[0]||ot.findOne(Ia,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ak}static get DefaultType(){return lk}static get NAME(){return Nm}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Er(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!H.trigger(this._element,BD,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(XD))for(const r of[].concat(...document.body.children))H.on(r,"mouseover",nl);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(_s),this._element.classList.add(_s),H.trigger(this._element,jD,t)}}hide(){if(Er(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!H.trigger(this._element,$D,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))H.off(r,"mouseover",nl);this._popper&&this._popper.destroy(),this._menu.classList.remove(_s),this._element.classList.remove(_s),this._element.setAttribute("aria-expanded","false"),kn.removeDataAttribute(this._menu,"popper"),H.trigger(this._element,UD,t),this._element.focus()}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Dn(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${Nm.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof EE>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;this._config.reference==="parent"?t=this._parent:Dn(this._config.reference)?t=vr(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=rf(t,this._menu,e)}_isShown(){return this._menu.classList.contains(_s)}_getPlacement(){const t=this._parent;if(t.classList.contains(qD))return rk;if(t.classList.contains(KD))return sk;if(t.classList.contains(zD))return ik;if(t.classList.contains(GD))return ok;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(WD)?e?tk:ZD:e?nk:ek}_detectNavbar(){return this._element.closest(QD)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(kn.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Re(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:e}){const r=ot.find(JD,this._menu).filter(s=>si(s));r.length&&sf(r,e,t===km,!r.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=mn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===FD||t.type==="keyup"&&t.key!==Dm)return;const e=ot.find(YD);for(const r of e){const s=mn.getInstance(r);if(!s||s._config.autoClose===!1)continue;const i=t.composedPath(),o=i.includes(s._menu);if(i.includes(s._element)||s._config.autoClose==="inside"&&!o||s._config.autoClose==="outside"&&o||s._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Dm||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const l={relatedTarget:s._element};t.type==="click"&&(l.clickEvent=t),s._completeHide(l)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),r=t.key===LD,s=[MD,km].includes(t.key);if(!s&&!r||e&&!r)return;t.preventDefault();const i=this.matches(Lr)?this:ot.prev(this,Lr)[0]||ot.next(this,Lr)[0]||ot.findOne(Lr,t.delegateTarget.parentNode),o=mn.getOrCreateInstance(i);if(s){t.stopPropagation(),o.show(),o._selectMenuItem(t);return}o._isShown()&&(t.stopPropagation(),o.hide(),i.focus())}}H.on(document,FE,Lr,mn.dataApiKeydownHandler);H.on(document,FE,Ia,mn.dataApiKeydownHandler);H.on(document,ME,mn.clearMenus);H.on(document,HD,mn.clearMenus);H.on(document,ME,Lr,function(n){n.preventDefault(),mn.getOrCreateInstance(this).toggle()});ze(mn);const $E="backdrop",ck="fade",Vm="show",xm=`mousedown.bs.${$E}`,uk={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},hk={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class UE extends bo{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return uk}static get DefaultType(){return hk}static get NAME(){return $E}show(t){if(!this._config.isVisible){Re(t);return}this._append();const e=this._getElement();this._config.isAnimated&&Io(e),e.classList.add(Vm),this._emulateAnimation(()=>{Re(t)})}hide(t){if(!this._config.isVisible){Re(t);return}this._getElement().classList.remove(Vm),this._emulateAnimation(()=>{this.dispose(),Re(t)})}dispose(){this._isAppended&&(H.off(this._element,xm),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(ck),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=vr(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),H.on(t,xm,()=>{Re(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){bE(t,this._getElement(),this._config.isAnimated)}}const fk="focustrap",dk="bs.focustrap",sl=`.${dk}`,pk=`focusin${sl}`,mk=`keydown.tab${sl}`,gk="Tab",_k="forward",Lm="backward",yk={autofocus:!0,trapElement:null},vk={autofocus:"boolean",trapElement:"element"};class BE extends bo{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return yk}static get DefaultType(){return vk}static get NAME(){return fk}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),H.off(document,sl),H.on(document,pk,t=>this._handleFocusin(t)),H.on(document,mk,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,H.off(document,sl))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const r=ot.focusableChildren(e);r.length===0?e.focus():this._lastTabNavDirection===Lm?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===gk&&(this._lastTabNavDirection=t.shiftKey?Lm:_k)}}const Mm=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Fm=".sticky-top",ra="padding-right",$m="margin-right";class xu{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ra,e=>e+t),this._setElementAttributes(Mm,ra,e=>e+t),this._setElementAttributes(Fm,$m,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ra),this._resetElementAttributes(Mm,ra),this._resetElementAttributes(Fm,$m)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,r){const s=this.getWidth(),i=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+s)return;this._saveInitialAttribute(o,e);const l=window.getComputedStyle(o).getPropertyValue(e);o.style.setProperty(e,`${r(Number.parseFloat(l))}px`)};this._applyManipulationCallback(t,i)}_saveInitialAttribute(t,e){const r=t.style.getPropertyValue(e);r&&kn.setDataAttribute(t,e,r)}_resetElementAttributes(t,e){const r=s=>{const i=kn.getDataAttribute(s,e);if(i===null){s.style.removeProperty(e);return}kn.removeDataAttribute(s,e),s.style.setProperty(e,i)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,e){if(Dn(t)){e(t);return}for(const r of ot.find(t,this._element))e(r)}}const Ek="modal",Tk="bs.modal",Ke=`.${Tk}`,wk=".data-api",Ak="Escape",Ik=`hide${Ke}`,bk=`hidePrevented${Ke}`,jE=`hidden${Ke}`,HE=`show${Ke}`,Sk=`shown${Ke}`,Ck=`resize${Ke}`,Rk=`click.dismiss${Ke}`,Pk=`mousedown.dismiss${Ke}`,Ok=`keydown.dismiss${Ke}`,Nk=`click${Ke}${wk}`,Um="modal-open",Dk="fade",Bm="show",Mc="modal-static",kk=".modal.show",Vk=".modal-dialog",xk=".modal-body",Lk='[data-bs-toggle="modal"]',Mk={backdrop:!0,focus:!0,keyboard:!0},Fk={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Gs extends nn{constructor(t,e){super(t,e),this._dialog=ot.findOne(Vk,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new xu,this._addEventListeners()}static get Default(){return Mk}static get DefaultType(){return Fk}static get NAME(){return Ek}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||H.trigger(this._element,HE,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Um),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||H.trigger(this._element,Ik).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Bm),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){H.off(window,Ke),H.off(this._dialog,Ke),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new UE({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new BE({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=ot.findOne(xk,this._dialog);e&&(e.scrollTop=0),Io(this._element),this._element.classList.add(Bm);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,H.trigger(this._element,Sk,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){H.on(this._element,Ok,t=>{if(t.key===Ak){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),H.on(window,Ck,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),H.on(this._element,Pk,t=>{H.one(this._element,Rk,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Um),this._resetAdjustments(),this._scrollBar.reset(),H.trigger(this._element,jE)})}_isAnimated(){return this._element.classList.contains(Dk)}_triggerBackdropTransition(){if(H.trigger(this._element,bk).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Mc)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Mc),this._queueCallback(()=>{this._element.classList.remove(Mc),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),r=e>0;if(r&&!t){const s=qe()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!r&&t){const s=qe()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const r=Gs.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](e)}})}}H.on(document,Nk,Lk,function(n){const t=ot.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),H.one(t,HE,s=>{s.defaultPrevented||H.one(t,jE,()=>{si(this)&&this.focus()})});const e=ot.findOne(kk);e&&Gs.getInstance(e).hide(),Gs.getOrCreateInstance(t).toggle(this)});$l(Gs);ze(Gs);const $k="offcanvas",Uk="bs.offcanvas",Hn=`.${Uk}`,WE=".data-api",Bk=`load${Hn}${WE}`,jk="Escape",jm="show",Hm="showing",Wm="hiding",Hk="offcanvas-backdrop",qE=".offcanvas.show",Wk=`show${Hn}`,qk=`shown${Hn}`,Kk=`hide${Hn}`,qm=`hidePrevented${Hn}`,KE=`hidden${Hn}`,zk=`resize${Hn}`,Gk=`click${Hn}${WE}`,Yk=`keydown.dismiss${Hn}`,Qk='[data-bs-toggle="offcanvas"]',Xk={backdrop:!0,keyboard:!0,scroll:!1},Jk={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Tr extends nn{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Xk}static get DefaultType(){return Jk}static get NAME(){return $k}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||H.trigger(this._element,Wk,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new xu().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Hm);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(jm),this._element.classList.remove(Hm),H.trigger(this._element,qk,{relatedTarget:t})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||H.trigger(this._element,Kk).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Wm),this._backdrop.hide();const e=()=>{this._element.classList.remove(jm,Wm),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new xu().reset(),H.trigger(this._element,KE)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){H.trigger(this._element,qm);return}this.hide()},e=!!this._config.backdrop;return new UE({className:Hk,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new BE({trapElement:this._element})}_addEventListeners(){H.on(this._element,Yk,t=>{if(t.key===jk){if(this._config.keyboard){this.hide();return}H.trigger(this._element,qm)}})}static jQueryInterface(t){return this.each(function(){const e=Tr.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}H.on(document,Gk,Qk,function(n){const t=ot.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Er(this))return;H.one(t,KE,()=>{si(this)&&this.focus()});const e=ot.findOne(qE);e&&e!==t&&Tr.getInstance(e).hide(),Tr.getOrCreateInstance(t).toggle(this)});H.on(window,Bk,()=>{for(const n of ot.find(qE))Tr.getOrCreateInstance(n).show()});H.on(window,zk,()=>{for(const n of ot.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Tr.getOrCreateInstance(n).hide()});$l(Tr);ze(Tr);const Zk=/^aria-[\w-]*$/i,zE={"*":["class","dir","id","lang","role",Zk],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},tV=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),eV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,nV=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?tV.has(e)?!!eV.test(n.nodeValue):!0:t.filter(r=>r instanceof RegExp).some(r=>r.test(e))};function rV(n,t,e){if(!n.length)return n;if(e&&typeof e=="function")return e(n);const s=new window.DOMParser().parseFromString(n,"text/html"),i=[].concat(...s.body.querySelectorAll("*"));for(const o of i){const l=o.nodeName.toLowerCase();if(!Object.keys(t).includes(l)){o.remove();continue}const c=[].concat(...o.attributes),h=[].concat(t["*"]||[],t[l]||[]);for(const f of c)nV(f,h)||o.removeAttribute(f.nodeName)}return s.body.innerHTML}const sV="TemplateFactory",iV={allowList:zE,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},oV={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},aV={entry:"(string|element|function|null)",selector:"(string|element)"};class lV extends bo{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return iV}static get DefaultType(){return oV}static get NAME(){return sV}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[s,i]of Object.entries(this._config.content))this._setContent(t,i,s);const e=t.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&e.classList.add(...r.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,r]of Object.entries(t))super._typeCheckConfig({selector:e,entry:r},aV)}_setContent(t,e,r){const s=ot.findOne(r,t);if(s){if(e=this._resolvePossibleFunction(e),!e){s.remove();return}if(Dn(e)){this._putElementInTemplate(vr(e),s);return}if(this._config.html){s.innerHTML=this._maybeSanitize(e);return}s.textContent=e}}_maybeSanitize(t){return this._config.sanitize?rV(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Re(t,[void 0,this])}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const cV="tooltip",uV=new Set(["sanitize","allowList","sanitizeFn"]),Fc="fade",hV="modal",sa="show",fV=".tooltip-inner",Km=`.${hV}`,zm="hide.bs.modal",Ii="hover",$c="focus",dV="click",pV="manual",mV="hide",gV="hidden",_V="show",yV="shown",vV="inserted",EV="click",TV="focusin",wV="focusout",AV="mouseenter",IV="mouseleave",bV={AUTO:"auto",TOP:"top",RIGHT:qe()?"left":"right",BOTTOM:"bottom",LEFT:qe()?"right":"left"},SV={allowList:zE,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},CV={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class oi extends nn{constructor(t,e){if(typeof EE>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return SV}static get DefaultType(){return CV}static get NAME(){return cV}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),H.off(this._element.closest(Km),zm,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=H.trigger(this._element,this.constructor.eventName(_V)),r=(AE(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!r)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(s),H.trigger(this._element,this.constructor.eventName(vV))),this._popper=this._createPopper(s),s.classList.add(sa),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))H.on(l,"mouseover",nl);const o=()=>{H.trigger(this._element,this.constructor.eventName(yV)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||H.trigger(this._element,this.constructor.eventName(mV)).defaultPrevented)return;if(this._getTipElement().classList.remove(sa),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))H.off(s,"mouseover",nl);this._activeTrigger[dV]=!1,this._activeTrigger[$c]=!1,this._activeTrigger[Ii]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),H.trigger(this._element,this.constructor.eventName(gV)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(Fc,sa),e.classList.add(`bs-${this.constructor.NAME}-auto`);const r=d1(this.constructor.NAME).toString();return e.setAttribute("id",r),this._isAnimated()&&e.classList.add(Fc),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new lV({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[fV]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Fc)}_isShown(){return this.tip&&this.tip.classList.contains(sa)}_createPopper(t){const e=Re(this._config.placement,[this,t,this._element]),r=bV[e.toUpperCase()];return rf(this._element,t,this._getPopperConfig(r))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Re(t,[this._element,this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...e,...Re(this._config.popperConfig,[void 0,e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")H.on(this._element,this.constructor.eventName(EV),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(e!==pV){const r=e===Ii?this.constructor.eventName(AV):this.constructor.eventName(TV),s=e===Ii?this.constructor.eventName(IV):this.constructor.eventName(wV);H.on(this._element,r,this._config.selector,i=>{const o=this._initializeOnDelegatedTarget(i);o._activeTrigger[i.type==="focusin"?$c:Ii]=!0,o._enter()}),H.on(this._element,s,this._config.selector,i=>{const o=this._initializeOnDelegatedTarget(i);o._activeTrigger[i.type==="focusout"?$c:Ii]=o._element.contains(i.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},H.on(this._element.closest(Km),zm,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=kn.getDataAttributes(this._element);for(const r of Object.keys(e))uV.has(r)&&delete e[r];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:vr(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,r]of Object.entries(this._config))this.constructor.Default[e]!==r&&(t[e]=r);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=oi.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}ze(oi);const RV="popover",PV=".popover-header",OV=".popover-body",NV={...oi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},DV={...oi.DefaultType,content:"(null|string|element|function)"};class lf extends oi{static get Default(){return NV}static get DefaultType(){return DV}static get NAME(){return RV}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[PV]:this._getTitle(),[OV]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=lf.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}ze(lf);const kV="scrollspy",VV="bs.scrollspy",cf=`.${VV}`,xV=".data-api",LV=`activate${cf}`,Gm=`click${cf}`,MV=`load${cf}${xV}`,FV="dropdown-item",as="active",$V='[data-bs-spy="scroll"]',Uc="[href]",UV=".nav, .list-group",Ym=".nav-link",BV=".nav-item",jV=".list-group-item",HV=`${Ym}, ${BV} > ${Ym}, ${jV}`,WV=".dropdown",qV=".dropdown-toggle",KV={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},zV={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class jl extends nn{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return KV}static get DefaultType(){return zV}static get NAME(){return kV}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=vr(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(H.off(this._config.target,Gm),H.on(this._config.target,Gm,Uc,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const r=this._rootElement||window,s=e.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:s,behavior:"smooth"});return}r.scrollTop=s}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=o=>this._targetLinks.get(`#${o.target.id}`),r=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(e(o))},s=(this._rootElement||document.documentElement).scrollTop,i=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const l=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&l){if(r(o),!s)return;continue}!i&&!l&&r(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=ot.find(Uc,this._config.target);for(const e of t){if(!e.hash||Er(e))continue;const r=ot.findOne(decodeURI(e.hash),this._element);si(r)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,r))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(as),this._activateParents(t),H.trigger(this._element,LV,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(FV)){ot.findOne(qV,t.closest(WV)).classList.add(as);return}for(const e of ot.parents(t,UV))for(const r of ot.prev(e,HV))r.classList.add(as)}_clearActiveClass(t){t.classList.remove(as);const e=ot.find(`${Uc}.${as}`,t);for(const r of e)r.classList.remove(as)}static jQueryInterface(t){return this.each(function(){const e=jl.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}H.on(window,MV,()=>{for(const n of ot.find($V))jl.getOrCreateInstance(n)});ze(jl);const GV="tab",YV="bs.tab",ts=`.${YV}`,QV=`hide${ts}`,XV=`hidden${ts}`,JV=`show${ts}`,ZV=`shown${ts}`,tx=`click${ts}`,ex=`keydown${ts}`,nx=`load${ts}`,rx="ArrowLeft",Qm="ArrowRight",sx="ArrowUp",Xm="ArrowDown",Bc="Home",Jm="End",Mr="active",Zm="fade",jc="show",ix="dropdown",GE=".dropdown-toggle",ox=".dropdown-menu",Hc=`:not(${GE})`,ax='.list-group, .nav, [role="tablist"]',lx=".nav-item, .list-group-item",cx=`.nav-link${Hc}, .list-group-item${Hc}, [role="tab"]${Hc}`,YE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Wc=`${cx}, ${YE}`,ux=`.${Mr}[data-bs-toggle="tab"], .${Mr}[data-bs-toggle="pill"], .${Mr}[data-bs-toggle="list"]`;class Ys extends nn{constructor(t){super(t),this._parent=this._element.closest(ax),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),H.on(this._element,ex,e=>this._keydown(e)))}static get NAME(){return GV}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),r=e?H.trigger(e,QV,{relatedTarget:t}):null;H.trigger(t,JV,{relatedTarget:e}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(Mr),this._activate(ot.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(jc);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),H.trigger(t,ZV,{relatedTarget:e})};this._queueCallback(r,t,t.classList.contains(Zm))}_deactivate(t,e){if(!t)return;t.classList.remove(Mr),t.blur(),this._deactivate(ot.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(jc);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),H.trigger(t,XV,{relatedTarget:e})};this._queueCallback(r,t,t.classList.contains(Zm))}_keydown(t){if(![rx,Qm,sx,Xm,Bc,Jm].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(s=>!Er(s));let r;if([Bc,Jm].includes(t.key))r=e[t.key===Bc?0:e.length-1];else{const s=[Qm,Xm].includes(t.key);r=sf(e,t.target,s,!0)}r&&(r.focus({preventScroll:!0}),Ys.getOrCreateInstance(r).show())}_getChildren(){return ot.find(Wc,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const r of e)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),r=this._getOuterElement(t);t.setAttribute("aria-selected",e),r!==t&&this._setAttributeIfNotExists(r,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=ot.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const r=this._getOuterElement(t);if(!r.classList.contains(ix))return;const s=(i,o)=>{const l=ot.findOne(i,r);l&&l.classList.toggle(o,e)};s(GE,Mr),s(ox,jc),r.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,r){t.hasAttribute(e)||t.setAttribute(e,r)}_elemIsActive(t){return t.classList.contains(Mr)}_getInnerElement(t){return t.matches(Wc)?t:ot.findOne(Wc,t)}_getOuterElement(t){return t.closest(lx)||t}static jQueryInterface(t){return this.each(function(){const e=Ys.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}H.on(document,tx,YE,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Er(this)&&Ys.getOrCreateInstance(this).show()});H.on(window,nx,()=>{for(const n of ot.find(ux))Ys.getOrCreateInstance(n)});ze(Ys);const hx="toast",fx="bs.toast",br=`.${fx}`,dx=`mouseover${br}`,px=`mouseout${br}`,mx=`focusin${br}`,gx=`focusout${br}`,_x=`hide${br}`,yx=`hidden${br}`,vx=`show${br}`,Ex=`shown${br}`,Tx="fade",tg="hide",ia="show",oa="showing",wx={animation:"boolean",autohide:"boolean",delay:"number"},Ax={animation:!0,autohide:!0,delay:5e3};class Hl extends nn{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ax}static get DefaultType(){return wx}static get NAME(){return hx}show(){if(H.trigger(this._element,vx).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Tx);const e=()=>{this._element.classList.remove(oa),H.trigger(this._element,Ex),this._maybeScheduleHide()};this._element.classList.remove(tg),Io(this._element),this._element.classList.add(ia,oa),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||H.trigger(this._element,_x).defaultPrevented)return;const e=()=>{this._element.classList.add(tg),this._element.classList.remove(oa,ia),H.trigger(this._element,yx)};this._element.classList.add(oa),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ia),super.dispose()}isShown(){return this._element.classList.contains(ia)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){H.on(this._element,dx,t=>this._onInteraction(t,!0)),H.on(this._element,px,t=>this._onInteraction(t,!1)),H.on(this._element,mx,t=>this._onInteraction(t,!0)),H.on(this._element,gx,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=Hl.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}$l(Hl);ze(Hl);const QE=FA(WA);QE.use(AN);QE.mount("#app");
